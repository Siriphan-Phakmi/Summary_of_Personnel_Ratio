"use strict";exports.id=168,exports.ids=[168],exports.modules={14188:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(60687),r=a(39245),l=a(85550),n=a(43210);let i=({selectedDate:e,onDateSelect:t,datesWithData:a=[],showCalendar:i,setShowCalendar:d,thaiDate:o,variant:c="form",theme:u="light"})=>{let[m,g]=(0,n.useState)(!1),h="function"==typeof d,x=void 0!==i?i:m,b=e=>{h?d(e):(g(e),console.warn("setShowCalendar is not a function in CalendarSection, using local state instead"))};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:`${"dark"===u?"bg-gray-800/60 border border-gray-700":"bg-white/60"} backdrop-blur-sm rounded-xl p-3 shadow-sm hover:shadow-md transition-all`,children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{b(!x)},className:`w-full md:w-auto px-4 py-2 ${"dark"===u?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700":"bg-gradient-to-r from-[#0ab4ab] to-blue-500 hover:from-[#0ab4ab]/90 hover:to-blue-600"} text-white rounded-lg transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#0ab4ab] focus:ring-opacity-50 shadow-md text-sm`,children:x?"ซ่อนปฏิทิน":"เลือกวันที่"}),(0,s.jsxs)("div",{className:`${"dark"===u?"text-gray-200":"text-gray-700"} space-y-0.5 text-center md:text-left text-sm`,children:[(0,s.jsxs)("div",{className:"font-medium text-[#0ab4ab]",children:["วันที่ปัจจุบัน : ",(0,r.mI)(new Date)]}),(0,s.jsxs)("div",{className:`${"dark"===u?"text-blue-400":"text-blue-600"}`,children:["วันที่เลือก : ",o]})]})]})}),x&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,s.jsx)("div",{className:`relative ${"dark"===u?"bg-gray-800":"bg-white"} rounded-2xl shadow-2xl transform transition-all`,children:(0,s.jsx)(l.A,{selectedDate:e,onDateSelect:t,onClickOutside:()=>{b(!1)},datesWithData:a,variant:c,theme:u})})})]})}},16509:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(60687),r=a(43210),l=a(16189),n=a(84623);function i({children:e,requiredRole:t=null}){let{user:a,loading:i,isAuthenticated:d}=(0,n.A)();(0,l.useRouter)();let[o,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!0),[g,h]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"min-h-screen"})}a(36006)},36006:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(60687),r=a(43210),l=a(30474);let n=({timeout:e=15e3,onTimeout:t,showRetry:a=!1})=>{let[n,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let a=setTimeout(()=>{i(!0),t&&t()},e);return()=>clearTimeout(a)},[e,t]),(0,s.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-white via-blue-50 to-[#0ab4ab]/10 flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"bg-white/80 p-8 rounded-2xl shadow-xl backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"relative w-32 h-32 mx-auto mb-4",children:(0,s.jsx)(l.default,{src:"/images/BPK.jpg",alt:"BPK Loading",fill:!0,style:{objectFit:"contain"},className:`rounded-lg ${n?"":"animate-pulse"}`,priority:!0})}),(0,s.jsx)("div",{className:"flex flex-col items-center",children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-red-600 font-medium mb-2",children:"การโหลดข้อมูลใช้เวลานานเกินไป"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"กรุณาตรวจสอบการเชื่อมต่อและลองใหม่อีกครั้ง"}),a&&(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#0ab4ab] text-white rounded-lg hover:bg-[#098f88] transition-colors",children:"ลองใหม่"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0ab4ab] mb-3"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"กำลังโหลดข้อมูล..."}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"โปรดรอสักครู่"})]})})]})})})}},39245:(e,t,a)=>{a.d(t,{Lg:()=>r,Ol:()=>l,RB:()=>d,S2:()=>i,bU:()=>n,mI:()=>s});let s=e=>{if(!e)return"คุณยังไม่ได้เลือกวันที่";let t=new Date(e),a=t.getDate(),s=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"][t.getMonth()],r=t.getFullYear()+543;return`${a} ${s} ${r}`},r=()=>s(new Date),l=e=>{let t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},n=e=>{let t=new Date(e),a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${a}-${s}-${r}`},i=()=>["January","February","March","April","May","June","July","August","September","October","November","December"],d=e=>{let t=[];for(let e=2e3;e<=4e3;e++)t.push(e);return t}},85550:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(60687),r=a(43210),l=a(39245),n=a(77841),i=a(21123);let d=({selectedDate:e,onDateSelect:t,onClickOutside:a,datesWithData:d=[],variant:o="form"})=>{let c;let[u,m]=(0,r.useState)(e||new Date),[g,h]=(0,r.useState)(e||new Date),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{if("form"===o){let e=new Date;h(e),m(e)}},[o]),(0,r.useEffect)(()=>{e&&(m(e),"form"!==o&&h(e))},[e,o]),(0,r.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&a&&a()},t=e=>{e.preventDefault(),e.stopPropagation()},s=window.innerWidth-document.documentElement.clientWidth,r={overflow:window.getComputedStyle(document.body).overflow,paddingRight:window.getComputedStyle(document.body).paddingRight};return document.addEventListener("mousedown",e),document.addEventListener("wheel",t,{passive:!1}),document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("scroll",t,{passive:!1}),document.body.style.overflow="hidden",document.body.style.paddingRight=`${s}px`,()=>{document.removeEventListener("mousedown",e),document.removeEventListener("wheel",t),document.removeEventListener("touchmove",t),document.removeEventListener("scroll",t),document.body.style.overflow=r.overflow,document.body.style.paddingRight=r.paddingRight}},[a]);let b=(0,l.S2)(),f=new Date().getFullYear(),v=(0,l.RB)(f),p=(e,s)=>{if(!s)return;let r=new Date(g.getFullYear(),g.getMonth(),e);m(r),"function"==typeof t&&t(r),"function"==typeof a&&a()};new Date().setHours(0,0,0,0);let w=e=>{let t=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0],a=d.find(e=>e.date===t);return a?{hasData:!0,isComplete:a.isComplete,shifts:a.shifts}:{hasData:!1,isComplete:!1,shifts:[]}},j=t=>{let{hasData:a,isComplete:s,shifts:r}=w(t),l=t.toDateString()===new Date().toDateString(),n=e&&t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear(),i="hover:bg-gray-100",d="text-gray-700",o="";return l&&(i="bg-[#0ab4ab]",d="text-white"),a&&(s?(i="bg-[#0ab4ab]/10 hover:bg-[#0ab4ab]/20",o="absolute top-1 right-1 w-1.5 h-1.5 rounded-full bg-[#0ab4ab]"):(i="bg-orange-100 hover:bg-orange-200",o="absolute top-1 right-1 w-1.5 h-1.5 rounded-full bg-orange-500")),n&&!l&&(i+=" ring-2 ring-[#0ab4ab]"),!(t<new Date(new Date().setHours(0,0,0,0)))||l||n||(d="text-gray-400"),{cellClass:"p-1 text-center",dayClass:`relative w-10 h-10 flex items-center justify-center rounded-full transition-all duration-200 ${i} ${d} font-medium cursor-pointer`,dotClass:o}};return(0,s.jsx)("div",{ref:x,className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 z-[9999]",onTouchMove:e=>e.preventDefault(),onScroll:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("div",{className:"text-lg font-medium mb-2",children:"เลือกวันที่"}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["วันที่ปัจจุบัน: ",(c=new Date,(0,n.A)(c,"dd MMMM yyyy",{locale:i.A}))]})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4 mb-4",children:[(0,s.jsx)("select",{value:g.getMonth(),onChange:e=>{let t=new Date(g);if(t.setMonth(parseInt(e.target.value)),h(t),"form"===o){let e=new Date;t.setDate(e.getDate()),h(t)}},className:"px-3 py-1 border rounded-lg text-gray-700",children:b.map((e,t)=>(0,s.jsx)("option",{value:t,children:e},e))}),(0,s.jsx)("select",{value:g.getFullYear(),onChange:e=>{let t=new Date(g);if(t.setFullYear(parseInt(e.target.value)),h(t),"form"===o){let e=new Date;t.setDate(e.getDate()),h(t)}},className:"px-3 py-1 border rounded-lg text-gray-700",children:v.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center",children:["อา","จ","อ","พ","พฤ","ศ","ส"].map(e=>(0,s.jsx)("div",{className:"text-sm font-medium text-gray-600",children:e},e))}),(0,s.jsx)("table",{className:"w-full",children:(0,s.jsx)("tbody",{children:(()=>{let e=g.getFullYear(),t=g.getMonth(),a=new Date(e,t,1),r=new Date(e,t+1,0).getDate(),l=a.getDay(),n=new Date(e,t,0).getDate(),i=[],d=[];for(let a=0;a<l;a++){let r=n-l+a+1,{cellClass:i,dayClass:o,dotClass:c}=j(new Date(e,t-1,r));d.push((0,s.jsx)("td",{className:i,children:(0,s.jsxs)("div",{onClick:()=>p(r,!1),className:`${o} opacity-50`,children:[r,c&&(0,s.jsx)("div",{className:c})]})},`prev-${r}`))}for(let a=1;a<=r;a++){let{cellClass:r,dayClass:l,dotClass:n}=j(new Date(e,t,a));d.push((0,s.jsx)("td",{className:r,children:(0,s.jsxs)("div",{onClick:()=>p(a,!0),className:l,children:[a,n&&(0,s.jsx)("div",{className:n})]})},a)),7===d.length&&(i.push((0,s.jsx)("tr",{children:d},`week-${i.length}`)),d=[])}if(d.length>0){let a=1;for(;d.length<7;){let{cellClass:r,dayClass:l,dotClass:n}=j(new Date(e,t+1,a));d.push((0,s.jsx)("td",{className:r,children:(0,s.jsxs)("div",{onClick:()=>p(a,!1),className:`${l} opacity-50`,children:[a,n&&(0,s.jsx)("div",{className:n})]})},`next-${a}`)),a++}i.push((0,s.jsx)("tr",{children:d},`week-${i.length}`))}return i})()})}),(0,s.jsxs)("div",{className:"mt-4 flex justify-center gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#0ab4ab]"}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"วันที่ปัจจุบัน"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300"}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"บันทึกครบ 2 กะ"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-300"}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"บันทึกไม่ครบ"})]})]})]})})}}};