"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_app_context_AuthContext_js"],{

/***/ "(app-pages-browser)/./app/context/AuthContext.js":
/*!************************************!*\
  !*** ./app/context/AuthContext.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/firebase */ \"(app-pages-browser)/./app/lib/firebase.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dataAccess */ \"(app-pages-browser)/./app/lib/dataAccess.js\");\n/* harmony import */ var _utils_sessionRecording__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/sessionRecording */ \"(app-pages-browser)/./app/utils/sessionRecording.js\");\n/* __next_internal_client_entry_do_not_use__ useAuth,AuthProvider auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n// ระยะเวลาที่ session token หมดอายุ (20 นาที)\nconst SESSION_EXPIRY_TIME = 20 * 60 * 1000; // 20 นาที ในมิลลิวินาที\n// สร้าง session token แบบสุ่ม\nconst generateSessionToken = ()=>{\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15) + Date.now().toString(36);\n};\n// Initialize with default values including the function signatures\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    user: null,\n    loading: true,\n    isAuthenticated: false,\n    authError: null,\n    login: async (username, password)=>{},\n    logout: ()=>{},\n    clearAuthError: ()=>{}\n});\nconst useAuth = ()=>{\n    _s();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nfunction AuthProvider(param) {\n    let { children } = param;\n    _s1();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [authError, setAuthError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Add function to clear auth errors\n    const clearAuthError = ()=>{\n        setAuthError(null);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            // Add timeout to prevent indefinite loading\n            const loadingTimeout = setTimeout({\n                \"AuthProvider.useEffect.loadingTimeout\": ()=>{\n                    if (loading) {\n                        console.log('Auth loading timeout reached');\n                        setLoading(false);\n                        setAuthError('การตรวจสอบสถานะผู้ใช้ใช้เวลานานเกินไป กรุณาลองใหม่อีกครั้ง');\n                    }\n                }\n            }[\"AuthProvider.useEffect.loadingTimeout\"], 10000); // 10 seconds timeout\n            return ({\n                \"AuthProvider.useEffect\": ()=>clearTimeout(loadingTimeout)\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], [\n        loading\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            // Check if user is stored in sessionStorage\n            const checkSessionStorage = {\n                \"AuthProvider.useEffect.checkSessionStorage\": ()=>{\n                    console.log('Checking sessionStorage for user data');\n                    try {\n                        // ตรวจสอบว่า sessionStorage พร้อมใช้งานหรือไม่\n                        if ( false || !window.sessionStorage) {\n                            console.log('sessionStorage is not available');\n                            setLoading(false);\n                            return;\n                        }\n                        const storedUser = sessionStorage.getItem('user');\n                        console.log('User data in sessionStorage:', storedUser ? 'Found' : 'Not found');\n                        if (storedUser) {\n                            try {\n                                const userData = JSON.parse(storedUser);\n                                console.log('Successfully parsed user data');\n                                // ตรวจสอบข้อมูลพื้นฐาน\n                                if (userData && userData.uid && userData.username) {\n                                    console.log('Setting user state with data from sessionStorage');\n                                    setUser(userData);\n                                    // ไม่ต้องตรวจสอบ session อีกต่อไป\n                                    setLoading(false);\n                                } else {\n                                    console.log('Invalid user data, missing required fields');\n                                    sessionStorage.removeItem('user');\n                                    setLoading(false);\n                                }\n                            } catch (parseError) {\n                                console.error('Error parsing user data from sessionStorage:', parseError);\n                                // ล้างข้อมูลที่อาจเสียหาย\n                                sessionStorage.removeItem('user');\n                                setAuthError('ข้อมูลการเข้าสู่ระบบไม่ถูกต้อง กรุณาเข้าสู่ระบบใหม่');\n                                setLoading(false);\n                            }\n                        } else {\n                            // ไม่พบข้อมูลผู้ใช้ใน sessionStorage\n                            console.log('No user data found in sessionStorage');\n                            setLoading(false);\n                        }\n                    } catch (error) {\n                        console.error('Error checking sessionStorage:', error);\n                        setAuthError(error.message || 'เกิดข้อผิดพลาดในการตรวจสอบข้อมูลผู้ใช้');\n                        setLoading(false);\n                    }\n                }\n            }[\"AuthProvider.useEffect.checkSessionStorage\"];\n            // หน่วงเวลาเล็กน้อยเพื่อให้แน่ใจว่า client side hydration เสร็จสมบูรณ์\n            const timer = setTimeout({\n                \"AuthProvider.useEffect.timer\": ()=>{\n                    checkSessionStorage();\n                }\n            }[\"AuthProvider.useEffect.timer\"], 100);\n            return ({\n                \"AuthProvider.useEffect\": ()=>clearTimeout(timer)\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], []);\n    // ติดตามการเปลี่ยนแปลงของ session\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            // ยกเลิกการติดตาม session เนื่องจากอาจทำให้เกิดปัญหา\n            console.log('Session tracking disabled for troubleshooting');\n            // แทนที่จะใช้ listener ให้ใช้ setInterval ตรวจสอบข้อมูลผู้ใช้เป็นระยะ\n            const checkInterval = setInterval({\n                \"AuthProvider.useEffect.checkInterval\": ()=>{\n                    if (user) {\n                        // ตรวจสอบว่า user ยังมีอยู่ใน sessionStorage หรือไม่\n                        const storedUser = sessionStorage.getItem('user');\n                        if (!storedUser) {\n                            console.log('User data removed from sessionStorage, logging out');\n                            setUser(null);\n                        }\n                    }\n                }\n            }[\"AuthProvider.useEffect.checkInterval\"], 30000); // ตรวจสอบทุก 30 วินาที\n            return ({\n                \"AuthProvider.useEffect\": ()=>{\n                    clearInterval(checkInterval);\n                }\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], [\n        user\n    ]);\n    // ฟังก์ชันตรวจสอบความถูกต้องของ session (แบบง่าย)\n    const validateUserSession = async (user)=>{\n        try {\n            console.log('Basic user validation');\n            // ตรวจสอบเฉพาะข้อมูลพื้นฐาน\n            if (!user || !user.uid || !user.username) {\n                console.error('Invalid user data - missing required fields');\n                logout();\n                return false;\n            }\n            return true;\n        } catch (error) {\n            console.error('Error in validateUserSession:', error);\n            setLoading(false);\n            return false;\n        }\n    };\n    // Login function - simplified version\n    const login = async (username, password)=>{\n        setLoading(true);\n        setAuthError(null);\n        try {\n            console.log('[DEBUG-AUTH] Attempting login with username:', username);\n            console.log('[DEBUG-AUTH] Password length:', (password === null || password === void 0 ? void 0 : password.length) || 0);\n            // ตรวจสอบค่า input\n            if (!(username === null || username === void 0 ? void 0 : username.trim()) || !(password === null || password === void 0 ? void 0 : password.trim())) {\n                console.error('[DEBUG-AUTH] Empty username or password');\n                setAuthError('กรุณากรอกชื่อผู้ใช้และรหัสผ่าน');\n                setLoading(false);\n                return {\n                    success: false,\n                    error: 'กรุณากรอกชื่อผู้ใช้และรหัสผ่าน'\n                };\n            }\n            // เรียกใช้ฟังก์ชัน loginUser ที่ปรับปรุงใหม่\n            const result = await (0,_lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__.loginUser)(username, password);\n            // ตรวจสอบผลลัพธ์\n            if (!result || !result.success) {\n                const errorMsg = (result === null || result === void 0 ? void 0 : result.error) || 'ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง';\n                console.error('[DEBUG-AUTH] Login failed:', errorMsg);\n                setAuthError(errorMsg);\n                setLoading(false);\n                return result || {\n                    success: false,\n                    error: errorMsg\n                };\n            }\n            console.log('[DEBUG-AUTH] Login successful, user data:', {\n                uid: result.user.uid,\n                username: result.user.username,\n                role: result.user.role\n            });\n            // ตรวจสอบว่ามีข้อมูลผู้ใช้หรือไม่\n            if (!result.user || !result.user.uid) {\n                console.error('[DEBUG-AUTH] User data is incomplete');\n                setAuthError('ข้อมูลผู้ใช้ไม่สมบูรณ์ โปรดติดต่อผู้ดูแลระบบ');\n                setLoading(false);\n                return {\n                    success: false,\n                    error: 'ข้อมูลผู้ใช้ไม่สมบูรณ์'\n                };\n            }\n            // บันทึกข้อมูลใน sessionStorage\n            try {\n                const userData = JSON.stringify(result.user);\n                sessionStorage.setItem('user', userData);\n                console.log('[DEBUG-AUTH] User data saved to sessionStorage, length:', userData.length);\n            } catch (storageError) {\n                console.error('[DEBUG-AUTH] Error saving to sessionStorage:', storageError);\n            }\n            // อัปเดตสถานะผู้ใช้ใน state\n            setUser(result.user);\n            // บันทึกการเข้าสู่ระบบ\n            try {\n                (0,_utils_sessionRecording__WEBPACK_IMPORTED_MODULE_5__.logEvent)('user_login', {\n                    userId: result.user.uid,\n                    username: result.user.username,\n                    role: result.user.role,\n                    timestamp: new Date().toISOString()\n                });\n            } catch (logError) {\n                console.warn('[DEBUG-AUTH] Error logging login event:', logError);\n            }\n            console.log('[DEBUG-AUTH] Login process complete, returning result');\n            setLoading(false);\n            return result;\n        } catch (error) {\n            console.error('[DEBUG-AUTH] Login error in AuthContext:', error);\n            const errorMsg = error.message || 'เกิดข้อผิดพลาดในการเข้าสู่ระบบ กรุณาลองใหม่อีกครั้ง';\n            setAuthError(errorMsg);\n            setLoading(false);\n            return {\n                success: false,\n                error: errorMsg\n            };\n        }\n    };\n    // Logout function (simplified)\n    const logout = ()=>{\n        try {\n            console.log('Logging out user');\n            // ล้างข้อมูลใน sessionStorage\n            sessionStorage.removeItem('user');\n            // รีเซ็ต state\n            setUser(null);\n            setAuthError(null);\n            console.log('Logged out successfully');\n            // ไม่ต้องอัปเดตข้อมูลใน Firestore เพื่อลดความซับซ้อน\n            // นำทางไปยังหน้า login หลังจากการออกจากระบบ\n            try {\n                window.location.href = '/page/login';\n            } catch (navError) {\n                console.error('Error navigating after logout:', navError);\n            }\n        } catch (error) {\n            console.error('Logout error:', error);\n        }\n    };\n    const contextValue = {\n        user,\n        loading,\n        isAuthenticated: !!user,\n        authError,\n        login,\n        logout,\n        clearAuthError\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: contextValue,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\B_SIR\\\\OneDrive\\\\เดสก์ท็อป\\\\Active 14-3-2025\\\\Summary_of_Personnel_Ratio\\\\app\\\\context\\\\AuthContext.js\",\n        lineNumber: 284,\n        columnNumber: 5\n    }, this);\n}\n_s1(AuthProvider, \"76MNfp0tazfQpgpif3PspRKGE6w=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb250ZXh0L0F1dGhDb250ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQ3VFO0FBQzVCO0FBQ3lGO0FBQ2xEO0FBQzdCO0FBQ2pCO0FBRXBDLDhDQUE4QztBQUM5QyxNQUFNc0Isc0JBQXNCLEtBQUssS0FBSyxNQUFNLHdCQUF3QjtBQUVwRSw4QkFBOEI7QUFDOUIsTUFBTUMsdUJBQXVCO0lBQzNCLE9BQU9DLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLFNBQVMsQ0FBQyxHQUFHLE1BQ3hDSCxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUMsR0FBRyxNQUN4Q0MsS0FBS0MsR0FBRyxHQUFHSCxRQUFRLENBQUM7QUFDN0I7QUFFQSxtRUFBbUU7QUFDbkUsTUFBTUksNEJBQWM5QixvREFBYUEsQ0FBQztJQUNoQytCLE1BQU07SUFDTkMsU0FBUztJQUNUQyxpQkFBaUI7SUFDakJDLFdBQVc7SUFDWEMsT0FBTyxPQUFPQyxVQUFVQyxZQUFjO0lBQ3RDQyxRQUFRLEtBQU87SUFDZkMsZ0JBQWdCLEtBQU87QUFDekI7QUFFTyxNQUFNQyxVQUFVOztJQUFNdkMsT0FBQUEsaURBQVVBLENBQUM2QjtBQUFXLEVBQUU7R0FBeENVO0FBRU4sU0FBU0MsYUFBYSxLQUFZO1FBQVosRUFBRUMsUUFBUSxFQUFFLEdBQVo7O0lBQzNCLE1BQU0sQ0FBQ1gsTUFBTVksUUFBUSxHQUFHekMsK0NBQVFBLENBQUM7SUFDakMsTUFBTSxDQUFDOEIsU0FBU1ksV0FBVyxHQUFHMUMsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDZ0MsV0FBV1csYUFBYSxHQUFHM0MsK0NBQVFBLENBQUM7SUFFM0Msb0NBQW9DO0lBQ3BDLE1BQU1xQyxpQkFBaUI7UUFDckJNLGFBQWE7SUFDZjtJQUVBMUMsZ0RBQVNBO2tDQUFDO1lBQ1IsNENBQTRDO1lBQzVDLE1BQU0yQyxpQkFBaUJDO3lEQUFXO29CQUNoQyxJQUFJZixTQUFTO3dCQUNYZ0IsUUFBUUMsR0FBRyxDQUFDO3dCQUNaTCxXQUFXO3dCQUNYQyxhQUFhO29CQUNmO2dCQUNGO3dEQUFHLFFBQVEscUJBQXFCO1lBRWhDOzBDQUFPLElBQU1LLGFBQWFKOztRQUM1QjtpQ0FBRztRQUFDZDtLQUFRO0lBRVo3QixnREFBU0E7a0NBQUM7WUFDUiw0Q0FBNEM7WUFDNUMsTUFBTWdEOzhEQUFzQjtvQkFDMUJILFFBQVFDLEdBQUcsQ0FBQztvQkFDWixJQUFJO3dCQUNGLCtDQUErQzt3QkFDL0MsSUFBSSxNQUE2QixJQUFJLENBQUNHLE9BQU9DLGNBQWMsRUFBRTs0QkFDM0RMLFFBQVFDLEdBQUcsQ0FBQzs0QkFDWkwsV0FBVzs0QkFDWDt3QkFDRjt3QkFFQSxNQUFNVSxhQUFhRCxlQUFlRSxPQUFPLENBQUM7d0JBQzFDUCxRQUFRQyxHQUFHLENBQUMsZ0NBQWdDSyxhQUFhLFVBQVU7d0JBRW5FLElBQUlBLFlBQVk7NEJBQ2QsSUFBSTtnQ0FDRixNQUFNRSxXQUFXQyxLQUFLQyxLQUFLLENBQUNKO2dDQUM1Qk4sUUFBUUMsR0FBRyxDQUFDO2dDQUVaLHVCQUF1QjtnQ0FDdkIsSUFBSU8sWUFBWUEsU0FBU0csR0FBRyxJQUFJSCxTQUFTcEIsUUFBUSxFQUFFO29DQUNqRFksUUFBUUMsR0FBRyxDQUFDO29DQUNaTixRQUFRYTtvQ0FDUixrQ0FBa0M7b0NBQ2xDWixXQUFXO2dDQUNiLE9BQU87b0NBQ0xJLFFBQVFDLEdBQUcsQ0FBQztvQ0FDWkksZUFBZU8sVUFBVSxDQUFDO29DQUMxQmhCLFdBQVc7Z0NBQ2I7NEJBQ0YsRUFBRSxPQUFPaUIsWUFBWTtnQ0FDbkJiLFFBQVFjLEtBQUssQ0FBQyxnREFBZ0REO2dDQUM5RCwwQkFBMEI7Z0NBQzFCUixlQUFlTyxVQUFVLENBQUM7Z0NBQzFCZixhQUFhO2dDQUNiRCxXQUFXOzRCQUNiO3dCQUNGLE9BQU87NEJBQ0wscUNBQXFDOzRCQUNyQ0ksUUFBUUMsR0FBRyxDQUFDOzRCQUNaTCxXQUFXO3dCQUNiO29CQUNGLEVBQUUsT0FBT2tCLE9BQU87d0JBQ2RkLFFBQVFjLEtBQUssQ0FBQyxrQ0FBa0NBO3dCQUNoRGpCLGFBQWFpQixNQUFNQyxPQUFPLElBQUk7d0JBQzlCbkIsV0FBVztvQkFDYjtnQkFDRjs7WUFFQSx1RUFBdUU7WUFDdkUsTUFBTW9CLFFBQVFqQjtnREFBVztvQkFDdkJJO2dCQUNGOytDQUFHO1lBRUg7MENBQU8sSUFBTUQsYUFBYWM7O1FBQzVCO2lDQUFHLEVBQUU7SUFFTCxrQ0FBa0M7SUFDbEM3RCxnREFBU0E7a0NBQUM7WUFDUixxREFBcUQ7WUFDckQ2QyxRQUFRQyxHQUFHLENBQUM7WUFFWixzRUFBc0U7WUFDdEUsTUFBTWdCLGdCQUFnQkM7d0RBQVk7b0JBQ2hDLElBQUluQyxNQUFNO3dCQUNSLHFEQUFxRDt3QkFDckQsTUFBTXVCLGFBQWFELGVBQWVFLE9BQU8sQ0FBQzt3QkFDMUMsSUFBSSxDQUFDRCxZQUFZOzRCQUNmTixRQUFRQyxHQUFHLENBQUM7NEJBQ1pOLFFBQVE7d0JBQ1Y7b0JBQ0Y7Z0JBQ0Y7dURBQUcsUUFBUSx1QkFBdUI7WUFFbEM7MENBQU87b0JBQ0x3QixjQUFjRjtnQkFDaEI7O1FBQ0Y7aUNBQUc7UUFBQ2xDO0tBQUs7SUFFVCxrREFBa0Q7SUFDbEQsTUFBTXFDLHNCQUFzQixPQUFPckM7UUFDakMsSUFBSTtZQUNGaUIsUUFBUUMsR0FBRyxDQUFDO1lBRVosNEJBQTRCO1lBQzVCLElBQUksQ0FBQ2xCLFFBQVEsQ0FBQ0EsS0FBSzRCLEdBQUcsSUFBSSxDQUFDNUIsS0FBS0ssUUFBUSxFQUFFO2dCQUN4Q1ksUUFBUWMsS0FBSyxDQUFDO2dCQUNkeEI7Z0JBQ0EsT0FBTztZQUNUO1lBRUEsT0FBTztRQUNULEVBQUUsT0FBT3dCLE9BQU87WUFDZGQsUUFBUWMsS0FBSyxDQUFDLGlDQUFpQ0E7WUFDL0NsQixXQUFXO1lBQ1gsT0FBTztRQUNUO0lBQ0Y7SUFFQSxzQ0FBc0M7SUFDdEMsTUFBTVQsUUFBUSxPQUFPQyxVQUFVQztRQUM3Qk8sV0FBVztRQUNYQyxhQUFhO1FBRWIsSUFBSTtZQUNGRyxRQUFRQyxHQUFHLENBQUMsZ0RBQWdEYjtZQUM1RFksUUFBUUMsR0FBRyxDQUFDLGlDQUFpQ1osQ0FBQUEscUJBQUFBLCtCQUFBQSxTQUFVZ0MsTUFBTSxLQUFJO1lBRWpFLG1CQUFtQjtZQUNuQixJQUFJLEVBQUNqQyxxQkFBQUEsK0JBQUFBLFNBQVVrQyxJQUFJLE9BQU0sRUFBQ2pDLHFCQUFBQSwrQkFBQUEsU0FBVWlDLElBQUksS0FBSTtnQkFDMUN0QixRQUFRYyxLQUFLLENBQUM7Z0JBQ2RqQixhQUFhO2dCQUNiRCxXQUFXO2dCQUNYLE9BQU87b0JBQ0wyQixTQUFTO29CQUNUVCxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSw2Q0FBNkM7WUFDN0MsTUFBTVUsU0FBUyxNQUFNeEQsMERBQVNBLENBQUNvQixVQUFVQztZQUV6QyxpQkFBaUI7WUFDakIsSUFBSSxDQUFDbUMsVUFBVSxDQUFDQSxPQUFPRCxPQUFPLEVBQUU7Z0JBQzlCLE1BQU1FLFdBQVdELENBQUFBLG1CQUFBQSw2QkFBQUEsT0FBUVYsS0FBSyxLQUFJO2dCQUNsQ2QsUUFBUWMsS0FBSyxDQUFDLDhCQUE4Qlc7Z0JBQzVDNUIsYUFBYTRCO2dCQUNiN0IsV0FBVztnQkFDWCxPQUFPNEIsVUFBVTtvQkFDZkQsU0FBUztvQkFDVFQsT0FBT1c7Z0JBQ1Q7WUFDRjtZQUVBekIsUUFBUUMsR0FBRyxDQUFDLDZDQUE2QztnQkFDdkRVLEtBQUthLE9BQU96QyxJQUFJLENBQUM0QixHQUFHO2dCQUNwQnZCLFVBQVVvQyxPQUFPekMsSUFBSSxDQUFDSyxRQUFRO2dCQUM5QnNDLE1BQU1GLE9BQU96QyxJQUFJLENBQUMyQyxJQUFJO1lBQ3hCO1lBRUEsa0NBQWtDO1lBQ2xDLElBQUksQ0FBQ0YsT0FBT3pDLElBQUksSUFBSSxDQUFDeUMsT0FBT3pDLElBQUksQ0FBQzRCLEdBQUcsRUFBRTtnQkFDcENYLFFBQVFjLEtBQUssQ0FBQztnQkFDZGpCLGFBQWE7Z0JBQ2JELFdBQVc7Z0JBQ1gsT0FBTztvQkFDTDJCLFNBQVM7b0JBQ1RULE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLGdDQUFnQztZQUNoQyxJQUFJO2dCQUNGLE1BQU1OLFdBQVdDLEtBQUtrQixTQUFTLENBQUNILE9BQU96QyxJQUFJO2dCQUMzQ3NCLGVBQWV1QixPQUFPLENBQUMsUUFBUXBCO2dCQUMvQlIsUUFBUUMsR0FBRyxDQUFDLDJEQUEyRE8sU0FBU2EsTUFBTTtZQUN4RixFQUFFLE9BQU9RLGNBQWM7Z0JBQ3JCN0IsUUFBUWMsS0FBSyxDQUFDLGdEQUFnRGU7WUFDaEU7WUFFQSw0QkFBNEI7WUFDNUJsQyxRQUFRNkIsT0FBT3pDLElBQUk7WUFFbkIsdUJBQXVCO1lBQ3ZCLElBQUk7Z0JBQ0ZaLGlFQUFRQSxDQUFDLGNBQWM7b0JBQ3JCMkQsUUFBUU4sT0FBT3pDLElBQUksQ0FBQzRCLEdBQUc7b0JBQ3ZCdkIsVUFBVW9DLE9BQU96QyxJQUFJLENBQUNLLFFBQVE7b0JBQzlCc0MsTUFBTUYsT0FBT3pDLElBQUksQ0FBQzJDLElBQUk7b0JBQ3RCSyxXQUFXLElBQUluRCxPQUFPb0QsV0FBVztnQkFDbkM7WUFDRixFQUFFLE9BQU9DLFVBQVU7Z0JBQ2pCakMsUUFBUWtDLElBQUksQ0FBQywyQ0FBMkNEO1lBQzFEO1lBRUFqQyxRQUFRQyxHQUFHLENBQUM7WUFDWkwsV0FBVztZQUNYLE9BQU80QjtRQUNULEVBQUUsT0FBT1YsT0FBTztZQUNkZCxRQUFRYyxLQUFLLENBQUMsNENBQTRDQTtZQUMxRCxNQUFNVyxXQUFXWCxNQUFNQyxPQUFPLElBQUk7WUFDbENsQixhQUFhNEI7WUFDYjdCLFdBQVc7WUFDWCxPQUFPO2dCQUNMMkIsU0FBUztnQkFDVFQsT0FBT1c7WUFDVDtRQUNGO0lBQ0Y7SUFFQSwrQkFBK0I7SUFDL0IsTUFBTW5DLFNBQVM7UUFDYixJQUFJO1lBQ0ZVLFFBQVFDLEdBQUcsQ0FBQztZQUVaLDhCQUE4QjtZQUM5QkksZUFBZU8sVUFBVSxDQUFDO1lBRTFCLGVBQWU7WUFDZmpCLFFBQVE7WUFDUkUsYUFBYTtZQUViRyxRQUFRQyxHQUFHLENBQUM7WUFFWixxREFBcUQ7WUFFckQsNENBQTRDO1lBQzVDLElBQUk7Z0JBQ0ZHLE9BQU8rQixRQUFRLENBQUNDLElBQUksR0FBRztZQUN6QixFQUFFLE9BQU9DLFVBQVU7Z0JBQ2pCckMsUUFBUWMsS0FBSyxDQUFDLGtDQUFrQ3VCO1lBQ2xEO1FBQ0YsRUFBRSxPQUFPdkIsT0FBTztZQUNkZCxRQUFRYyxLQUFLLENBQUMsaUJBQWlCQTtRQUNqQztJQUNGO0lBRUEsTUFBTXdCLGVBQWU7UUFDbkJ2RDtRQUNBQztRQUNBQyxpQkFBaUIsQ0FBQyxDQUFDRjtRQUNuQkc7UUFDQUM7UUFDQUc7UUFDQUM7SUFDRjtJQUVBLHFCQUNFLDhEQUFDVCxZQUFZeUQsUUFBUTtRQUFDQyxPQUFPRjtrQkFDMUI1Qzs7Ozs7O0FBR1A7SUFoUWdCRDtLQUFBQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCX1NJUlxcT25lRHJpdmVcXOC5gOC4lOC4quC4geC5jOC4l+C5h+C4reC4m1xcQWN0aXZlIDE0LTMtMjAyNVxcU3VtbWFyeV9vZl9QZXJzb25uZWxfUmF0aW9cXGFwcFxcY29udGV4dFxcQXV0aENvbnRleHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBhdXRoLCBkYiB9IGZyb20gJy4uL2xpYi9maXJlYmFzZSc7XHJcbmltcG9ydCB7IGRvYywgZ2V0RG9jLCBzZXREb2MsIHVwZGF0ZURvYywgc2VydmVyVGltZXN0YW1wLCBvblNuYXBzaG90LCBjb2xsZWN0aW9uLCBxdWVyeSwgd2hlcmUsIGdldERvY3MgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG5pbXBvcnQgeyBsb2dpblVzZXIsIHZhbGlkYXRlU2Vzc2lvbiwgaW52YWxpZGF0ZVNlc3Npb24gfSBmcm9tICcuLi9saWIvZGF0YUFjY2Vzcyc7XHJcbmltcG9ydCB7IGxvZ0V2ZW50IH0gZnJvbSAnLi4vdXRpbHMvc2Vzc2lvblJlY29yZGluZyc7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xyXG5cclxuLy8g4Lij4Liw4Lii4Liw4LmA4Lin4Lil4Liy4LiX4Li14LmIIHNlc3Npb24gdG9rZW4g4Lir4Lih4LiU4Lit4Liy4Lii4Li4ICgyMCDguJnguLLguJfguLUpXHJcbmNvbnN0IFNFU1NJT05fRVhQSVJZX1RJTUUgPSAyMCAqIDYwICogMTAwMDsgLy8gMjAg4LiZ4Liy4LiX4Li1IOC5g+C4meC4oeC4tOC4peC4peC4tOC4p+C4tOC4meC4suC4l+C4tVxyXG5cclxuLy8g4Liq4Lij4LmJ4Liy4LiHIHNlc3Npb24gdG9rZW4g4LmB4Lia4Lia4Liq4Li44LmI4LihXHJcbmNvbnN0IGdlbmVyYXRlU2Vzc2lvblRva2VuID0gKCkgPT4ge1xyXG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgXHJcbiAgICAgICAgIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSkgKyBcclxuICAgICAgICAgRGF0ZS5ub3coKS50b1N0cmluZygzNik7XHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXplIHdpdGggZGVmYXVsdCB2YWx1ZXMgaW5jbHVkaW5nIHRoZSBmdW5jdGlvbiBzaWduYXR1cmVzXHJcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XHJcbiAgdXNlcjogbnVsbCxcclxuICBsb2FkaW5nOiB0cnVlLFxyXG4gIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXHJcbiAgYXV0aEVycm9yOiBudWxsLFxyXG4gIGxvZ2luOiBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7fSxcclxuICBsb2dvdXQ6ICgpID0+IHt9LFxyXG4gIGNsZWFyQXV0aEVycm9yOiAoKSA9PiB7fSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgdXNlQXV0aCA9ICgpID0+IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcclxuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbYXV0aEVycm9yLCBzZXRBdXRoRXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgXHJcbiAgLy8gQWRkIGZ1bmN0aW9uIHRvIGNsZWFyIGF1dGggZXJyb3JzXHJcbiAgY29uc3QgY2xlYXJBdXRoRXJyb3IgPSAoKSA9PiB7XHJcbiAgICBzZXRBdXRoRXJyb3IobnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIEFkZCB0aW1lb3V0IHRvIHByZXZlbnQgaW5kZWZpbml0ZSBsb2FkaW5nXHJcbiAgICBjb25zdCBsb2FkaW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBpZiAobG9hZGluZykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRoIGxvYWRpbmcgdGltZW91dCByZWFjaGVkJyk7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgc2V0QXV0aEVycm9yKCfguIHguLLguKPguJXguKPguKfguIjguKrguK3guJrguKrguJbguLLguJnguLDguJzguLnguYnguYPguIrguYnguYPguIrguYnguYDguKfguKXguLLguJnguLLguJnguYDguIHguLTguJnguYTguJsg4LiB4Lij4Li44LiT4Liy4Lil4Lit4LiH4LmD4Lir4Lih4LmI4Lit4Li14LiB4LiE4Lij4Lix4LmJ4LiHJyk7XHJcbiAgICAgIH1cclxuICAgIH0sIDEwMDAwKTsgLy8gMTAgc2Vjb25kcyB0aW1lb3V0XHJcblxyXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChsb2FkaW5nVGltZW91dCk7XHJcbiAgfSwgW2xvYWRpbmddKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgc3RvcmVkIGluIHNlc3Npb25TdG9yYWdlXHJcbiAgICBjb25zdCBjaGVja1Nlc3Npb25TdG9yYWdlID0gKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgc2Vzc2lvblN0b3JhZ2UgZm9yIHVzZXIgZGF0YScpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4siBzZXNzaW9uU3RvcmFnZSDguJ7guKPguYnguK3guKHguYPguIrguYnguIfguLLguJnguKvguKPguLfguK3guYTguKHguYhcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5zZXNzaW9uU3RvcmFnZSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ3Nlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUnKTtcclxuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzdG9yZWRVc2VyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGRhdGEgaW4gc2Vzc2lvblN0b3JhZ2U6Jywgc3RvcmVkVXNlciA/ICdGb3VuZCcgOiAnTm90IGZvdW5kJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHN0b3JlZFVzZXIpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShzdG9yZWRVc2VyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBwYXJzZWQgdXNlciBkYXRhJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyDguJXguKPguKfguIjguKrguK3guJrguILguYnguK3guKHguLnguKXguJ7guLfguYnguJnguJDguLLguJlcclxuICAgICAgICAgICAgaWYgKHVzZXJEYXRhICYmIHVzZXJEYXRhLnVpZCAmJiB1c2VyRGF0YS51c2VybmFtZSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHVzZXIgc3RhdGUgd2l0aCBkYXRhIGZyb20gc2Vzc2lvblN0b3JhZ2UnKTtcclxuICAgICAgICAgICAgICBzZXRVc2VyKHVzZXJEYXRhKTtcclxuICAgICAgICAgICAgICAvLyDguYTguKHguYjguJXguYnguK3guIfguJXguKPguKfguIjguKrguK3guJogc2Vzc2lvbiDguK3guLXguIHguJXguYjguK3guYTguJtcclxuICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCB1c2VyIGRhdGEsIG1pc3NpbmcgcmVxdWlyZWQgZmllbGRzJyk7XHJcbiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpO1xyXG4gICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgdXNlciBkYXRhIGZyb20gc2Vzc2lvblN0b3JhZ2U6JywgcGFyc2VFcnJvcik7XHJcbiAgICAgICAgICAgIC8vIOC4peC5ieC4suC4h+C4guC5ieC4reC4oeC4ueC4peC4l+C4teC5iOC4reC4suC4iOC5gOC4quC4teC4ouC4q+C4suC4olxyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7XHJcbiAgICAgICAgICAgIHNldEF1dGhFcnJvcign4LiC4LmJ4Lit4Lih4Li54Lil4LiB4Liy4Lij4LmA4LiC4LmJ4Liy4Liq4Li54LmI4Lij4Liw4Lia4Lia4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHIOC4geC4o+C4uOC4k+C4suC5gOC4guC5ieC4suC4quC4ueC5iOC4o+C4sOC4muC4muC5g+C4q+C4oeC5iCcpO1xyXG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8g4LmE4Lih4LmI4Lie4Lia4LiC4LmJ4Lit4Lih4Li54Lil4Lic4Li54LmJ4LmD4LiK4LmJ4LmD4LiZIHNlc3Npb25TdG9yYWdlXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gdXNlciBkYXRhIGZvdW5kIGluIHNlc3Npb25TdG9yYWdlJyk7XHJcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgc2Vzc2lvblN0b3JhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgIHNldEF1dGhFcnJvcihlcnJvci5tZXNzYWdlIHx8ICfguYDguIHguLTguJTguILguYnguK3guJzguLTguJTguJ7guKXguLLguJTguYPguJnguIHguLLguKPguJXguKPguKfguIjguKrguK3guJrguILguYnguK3guKHguLnguKXguJzguLnguYnguYPguIrguYknKTtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8g4Lir4LiZ4LmI4Lin4LiH4LmA4Lin4Lil4Liy4LmA4Lil4LmH4LiB4LiZ4LmJ4Lit4Lii4LmA4Lie4Li34LmI4Lit4LmD4Lir4LmJ4LmB4LiZ4LmI4LmD4LiI4Lin4LmI4LiyIGNsaWVudCBzaWRlIGh5ZHJhdGlvbiDguYDguKrguKPguYfguIjguKrguKHguJrguLnguKPguJPguYxcclxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNoZWNrU2Vzc2lvblN0b3JhZ2UoKTtcclxuICAgIH0sIDEwMCk7XHJcbiAgICBcclxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8g4LiV4Li04LiU4LiV4Liy4Lih4LiB4Liy4Lij4LmA4Lib4Lil4Li14LmI4Lii4LiZ4LmB4Lib4Lil4LiH4LiC4Lit4LiHIHNlc3Npb25cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8g4Lii4LiB4LmA4Lil4Li04LiB4LiB4Liy4Lij4LiV4Li04LiU4LiV4Liy4LihIHNlc3Npb24g4LmA4LiZ4Li34LmI4Lit4LiH4LiI4Liy4LiB4Lit4Liy4LiI4LiX4Liz4LmD4Lir4LmJ4LmA4LiB4Li04LiU4Lib4Lix4LiN4Lir4LiyXHJcbiAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiB0cmFja2luZyBkaXNhYmxlZCBmb3IgdHJvdWJsZXNob290aW5nJyk7XHJcbiAgICBcclxuICAgIC8vIOC5geC4l+C4meC4l+C4teC5iOC4iOC4sOC5g+C4iuC5iSBsaXN0ZW5lciDguYPguKvguYnguYPguIrguYkgc2V0SW50ZXJ2YWwg4LiV4Lij4Lin4LiI4Liq4Lit4Lia4LiC4LmJ4Lit4Lih4Li54Lil4Lic4Li54LmJ4LmD4LiK4LmJ4LmA4Lib4LmH4LiZ4Lij4Liw4Lii4LiwXHJcbiAgICBjb25zdCBjaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4siB1c2VyIOC4ouC4seC4h+C4oeC4teC4reC4ouC4ueC5iOC5g+C4mSBzZXNzaW9uU3RvcmFnZSDguKvguKPguLfguK3guYTguKHguYhcclxuICAgICAgICBjb25zdCBzdG9yZWRVc2VyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpO1xyXG4gICAgICAgIGlmICghc3RvcmVkVXNlcikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgZGF0YSByZW1vdmVkIGZyb20gc2Vzc2lvblN0b3JhZ2UsIGxvZ2dpbmcgb3V0Jyk7XHJcbiAgICAgICAgICBzZXRVc2VyKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgMzAwMDApOyAvLyDguJXguKPguKfguIjguKrguK3guJrguJfguLjguIEgMzAg4Lin4Li04LiZ4Liy4LiX4Li1XHJcbiAgICBcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XHJcbiAgICB9O1xyXG4gIH0sIFt1c2VyXSk7XHJcblxyXG4gIC8vIOC4n+C4seC4h+C4geC5jOC4iuC4seC4meC4leC4o+C4p+C4iOC4quC4reC4muC4hOC4p+C4suC4oeC4luC4ueC4geC4leC5ieC4reC4h+C4guC4reC4hyBzZXNzaW9uICjguYHguJrguJrguIfguYjguLLguKIpXHJcbiAgY29uc3QgdmFsaWRhdGVVc2VyU2Vzc2lvbiA9IGFzeW5jICh1c2VyKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnQmFzaWMgdXNlciB2YWxpZGF0aW9uJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDguJXguKPguKfguIjguKrguK3guJrguYDguInguJ7guLLguLDguILguYnguK3guKHguLnguKXguJ7guLfguYnguJnguJDguLLguJlcclxuICAgICAgaWYgKCF1c2VyIHx8ICF1c2VyLnVpZCB8fCAhdXNlci51c2VybmFtZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgdXNlciBkYXRhIC0gbWlzc2luZyByZXF1aXJlZCBmaWVsZHMnKTtcclxuICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdmFsaWRhdGVVc2VyU2Vzc2lvbjonLCBlcnJvcik7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gTG9naW4gZnVuY3Rpb24gLSBzaW1wbGlmaWVkIHZlcnNpb25cclxuICBjb25zdCBsb2dpbiA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICBzZXRBdXRoRXJyb3IobnVsbCk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbREVCVUctQVVUSF0gQXR0ZW1wdGluZyBsb2dpbiB3aXRoIHVzZXJuYW1lOicsIHVzZXJuYW1lKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tERUJVRy1BVVRIXSBQYXNzd29yZCBsZW5ndGg6JywgcGFzc3dvcmQ/Lmxlbmd0aCB8fCAwKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4hOC5iOC4siBpbnB1dFxyXG4gICAgICBpZiAoIXVzZXJuYW1lPy50cmltKCkgfHwgIXBhc3N3b3JkPy50cmltKCkpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbREVCVUctQVVUSF0gRW1wdHkgdXNlcm5hbWUgb3IgcGFzc3dvcmQnKTtcclxuICAgICAgICBzZXRBdXRoRXJyb3IoJ+C4geC4o+C4uOC4k+C4suC4geC4o+C4reC4geC4iuC4t+C5iOC4reC4nOC4ueC5ieC5g+C4iuC5ieC5geC4peC4sOC4o+C4q+C4seC4quC4nOC5iOC4suC4mScpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAn4LiB4Lij4Li44LiT4Liy4LiB4Lij4Lit4LiB4LiK4Li34LmI4Lit4Lic4Li54LmJ4LmD4LiK4LmJ4LmB4Lil4Liw4Lij4Lir4Lix4Liq4Lic4LmI4Liy4LiZJ1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIOC5gOC4o+C4teC4ouC4geC5g+C4iuC5ieC4n+C4seC4h+C4geC5jOC4iuC4seC4mSBsb2dpblVzZXIg4LiX4Li14LmI4Lib4Lij4Lix4Lia4Lib4Lij4Li44LiH4LmD4Lir4Lih4LmIXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvZ2luVXNlcih1c2VybmFtZSwgcGFzc3dvcmQpO1xyXG4gICAgICBcclxuICAgICAgLy8g4LiV4Lij4Lin4LiI4Liq4Lit4Lia4Lic4Lil4Lil4Lix4Lie4LiY4LmMXHJcbiAgICAgIGlmICghcmVzdWx0IHx8ICFyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gcmVzdWx0Py5lcnJvciB8fCAn4LiK4Li34LmI4Lit4Lic4Li54LmJ4LmD4LiK4LmJ4Lir4Lij4Li34Lit4Lij4Lir4Lix4Liq4Lic4LmI4Liy4LiZ4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHJztcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbREVCVUctQVVUSF0gTG9naW4gZmFpbGVkOicsIGVycm9yTXNnKTtcclxuICAgICAgICBzZXRBdXRoRXJyb3IoZXJyb3JNc2cpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQgfHwgeyBcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgZXJyb3I6IGVycm9yTXNnXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ1tERUJVRy1BVVRIXSBMb2dpbiBzdWNjZXNzZnVsLCB1c2VyIGRhdGE6Jywge1xyXG4gICAgICAgIHVpZDogcmVzdWx0LnVzZXIudWlkLFxyXG4gICAgICAgIHVzZXJuYW1lOiByZXN1bHQudXNlci51c2VybmFtZSxcclxuICAgICAgICByb2xlOiByZXN1bHQudXNlci5yb2xlXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8g4LiV4Lij4Lin4LiI4Liq4Lit4Lia4Lin4LmI4Liy4Lih4Li14LiC4LmJ4Lit4Lih4Li54Lil4Lic4Li54LmJ4LmD4LiK4LmJ4Lir4Lij4Li34Lit4LmE4Lih4LmIXHJcbiAgICAgIGlmICghcmVzdWx0LnVzZXIgfHwgIXJlc3VsdC51c2VyLnVpZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tERUJVRy1BVVRIXSBVc2VyIGRhdGEgaXMgaW5jb21wbGV0ZScpO1xyXG4gICAgICAgIHNldEF1dGhFcnJvcign4LiC4LmJ4Lit4Lih4Li54Lil4Lic4Li54LmJ4LmD4LiK4LmJ4LmE4Lih4LmI4Liq4Lih4Lia4Li54Lij4LiT4LmMIOC5guC4m+C4o+C4lOC4leC4tOC4lOC4leC5iOC4reC4nOC4ueC5ieC4lOC4ueC5geC4peC4o+C4sOC4muC4micpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAn4LiC4LmJ4Lit4Lih4Li54Lil4Lic4Li54LmJ4LmD4LiK4LmJ4LmE4Lih4LmI4Liq4Lih4Lia4Li54Lij4LiT4LmMJ1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIOC4muC4seC4meC4l+C4tuC4geC4guC5ieC4reC4oeC4ueC4peC5g+C4mSBzZXNzaW9uU3RvcmFnZVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0LnVzZXIpO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCB1c2VyRGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tERUJVRy1BVVRIXSBVc2VyIGRhdGEgc2F2ZWQgdG8gc2Vzc2lvblN0b3JhZ2UsIGxlbmd0aDonLCB1c2VyRGF0YS5sZW5ndGgpO1xyXG4gICAgICB9IGNhdGNoIChzdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbREVCVUctQVVUSF0gRXJyb3Igc2F2aW5nIHRvIHNlc3Npb25TdG9yYWdlOicsIHN0b3JhZ2VFcnJvcik7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIOC4reC4seC4m+C5gOC4lOC4leC4quC4luC4suC4meC4sOC4nOC4ueC5ieC5g+C4iuC5ieC5g+C4mSBzdGF0ZVxyXG4gICAgICBzZXRVc2VyKHJlc3VsdC51c2VyKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOC4muC4seC4meC4l+C4tuC4geC4geC4suC4o+C5gOC4guC5ieC4suC4quC4ueC5iOC4o+C4sOC4muC4mlxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGxvZ0V2ZW50KCd1c2VyX2xvZ2luJywge1xyXG4gICAgICAgICAgdXNlcklkOiByZXN1bHQudXNlci51aWQsXHJcbiAgICAgICAgICB1c2VybmFtZTogcmVzdWx0LnVzZXIudXNlcm5hbWUsXHJcbiAgICAgICAgICByb2xlOiByZXN1bHQudXNlci5yb2xlLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1tERUJVRy1BVVRIXSBFcnJvciBsb2dnaW5nIGxvZ2luIGV2ZW50OicsIGxvZ0Vycm9yKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ1tERUJVRy1BVVRIXSBMb2dpbiBwcm9jZXNzIGNvbXBsZXRlLCByZXR1cm5pbmcgcmVzdWx0Jyk7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0RFQlVHLUFVVEhdIExvZ2luIGVycm9yIGluIEF1dGhDb250ZXh0OicsIGVycm9yKTtcclxuICAgICAgY29uc3QgZXJyb3JNc2cgPSBlcnJvci5tZXNzYWdlIHx8ICfguYDguIHguLTguJTguILguYnguK3guJzguLTguJTguJ7guKXguLLguJTguYPguJnguIHguLLguKPguYDguILguYnguLLguKrguLnguYjguKPguLDguJrguJog4LiB4Lij4Li44LiT4Liy4Lil4Lit4LiH4LmD4Lir4Lih4LmI4Lit4Li14LiB4LiE4Lij4Lix4LmJ4LiHJztcclxuICAgICAgc2V0QXV0aEVycm9yKGVycm9yTXNnKTtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6IGVycm9yTXNnXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gTG9nb3V0IGZ1bmN0aW9uIChzaW1wbGlmaWVkKVxyXG4gIGNvbnN0IGxvZ291dCA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdMb2dnaW5nIG91dCB1c2VyJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDguKXguYnguLLguIfguILguYnguK3guKHguLnguKXguYPguJkgc2Vzc2lvblN0b3JhZ2VcclxuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpO1xyXG4gICAgICBcclxuICAgICAgLy8g4Lij4Li14LmA4LiL4LmH4LiVIHN0YXRlXHJcbiAgICAgIHNldFVzZXIobnVsbCk7XHJcbiAgICAgIHNldEF1dGhFcnJvcihudWxsKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdMb2dnZWQgb3V0IHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICBcclxuICAgICAgLy8g4LmE4Lih4LmI4LiV4LmJ4Lit4LiH4Lit4Lix4Lib4LmA4LiU4LiV4LiC4LmJ4Lit4Lih4Li54Lil4LmD4LiZIEZpcmVzdG9yZSDguYDguJ7guLfguYjguK3guKXguJTguITguKfguLLguKHguIvguLHguJrguIvguYnguK3guJlcclxuICAgICAgXHJcbiAgICAgIC8vIOC4meC4s+C4l+C4suC4h+C5hOC4m+C4ouC4seC4h+C4q+C4meC5ieC4siBsb2dpbiDguKvguKXguLHguIfguIjguLLguIHguIHguLLguKPguK3guK3guIHguIjguLLguIHguKPguLDguJrguJpcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvcGFnZS9sb2dpbic7XHJcbiAgICAgIH0gY2F0Y2ggKG5hdkVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbmF2aWdhdGluZyBhZnRlciBsb2dvdXQ6JywgbmF2RXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdMb2dvdXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNvbnRleHRWYWx1ZSA9IHtcclxuICAgIHVzZXIsXHJcbiAgICBsb2FkaW5nLFxyXG4gICAgaXNBdXRoZW50aWNhdGVkOiAhIXVzZXIsXHJcbiAgICBhdXRoRXJyb3IsXHJcbiAgICBsb2dpbixcclxuICAgIGxvZ291dCxcclxuICAgIGNsZWFyQXV0aEVycm9yLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvQXV0aENvbnRleHQuUHJvdmlkZXI+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiYXV0aCIsImRiIiwiZG9jIiwiZ2V0RG9jIiwic2V0RG9jIiwidXBkYXRlRG9jIiwic2VydmVyVGltZXN0YW1wIiwib25TbmFwc2hvdCIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwiZ2V0RG9jcyIsImxvZ2luVXNlciIsInZhbGlkYXRlU2Vzc2lvbiIsImludmFsaWRhdGVTZXNzaW9uIiwibG9nRXZlbnQiLCJ2NCIsInV1aWR2NCIsIlNFU1NJT05fRVhQSVJZX1RJTUUiLCJnZW5lcmF0ZVNlc3Npb25Ub2tlbiIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsIkRhdGUiLCJub3ciLCJBdXRoQ29udGV4dCIsInVzZXIiLCJsb2FkaW5nIiwiaXNBdXRoZW50aWNhdGVkIiwiYXV0aEVycm9yIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibG9nb3V0IiwiY2xlYXJBdXRoRXJyb3IiLCJ1c2VBdXRoIiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJzZXRVc2VyIiwic2V0TG9hZGluZyIsInNldEF1dGhFcnJvciIsImxvYWRpbmdUaW1lb3V0Iiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJjbGVhclRpbWVvdXQiLCJjaGVja1Nlc3Npb25TdG9yYWdlIiwid2luZG93Iiwic2Vzc2lvblN0b3JhZ2UiLCJzdG9yZWRVc2VyIiwiZ2V0SXRlbSIsInVzZXJEYXRhIiwiSlNPTiIsInBhcnNlIiwidWlkIiwicmVtb3ZlSXRlbSIsInBhcnNlRXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJ0aW1lciIsImNoZWNrSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJ2YWxpZGF0ZVVzZXJTZXNzaW9uIiwibGVuZ3RoIiwidHJpbSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJlcnJvck1zZyIsInJvbGUiLCJzdHJpbmdpZnkiLCJzZXRJdGVtIiwic3RvcmFnZUVycm9yIiwidXNlcklkIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJsb2dFcnJvciIsIndhcm4iLCJsb2NhdGlvbiIsImhyZWYiLCJuYXZFcnJvciIsImNvbnRleHRWYWx1ZSIsIlByb3ZpZGVyIiwidmFsdWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/context/AuthContext.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/lib/dataAccess.js":
/*!*******************************!*\
  !*** ./app/lib/dataAccess.js ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkLast7DaysData: () => (/* binding */ checkLast7DaysData),\n/* harmony export */   deleteWardDataDraft: () => (/* binding */ deleteWardDataDraft),\n/* harmony export */   getLatestDraft: () => (/* binding */ getLatestDraft),\n/* harmony export */   getUserDrafts: () => (/* binding */ getUserDrafts),\n/* harmony export */   getWardDataHistory: () => (/* binding */ getWardDataHistory),\n/* harmony export */   invalidateSession: () => (/* binding */ invalidateSession),\n/* harmony export */   logWardDataHistory: () => (/* binding */ logWardDataHistory),\n/* harmony export */   loginUser: () => (/* binding */ loginUser),\n/* harmony export */   saveWardDataDraft: () => (/* binding */ saveWardDataDraft),\n/* harmony export */   saveWardDataFinal: () => (/* binding */ saveWardDataFinal),\n/* harmony export */   validateSession: () => (/* binding */ validateSession)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(app-pages-browser)/./app/lib/firebase.js\");\n/* harmony import */ var _barrel_optimize_names_format_parseISO_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=format,parseISO,subDays!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/esm/subDays/index.js\");\n/* harmony import */ var _barrel_optimize_names_format_parseISO_subDays_date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=format,parseISO,subDays!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/esm/format/index.js\");\n/* __next_internal_client_entry_do_not_use__ saveWardDataDraft,saveWardDataFinal,getUserDrafts,getLatestDraft,deleteWardDataDraft,logWardDataHistory,getWardDataHistory,checkLast7DaysData,loginUser,validateSession,invalidateSession auto */ \n\n\n// ฟังก์ชันบันทึกข้อมูลเวร (ฉบับร่าง)\nconst saveWardDataDraft = async (data)=>{\n    try {\n        if (!data.wardId || !data.date || !data.shift || !data.userId) {\n            return {\n                success: false,\n                error: 'Missing required fields: wardId, date, shift, or userId'\n            };\n        }\n        // สร้าง docId ที่ไม่ซ้ำกัน\n        const docId = \"\".concat(data.date, \"_\").concat(data.wardId, \"_\").concat(data.shift, \"_\").concat(data.userId);\n        // เพิ่ม timestamp สำหรับการเรียงลำดับ\n        const draftData = {\n            ...data,\n            timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n            lastUpdated: new Date().toISOString()\n        };\n        // บันทึกข้อมูลใน collection wardDataDrafts\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'wardDataDrafts', docId), draftData);\n        return {\n            success: true,\n            message: 'Draft saved successfully',\n            id: docId\n        };\n    } catch (error) {\n        console.error('Error saving ward data draft:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n// ฟังก์ชันบันทึกข้อมูลเวร (ฉบับสมบูรณ์)\nconst saveWardDataFinal = async (data)=>{\n    try {\n        if (!data.wardId || !data.date || !data.shift) {\n            return {\n                success: false,\n                error: 'Missing required fields: wardId, date, or shift'\n            };\n        }\n        // สร้าง docId ที่ไม่ซ้ำกัน\n        const docId = \"\".concat(data.date, \"_\").concat(data.wardId, \"_\").concat(data.shift);\n        // เพิ่มข้อมูลเพิ่มเติม\n        const finalData = {\n            ...data,\n            isApproved: true,\n            isDraft: false,\n            timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n            lastUpdated: new Date().toISOString()\n        };\n        // บันทึกข้อมูลใน collection wardDataFinal\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'wardDataFinal', docId), finalData);\n        return {\n            success: true,\n            message: 'Data saved as final successfully',\n            id: docId\n        };\n    } catch (error) {\n        console.error('Error saving final ward data:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n// ฟังก์ชันดึงข้อมูลฉบับร่างของผู้ใช้\nconst getUserDrafts = async function(userId) {\n    let wardId = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, date = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null, shift = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : null;\n    try {\n        let q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'wardDataDrafts'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('userId', '==', userId));\n        // เพิ่มเงื่อนไขการค้นหาตาม wardId (ถ้ามี)\n        if (wardId) {\n            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('wardId', '==', wardId));\n        }\n        // เพิ่มเงื่อนไขการค้นหาตามวันที่ (ถ้ามี)\n        if (date) {\n            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('date', '==', date));\n        }\n        // เพิ่มเงื่อนไขการค้นหาตามกะ (ถ้ามี)\n        if (shift) {\n            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(q, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('shift', '==', shift));\n        }\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        // ถ้าไม่พบข้อมูล\n        if (querySnapshot.empty) {\n            return null;\n        }\n        // แปลงข้อมูลที่ได้เป็น array\n        const drafts = [];\n        querySnapshot.forEach((doc)=>{\n            drafts.push({\n                id: doc.id,\n                ...doc.data()\n            });\n        });\n        // เรียงลำดับตามเวลาที่บันทึกล่าสุด\n        return drafts.sort((a, b)=>{\n            const dateA = a.timestamp ? new Date(a.timestamp) : new Date(0);\n            const dateB = b.timestamp ? new Date(b.timestamp) : new Date(0);\n            return dateB - dateA;\n        });\n    } catch (error) {\n        console.error('Error getting user drafts:', error);\n        return null;\n    }\n};\n// ฟังก์ชันดึงข้อมูลฉบับร่างล่าสุด\nconst getLatestDraft = async (userId, wardId, date, shift)=>{\n    try {\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'wardDataDrafts'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('userId', '==', userId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('wardId', '==', wardId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('date', '==', date), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('shift', '==', shift), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)('timestamp', 'desc'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(1));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        // ถ้าไม่พบข้อมูล\n        if (querySnapshot.empty) {\n            return null;\n        }\n        // ส่งคืนข้อมูลฉบับร่างล่าสุด\n        return querySnapshot.docs[0].data();\n    } catch (error) {\n        console.error('Error getting latest draft:', error);\n        return null;\n    }\n};\n// ฟังก์ชันลบข้อมูลฉบับร่าง\nconst deleteWardDataDraft = async (draftId)=>{\n    try {\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'wardDataDrafts', draftId));\n        return {\n            success: true,\n            message: 'Draft deleted successfully'\n        };\n    } catch (error) {\n        console.error('Error deleting draft:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n// ฟังก์ชันบันทึกประวัติการแก้ไขข้อมูล\nconst logWardDataHistory = async (data, action, userId)=>{\n    try {\n        if (!data.wardId || !data.date || !data.shift) {\n            return {\n                success: false,\n                error: 'Missing required fields'\n            };\n        }\n        // ข้อมูลประวัติ\n        const historyData = {\n            wardId: data.wardId,\n            date: data.date,\n            shift: data.shift,\n            action: action,\n            userId: userId,\n            userDisplayName: data.userDisplayName || '',\n            timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n            data: data // เก็บข้อมูลทั้งหมดในขณะนั้น\n        };\n        // บันทึกประวัติ\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'wardDataHistory'), historyData);\n        return {\n            success: true,\n            message: 'History logged successfully',\n            id: docRef.id\n        };\n    } catch (error) {\n        console.error('Error logging history:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n// ฟังก์ชันดึงประวัติการแก้ไข\nconst getWardDataHistory = async (wardId, date, shift)=>{\n    try {\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'wardDataHistory'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('wardId', '==', wardId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('date', '==', date), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('shift', '==', shift), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)('timestamp', 'desc'));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        // ถ้าไม่พบข้อมูล\n        if (querySnapshot.empty) {\n            return [];\n        }\n        // แปลงข้อมูลที่ได้เป็น array\n        const history = [];\n        querySnapshot.forEach((doc)=>{\n            const data = doc.data();\n            // แปลง timestamp เป็น string ถ้ามี\n            const timestamp = data.timestamp instanceof firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp ? data.timestamp.toDate().toISOString() : data.timestamp;\n            history.push({\n                id: doc.id,\n                ...data,\n                timestamp: timestamp\n            });\n        });\n        return history;\n    } catch (error) {\n        console.error('Error getting ward data history:', error);\n        return [];\n    }\n};\n/**\r\n * ฟังก์ชันตรวจสอบข้อมูลย้อนหลัง 7 วัน\r\n * @param {string} wardId รหัส ward\r\n * @param {Date} currentDate วันที่ปัจจุบัน (optional)\r\n * @returns {Promise<boolean>} true ถ้ามีข้อมูลย้อนหลัง 7 วัน, false ถ้าไม่มี\r\n */ const checkLast7DaysData = async function(wardId) {\n    let currentDate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : new Date();\n    try {\n        if (!wardId) {\n            console.error('Ward ID is required');\n            return false;\n        }\n        // คำนวณวันที่ 7 วันย้อนหลัง\n        const sevenDaysAgo = (0,_barrel_optimize_names_format_parseISO_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(currentDate, 7);\n        const startDate = (0,_barrel_optimize_names_format_parseISO_subDays_date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(sevenDaysAgo, 'yyyy-MM-dd');\n        const endDate = (0,_barrel_optimize_names_format_parseISO_subDays_date_fns__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(currentDate, 'yyyy-MM-dd');\n        console.log(\"Checking for data between \".concat(startDate, \" and \").concat(endDate, \" for ward \").concat(wardId));\n        // ค้นหาข้อมูลในตาราง wardDataFinal\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'wardDataFinal'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('wardId', '==', wardId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('date', '>=', startDate), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('date', '<', endDate));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        // ถ้ามีข้อมูลใน wardDataFinal\n        if (!querySnapshot.empty) {\n            return true;\n        }\n        // ถ้าไม่มีข้อมูลใน wardDataFinal ให้ตรวจสอบใน wardDataDrafts\n        const draftsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'wardDataDrafts'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('wardId', '==', wardId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('date', '>=', startDate), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('date', '<', endDate));\n        const draftsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(draftsQuery);\n        return !draftsSnapshot.empty;\n    } catch (error) {\n        console.error('Error checking last 7 days data:', error);\n        return false;\n    }\n};\n// ฟังก์ชันเข้าสู่ระบบ (แบบง่าย)\nconst loginUser = async (username, password)=>{\n    try {\n        var _userData_password;\n        console.log(\"[DEBUG-LOGIN] Attempting login for user: \".concat(username));\n        // ทำความสะอาด input\n        const cleanUsername = (username === null || username === void 0 ? void 0 : username.trim()) || '';\n        const cleanPassword = (password === null || password === void 0 ? void 0 : password.trim()) || '';\n        if (!cleanUsername || !cleanPassword) {\n            console.error('[DEBUG-LOGIN] Username or password is empty after cleaning');\n            return {\n                success: false,\n                error: 'กรุณากรอกชื่อผู้ใช้และรหัสผ่าน'\n            };\n        }\n        console.log(\"[DEBUG-LOGIN] Searching for user: \".concat(cleanUsername));\n        // ค้นหาผู้ใช้จาก username\n        const usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'users');\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('username', '==', cleanUsername));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (querySnapshot.empty) {\n            console.error('[DEBUG-LOGIN] User not found');\n            return {\n                success: false,\n                error: 'ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง'\n            };\n        }\n        // ตรวจสอบรหัสผ่าน\n        const userDoc = querySnapshot.docs[0];\n        const userData = userDoc.data();\n        console.log(\"[DEBUG-LOGIN] Found user: \".concat(userData.username, \", checking password...\"));\n        console.log(\"[DEBUG-LOGIN] Password lengths - stored: \".concat(((_userData_password = userData.password) === null || _userData_password === void 0 ? void 0 : _userData_password.length) || 0, \", input: \").concat(cleanPassword.length));\n        // ตรวจสอบว่ามีรหัสผ่านในฐานข้อมูลหรือไม่\n        if (!userData.password) {\n            console.error('[DEBUG-LOGIN] User has no password in database');\n            return {\n                success: false,\n                error: 'พบข้อผิดพลาดเกี่ยวกับบัญชีผู้ใช้ กรุณาติดต่อผู้ดูแลระบบ'\n            };\n        }\n        // ทำความสะอาดรหัสผ่านในฐานข้อมูล\n        const storedPassword = userData.password.trim();\n        if (storedPassword !== cleanPassword) {\n            // แสดงผลเพื่อการแก้ไขปัญหา - ไม่แสดงรหัสจริง\n            console.error('[DEBUG-LOGIN] Password mismatch:');\n            console.error(\"[DEBUG-LOGIN] - Stored pass (first 2 chars): \".concat(storedPassword.substring(0, 2), \"...\"));\n            console.error(\"[DEBUG-LOGIN] - Input pass (first 2 chars): \".concat(cleanPassword.substring(0, 2), \"...\"));\n            // เทียบอักขระหนึ่งต่อหนึ่งเพื่อหาจุดที่ต่างกัน (ไม่แสดงรหัสจริง)\n            const maxLength = Math.max(storedPassword.length, cleanPassword.length);\n            let mismatchInfo = [];\n            for(let i = 0; i < maxLength; i++){\n                if (storedPassword[i] !== cleanPassword[i]) {\n                    mismatchInfo.push(\"Position \".concat(i, \": stored char code=\").concat(storedPassword.charCodeAt(i) || 'none', \", input char code=\").concat(cleanPassword.charCodeAt(i) || 'none'));\n                    if (mismatchInfo.length >= 3) break; // เก็บไม่เกิน 3 จุดที่ต่างกัน\n                }\n            }\n            console.error('[DEBUG-LOGIN] Mismatch details:', mismatchInfo);\n            return {\n                success: false,\n                error: 'ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง'\n            };\n        }\n        console.log('[DEBUG-LOGIN] Password match successful, creating session');\n        // สร้าง session token แบบง่าย\n        const sessionToken = Math.random().toString(36).substring(2, 15) + Date.now().toString(36);\n        const sessionId = \"session_\".concat(Date.now());\n        // อัปเดตข้อมูล session ในฐานข้อมูล\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'users', userDoc.id), {\n                sessionToken,\n                sessionId,\n                lastLogin: new Date().toISOString()\n            });\n            console.log('[DEBUG-LOGIN] Session data updated in database');\n        } catch (updateError) {\n            console.error('[DEBUG-LOGIN] Failed to update session info in database:', updateError);\n        // ถึงมีปัญหา ก็ให้ดำเนินการต่อ\n        }\n        // สร้าง user object สำหรับส่งกลับ\n        const user = {\n            uid: userDoc.id,\n            username: userData.username,\n            displayName: userData.displayName || userData.username,\n            role: userData.role || 'user',\n            ward: userData.ward || null,\n            sessionToken,\n            sessionId\n        };\n        console.log('[DEBUG-LOGIN] Login successful, returning user data');\n        return {\n            success: true,\n            user: user\n        };\n    } catch (error) {\n        console.error('[DEBUG-LOGIN] Login error:', error);\n        return {\n            success: false,\n            error: 'เกิดข้อผิดพลาดในการเข้าสู่ระบบ กรุณาลองใหม่อีกครั้ง'\n        };\n    }\n};\n/**\r\n * ตรวจสอบความถูกต้องของ session token\r\n * @param {string} userId - ID ของผู้ใช้\r\n * @param {string} sessionToken - Session token ที่ต้องการตรวจสอบ\r\n * @param {string} sessionId - ID ของ session ที่ต้องการตรวจสอบ\r\n * @returns {Promise<boolean>} - ผลการตรวจสอบ (true = ถูกต้อง, false = ไม่ถูกต้อง)\r\n */ const validateSession = async (userId, sessionToken, sessionId)=>{\n    try {\n        console.log('Validating session:', {\n            userId,\n            sessionId\n        });\n        if (!userId || !sessionToken || !sessionId) {\n            console.error('Missing required parameters for session validation');\n            return false;\n        }\n        // ตรวจสอบข้อมูลใน collection users\n        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'users', userId);\n        const userSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(userRef);\n        if (!userSnap.exists()) {\n            console.error('User not found in database');\n            return false;\n        }\n        const userData = userSnap.data();\n        // ตรวจสอบว่า sessionToken ตรงกับที่เก็บไว้หรือไม่\n        if (userData.sessionToken !== sessionToken) {\n            console.error('Session token mismatch');\n            return false;\n        }\n        // ตรวจสอบว่า sessionId ตรงกับที่เก็บไว้หรือไม่\n        if (userData.sessionId !== sessionId) {\n            console.error('Session ID mismatch');\n            return false;\n        }\n        // ตรวจสอบเวลาหมดอายุของ session\n        if (userData.sessionExpiresAt) {\n            const expiresAt = new Date(userData.sessionExpiresAt);\n            const now = new Date();\n            if (now > expiresAt) {\n                console.error('Session expired at:', expiresAt.toISOString());\n                return false;\n            }\n        }\n        // ตรวจสอบข้อมูลใน collection userSessions\n        const sessionRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'userSessions', sessionId);\n        const sessionSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(sessionRef);\n        if (!sessionSnap.exists()) {\n            console.error('Session not found in database');\n            return false;\n        }\n        const sessionData = sessionSnap.data();\n        // ตรวจสอบว่า session นี้เป็นของผู้ใช้คนนี้จริงหรือไม่\n        if (sessionData.userId !== userId) {\n            console.error('Session belongs to different user');\n            return false;\n        }\n        // ตรวจสอบว่า session token ตรงกับที่เก็บไว้หรือไม่\n        if (sessionData.sessionToken !== sessionToken) {\n            console.error('Session token mismatch in sessions collection');\n            return false;\n        }\n        // ตรวจสอบเวลาหมดอายุของ session\n        if (sessionData.expiresAt) {\n            const expiresAt = new Date(sessionData.expiresAt);\n            const now = new Date();\n            if (now > expiresAt) {\n                console.error('Session expired in sessions collection');\n                return false;\n            }\n        }\n        // อัปเดตเวลาล่าสุดที่มีการใช้งาน session\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(userRef, {\n                lastActivity: new Date().toISOString()\n            });\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(sessionRef, {\n                lastActivity: new Date().toISOString()\n            });\n        } catch (updateError) {\n            console.warn('Failed to update last activity time:', updateError);\n        // ในกรณีนี้ไม่ต้องการให้เกิดข้อผิดพลาด เราจะส่งค่า true กลับไปเหมือนเดิม\n        }\n        return true;\n    } catch (error) {\n        console.error('Error validating session:', error);\n        return false;\n    }\n};\n// ฟังก์ชันยกเลิก session\nconst invalidateSession = async (sessionToken)=>{\n    try {\n        if (!sessionToken) {\n            return {\n                success: false,\n                error: 'No session token provided'\n            };\n        }\n        // ค้นหาผู้ใช้ที่มี session token นี้\n        const usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'users');\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('sessionToken', '==', sessionToken));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (querySnapshot.empty) {\n            return {\n                success: false,\n                error: 'Session not found'\n            };\n        }\n        // ลบ session token\n        const userDoc = querySnapshot.docs[0];\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'users', userDoc.id), {\n            sessionToken: null\n        });\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error('Session invalidation error:', error);\n        return {\n            success: false,\n            error: 'Error invalidating session'\n        };\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9saWIvZGF0YUFjY2Vzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7K09BbUI0QjtBQUNJO0FBQ3FCO0FBRXJELHFDQUFxQztBQUM5QixNQUFNb0Isb0JBQW9CLE9BQU9DO0lBQ3RDLElBQUk7UUFDRixJQUFJLENBQUNBLEtBQUtDLE1BQU0sSUFBSSxDQUFDRCxLQUFLRSxJQUFJLElBQUksQ0FBQ0YsS0FBS0csS0FBSyxJQUFJLENBQUNILEtBQUtJLE1BQU0sRUFBRTtZQUM3RCxPQUFPO2dCQUNMQyxTQUFTO2dCQUNUQyxPQUFPO1lBQ1Q7UUFDRjtRQUVBLDJCQUEyQjtRQUMzQixNQUFNQyxRQUFRLEdBQWdCUCxPQUFiQSxLQUFLRSxJQUFJLEVBQUMsS0FBa0JGLE9BQWZBLEtBQUtDLE1BQU0sRUFBQyxLQUFpQkQsT0FBZEEsS0FBS0csS0FBSyxFQUFDLEtBQWUsT0FBWkgsS0FBS0ksTUFBTTtRQUV0RSxzQ0FBc0M7UUFDdEMsTUFBTUksWUFBWTtZQUNoQixHQUFHUixJQUFJO1lBQ1BTLFdBQVduQixtRUFBZUE7WUFDMUJvQixhQUFhLElBQUlDLE9BQU9DLFdBQVc7UUFDckM7UUFFQSwyQ0FBMkM7UUFDM0MsTUFBTTNCLDBEQUFNQSxDQUFDRix1REFBR0EsQ0FBQ1kseUNBQUVBLEVBQUUsa0JBQWtCWSxRQUFRQztRQUUvQyxPQUFPO1lBQ0xILFNBQVM7WUFDVFEsU0FBUztZQUNUQyxJQUFJUDtRQUNOO0lBQ0YsRUFBRSxPQUFPRCxPQUFPO1FBQ2RTLFFBQVFULEtBQUssQ0FBQyxpQ0FBaUNBO1FBQy9DLE9BQU87WUFDTEQsU0FBUztZQUNUQyxPQUFPQSxNQUFNTyxPQUFPO1FBQ3RCO0lBQ0Y7QUFDRixFQUFFO0FBRUYsd0NBQXdDO0FBQ2pDLE1BQU1HLG9CQUFvQixPQUFPaEI7SUFDdEMsSUFBSTtRQUNGLElBQUksQ0FBQ0EsS0FBS0MsTUFBTSxJQUFJLENBQUNELEtBQUtFLElBQUksSUFBSSxDQUFD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QVVBLENBQUNnQix5Q0FBRUEsRUFBRTtRQUNoQyxNQUFNMEIsSUFBSXpDLHlEQUFLQSxDQUFDK0UsVUFBVTlFLHlEQUFLQSxDQUFDLGdCQUFnQixNQUFNeUY7UUFDdEQsTUFBTWhELGdCQUFnQixNQUFNeEMsMkRBQU9BLENBQUN1QztRQUVwQyxJQUFJQyxjQUFjQyxLQUFLLEVBQUU7WUFDdkIsT0FBTztnQkFBRWxCLFNBQVM7Z0JBQU9DLE9BQU87WUFBb0I7UUFDdEQ7UUFFQSxtQkFBbUI7UUFDbkIsTUFBTXNELFVBQVV0QyxjQUFjVyxJQUFJLENBQUMsRUFBRTtRQUNyQyxNQUFNdkMsNkRBQVNBLENBQUNYLHVEQUFHQSxDQUFDWSx5Q0FBRUEsRUFBRSxTQUFTaUUsUUFBUTlDLEVBQUUsR0FBRztZQUM1Q3dELGNBQWM7UUFDaEI7UUFFQSxPQUFPO1lBQUVqRSxTQUFTO1FBQUs7SUFDekIsRUFBRSxPQUFPQyxPQUFPO1FBQ2RTLFFBQVFULEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU87WUFBRUQsU0FBUztZQUFPQyxPQUFPO1FBQTZCO0lBQy9EO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCX1NJUlxcT25lRHJpdmVcXOC5gOC4lOC4quC4geC5jOC4l+C5h+C4reC4m1xcQWN0aXZlIDE0LTMtMjAyNVxcU3VtbWFyeV9vZl9QZXJzb25uZWxfUmF0aW9cXGFwcFxcbGliXFxkYXRhQWNjZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IFxyXG4gIGNvbGxlY3Rpb24sIFxyXG4gIHF1ZXJ5LCBcclxuICB3aGVyZSwgXHJcbiAgZ2V0RG9jcywgXHJcbiAgZG9jLCBcclxuICBnZXREb2MsIFxyXG4gIHNldERvYywgXHJcbiAgZGVsZXRlRG9jLFxyXG4gIGFkZERvYywgXHJcbiAgb3JkZXJCeSwgXHJcbiAgbGltaXQsXHJcbiAgc2VydmVyVGltZXN0YW1wLFxyXG4gIFRpbWVzdGFtcCxcclxuICBzdGFydEFmdGVyLFxyXG4gIGVuZEJlZm9yZSxcclxuICB1cGRhdGVEb2NcclxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG5pbXBvcnQgeyBkYiB9IGZyb20gJy4vZmlyZWJhc2UnO1xyXG5pbXBvcnQgeyBmb3JtYXQsIHN1YkRheXMsIHBhcnNlSVNPIH0gZnJvbSAnZGF0ZS1mbnMnO1xyXG5cclxuLy8g4Lif4Lix4LiH4LiB4LmM4LiK4Lix4LiZ4Lia4Lix4LiZ4LiX4Li24LiB4LiC4LmJ4Lit4Lih4Li54Lil4LmA4Lin4LijICjguInguJrguLHguJrguKPguYjguLLguIcpXHJcbmV4cG9ydCBjb25zdCBzYXZlV2FyZERhdGFEcmFmdCA9IGFzeW5jIChkYXRhKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghZGF0YS53YXJkSWQgfHwgIWRhdGEuZGF0ZSB8fCAhZGF0YS5zaGlmdCB8fCAhZGF0YS51c2VySWQpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzOiB3YXJkSWQsIGRhdGUsIHNoaWZ0LCBvciB1c2VySWQnXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8g4Liq4Lij4LmJ4Liy4LiHIGRvY0lkIOC4l+C4teC5iOC5hOC4oeC5iOC4i+C5ieC4s+C4geC4seC4mVxyXG4gICAgY29uc3QgZG9jSWQgPSBgJHtkYXRhLmRhdGV9XyR7ZGF0YS53YXJkSWR9XyR7ZGF0YS5zaGlmdH1fJHtkYXRhLnVzZXJJZH1gO1xyXG4gICAgXHJcbiAgICAvLyDguYDguJ7guLTguYjguKEgdGltZXN0YW1wIOC4quC4s+C4q+C4o+C4seC4muC4geC4suC4o+C5gOC4o+C4teC4ouC4h+C4peC4s+C4lOC4seC4mlxyXG4gICAgY29uc3QgZHJhZnREYXRhID0ge1xyXG4gICAgICAuLi5kYXRhLFxyXG4gICAgICB0aW1lc3RhbXA6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyDguJrguLHguJnguJfguLbguIHguILguYnguK3guKHguLnguKXguYPguJkgY29sbGVjdGlvbiB3YXJkRGF0YURyYWZ0c1xyXG4gICAgYXdhaXQgc2V0RG9jKGRvYyhkYiwgJ3dhcmREYXRhRHJhZnRzJywgZG9jSWQpLCBkcmFmdERhdGEpO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnRHJhZnQgc2F2ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgaWQ6IGRvY0lkXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgd2FyZCBkYXRhIGRyYWZ0OicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG4vLyDguJ/guLHguIfguIHguYzguIrguLHguJnguJrguLHguJnguJfguLbguIHguILguYnguK3guKHguLnguKXguYDguKfguKMgKOC4ieC4muC4seC4muC4quC4oeC4muC4ueC4o+C4k+C5jClcclxuZXhwb3J0IGNvbnN0IHNhdmVXYXJkRGF0YUZpbmFsID0gYXN5bmMgKGRhdGEpID0+IHtcclxuICB0cnkge1xyXG4gICAgaWYgKCFkYXRhLndhcmRJZCB8fCAhZGF0YS5kYXRlIHx8ICFkYXRhLnNoaWZ0KSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkczogd2FyZElkLCBkYXRlLCBvciBzaGlmdCdcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDguKrguKPguYnguLLguIcgZG9jSWQg4LiX4Li14LmI4LmE4Lih4LmI4LiL4LmJ4Liz4LiB4Lix4LiZXHJcbiAgICBjb25zdCBkb2NJZCA9IGAke2RhdGEuZGF0ZX1fJHtkYXRhLndhcmRJZH1fJHtkYXRhLnNoaWZ0fWA7XHJcbiAgICBcclxuICAgIC8vIOC5gOC4nuC4tOC5iOC4oeC4guC5ieC4reC4oeC4ueC4peC5gOC4nuC4tOC5iOC4oeC5gOC4leC4tOC4oVxyXG4gICAgY29uc3QgZmluYWxEYXRhID0ge1xyXG4gICAgICAuLi5kYXRhLFxyXG4gICAgICBpc0FwcHJvdmVkOiB0cnVlLFxyXG4gICAgICBpc0RyYWZ0OiBmYWxzZSxcclxuICAgICAgdGltZXN0YW1wOiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8g4Lia4Lix4LiZ4LiX4Li24LiB4LiC4LmJ4Lit4Lih4Li54Lil4LmD4LiZIGNvbGxlY3Rpb24gd2FyZERhdGFGaW5hbFxyXG4gICAgYXdhaXQgc2V0RG9jKGRvYyhkYiwgJ3dhcmREYXRhRmluYWwnLCBkb2NJZCksIGZpbmFsRGF0YSk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdEYXRhIHNhdmVkIGFzIGZpbmFsIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgIGlkOiBkb2NJZFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGZpbmFsIHdhcmQgZGF0YTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g4Lif4Lix4LiH4LiB4LmM4LiK4Lix4LiZ4LiU4Li24LiH4LiC4LmJ4Lit4Lih4Li54Lil4LiJ4Lia4Lix4Lia4Lij4LmI4Liy4LiH4LiC4Lit4LiH4Lic4Li54LmJ4LmD4LiK4LmJXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyRHJhZnRzID0gYXN5bmMgKHVzZXJJZCwgd2FyZElkID0gbnVsbCwgZGF0ZSA9IG51bGwsIHNoaWZ0ID0gbnVsbCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgcSA9IHF1ZXJ5KFxyXG4gICAgICBjb2xsZWN0aW9uKGRiLCAnd2FyZERhdGFEcmFmdHMnKSxcclxuICAgICAgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHVzZXJJZClcclxuICAgICk7XHJcbiAgICBcclxuICAgIC8vIOC5gOC4nuC4tOC5iOC4oeC5gOC4h+C4t+C5iOC4reC4meC5hOC4guC4geC4suC4o+C4hOC5ieC4meC4q+C4suC4leC4suC4oSB3YXJkSWQgKOC4luC5ieC4suC4oeC4tSlcclxuICAgIGlmICh3YXJkSWQpIHtcclxuICAgICAgcSA9IHF1ZXJ5KHEsIHdoZXJlKCd3YXJkSWQnLCAnPT0nLCB3YXJkSWQpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g4LmA4Lie4Li04LmI4Lih4LmA4LiH4Li34LmI4Lit4LiZ4LmE4LiC4LiB4Liy4Lij4LiE4LmJ4LiZ4Lir4Liy4LiV4Liy4Lih4Lin4Lix4LiZ4LiX4Li14LmIICjguJbguYnguLLguKHguLUpXHJcbiAgICBpZiAoZGF0ZSkge1xyXG4gICAgICBxID0gcXVlcnkocSwgd2hlcmUoJ2RhdGUnLCAnPT0nLCBkYXRlKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOC5gOC4nuC4tOC5iOC4oeC5gOC4h+C4t+C5iOC4reC4meC5hOC4guC4geC4suC4o+C4hOC5ieC4meC4q+C4suC4leC4suC4oeC4geC4sCAo4LiW4LmJ4Liy4Lih4Li1KVxyXG4gICAgaWYgKHNoaWZ0KSB7XHJcbiAgICAgIHEgPSBxdWVyeShxLCB3aGVyZSgnc2hpZnQnLCAnPT0nLCBzaGlmdCkpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuICAgIFxyXG4gICAgLy8g4LiW4LmJ4Liy4LmE4Lih4LmI4Lie4Lia4LiC4LmJ4Lit4Lih4Li54LilXHJcbiAgICBpZiAocXVlcnlTbmFwc2hvdC5lbXB0eSkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g4LmB4Lib4Lil4LiH4LiC4LmJ4Lit4Lih4Li54Lil4LiX4Li14LmI4LmE4LiU4LmJ4LmA4Lib4LmH4LiZIGFycmF5XHJcbiAgICBjb25zdCBkcmFmdHMgPSBbXTtcclxuICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICAgIGRyYWZ0cy5wdXNoKHtcclxuICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgIC4uLmRvYy5kYXRhKClcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8g4LmA4Lij4Li14Lii4LiH4Lil4Liz4LiU4Lix4Lia4LiV4Liy4Lih4LmA4Lin4Lil4Liy4LiX4Li14LmI4Lia4Lix4LiZ4LiX4Li24LiB4Lil4LmI4Liy4Liq4Li44LiUXHJcbiAgICByZXR1cm4gZHJhZnRzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgY29uc3QgZGF0ZUEgPSBhLnRpbWVzdGFtcCA/IG5ldyBEYXRlKGEudGltZXN0YW1wKSA6IG5ldyBEYXRlKDApO1xyXG4gICAgICBjb25zdCBkYXRlQiA9IGIudGltZXN0YW1wID8gbmV3IERhdGUoYi50aW1lc3RhbXApIDogbmV3IERhdGUoMCk7XHJcbiAgICAgIHJldHVybiBkYXRlQiAtIGRhdGVBO1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBkcmFmdHM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g4Lif4Lix4LiH4LiB4LmM4LiK4Lix4LiZ4LiU4Li24LiH4LiC4LmJ4Lit4Lih4Li54Lil4LiJ4Lia4Lix4Lia4Lij4LmI4Liy4LiH4Lil4LmI4Liy4Liq4Li44LiUXHJcbmV4cG9ydCBjb25zdCBnZXRMYXRlc3REcmFmdCA9IGFzeW5jICh1c2VySWQsIHdhcmRJZCwgZGF0ZSwgc2hpZnQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4gICAgICBjb2xsZWN0aW9uKGRiLCAnd2FyZERhdGFEcmFmdHMnKSxcclxuICAgICAgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHVzZXJJZCksXHJcbiAgICAgIHdoZXJlKCd3YXJkSWQnLCAnPT0nLCB3YXJkSWQpLFxyXG4gICAgICB3aGVyZSgnZGF0ZScsICc9PScsIGRhdGUpLFxyXG4gICAgICB3aGVyZSgnc2hpZnQnLCAnPT0nLCBzaGlmdCksXHJcbiAgICAgIG9yZGVyQnkoJ3RpbWVzdGFtcCcsICdkZXNjJyksXHJcbiAgICAgIGxpbWl0KDEpXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuICAgIFxyXG4gICAgLy8g4LiW4LmJ4Liy4LmE4Lih4LmI4Lie4Lia4LiC4LmJ4Lit4Lih4Li54LilXHJcbiAgICBpZiAocXVlcnlTbmFwc2hvdC5lbXB0eSkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g4Liq4LmI4LiH4LiE4Li34LiZ4LiC4LmJ4Lit4Lih4Li54Lil4LiJ4Lia4Lix4Lia4Lij4LmI4Liy4LiH4Lil4LmI4Liy4Liq4Li44LiUXHJcbiAgICByZXR1cm4gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBsYXRlc3QgZHJhZnQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g4Lif4Lix4LiH4LiB4LmM4LiK4Lix4LiZ4Lil4Lia4LiC4LmJ4Lit4Lih4Li54Lil4LiJ4Lia4Lix4Lia4Lij4LmI4Liy4LiHXHJcbmV4cG9ydCBjb25zdCBkZWxldGVXYXJkRGF0YURyYWZ0ID0gYXN5bmMgKGRyYWZ0SWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgZGVsZXRlRG9jKGRvYyhkYiwgJ3dhcmREYXRhRHJhZnRzJywgZHJhZnRJZCkpO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnRHJhZnQgZGVsZXRlZCBzdWNjZXNzZnVsbHknXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBkcmFmdDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g4Lif4Lix4LiH4LiB4LmM4LiK4Lix4LiZ4Lia4Lix4LiZ4LiX4Li24LiB4Lib4Lij4Liw4Lin4Lix4LiV4Li04LiB4Liy4Lij4LmB4LiB4LmJ4LmE4LiC4LiC4LmJ4Lit4Lih4Li54LilXHJcbmV4cG9ydCBjb25zdCBsb2dXYXJkRGF0YUhpc3RvcnkgPSBhc3luYyAoZGF0YSwgYWN0aW9uLCB1c2VySWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgaWYgKCFkYXRhLndhcmRJZCB8fCAhZGF0YS5kYXRlIHx8ICFkYXRhLnNoaWZ0KSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcydcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g4LiC4LmJ4Lit4Lih4Li54Lil4Lib4Lij4Liw4Lin4Lix4LiV4Li0XHJcbiAgICBjb25zdCBoaXN0b3J5RGF0YSA9IHtcclxuICAgICAgd2FyZElkOiBkYXRhLndhcmRJZCxcclxuICAgICAgZGF0ZTogZGF0YS5kYXRlLFxyXG4gICAgICBzaGlmdDogZGF0YS5zaGlmdCxcclxuICAgICAgYWN0aW9uOiBhY3Rpb24sIC8vICdzYXZlX2RyYWZ0JywgJ3N1Ym1pdF9maW5hbCcsICdhcHByb3ZlJywgJ3JlamVjdCdcclxuICAgICAgdXNlcklkOiB1c2VySWQsXHJcbiAgICAgIHVzZXJEaXNwbGF5TmFtZTogZGF0YS51c2VyRGlzcGxheU5hbWUgfHwgJycsXHJcbiAgICAgIHRpbWVzdGFtcDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgIGRhdGE6IGRhdGEgLy8g4LmA4LiB4LmH4Lia4LiC4LmJ4Lit4Lih4Li54Lil4LiX4Lix4LmJ4LiH4Lir4Lih4LiU4LmD4LiZ4LiC4LiT4Liw4LiZ4Lix4LmJ4LiZXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyDguJrguLHguJnguJfguLbguIHguJvguKPguLDguKfguLHguJXguLRcclxuICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCAnd2FyZERhdGFIaXN0b3J5JyksIGhpc3RvcnlEYXRhKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ0hpc3RvcnkgbG9nZ2VkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgIGlkOiBkb2NSZWYuaWRcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvZ2dpbmcgaGlzdG9yeTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g4Lif4Lix4LiH4LiB4LmM4LiK4Lix4LiZ4LiU4Li24LiH4Lib4Lij4Liw4Lin4Lix4LiV4Li04LiB4Liy4Lij4LmB4LiB4LmJ4LmE4LiCXHJcbmV4cG9ydCBjb25zdCBnZXRXYXJkRGF0YUhpc3RvcnkgPSBhc3luYyAod2FyZElkLCBkYXRlLCBzaGlmdCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBxID0gcXVlcnkoXHJcbiAgICAgIGNvbGxlY3Rpb24oZGIsICd3YXJkRGF0YUhpc3RvcnknKSxcclxuICAgICAgd2hlcmUoJ3dhcmRJZCcsICc9PScsIHdhcmRJZCksXHJcbiAgICAgIHdoZXJlKCdkYXRlJywgJz09JywgZGF0ZSksXHJcbiAgICAgIHdoZXJlKCdzaGlmdCcsICc9PScsIHNoaWZ0KSxcclxuICAgICAgb3JkZXJCeSgndGltZXN0YW1wJywgJ2Rlc2MnKVxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XHJcbiAgICBcclxuICAgIC8vIOC4luC5ieC4suC5hOC4oeC5iOC4nuC4muC4guC5ieC4reC4oeC4ueC4pVxyXG4gICAgaWYgKHF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDguYHguJvguKXguIfguILguYnguK3guKHguLnguKXguJfguLXguYjguYTguJTguYnguYDguJvguYfguJkgYXJyYXlcclxuICAgIGNvbnN0IGhpc3RvcnkgPSBbXTtcclxuICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xyXG4gICAgICBcclxuICAgICAgLy8g4LmB4Lib4Lil4LiHIHRpbWVzdGFtcCDguYDguJvguYfguJkgc3RyaW5nIOC4luC5ieC4suC4oeC4tVxyXG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBkYXRhLnRpbWVzdGFtcCBpbnN0YW5jZW9mIFRpbWVzdGFtcCBcclxuICAgICAgICA/IGRhdGEudGltZXN0YW1wLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICA6IGRhdGEudGltZXN0YW1wO1xyXG4gICAgICBcclxuICAgICAgaGlzdG9yeS5wdXNoKHtcclxuICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgIC4uLmRhdGEsXHJcbiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXBcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGhpc3Rvcnk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgd2FyZCBkYXRhIGhpc3Rvcnk6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiDguJ/guLHguIfguIHguYzguIrguLHguJnguJXguKPguKfguIjguKrguK3guJrguILguYnguK3guKHguLnguKXguKLguYnguK3guJnguKvguKXguLHguIcgNyDguKfguLHguJlcclxuICogQHBhcmFtIHtzdHJpbmd9IHdhcmRJZCDguKPguKvguLHguKogd2FyZFxyXG4gKiBAcGFyYW0ge0RhdGV9IGN1cnJlbnREYXRlIOC4p+C4seC4meC4l+C4teC5iOC4m+C4seC4iOC4iOC4uOC4muC4seC4mSAob3B0aW9uYWwpXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSB0cnVlIOC4luC5ieC4suC4oeC4teC4guC5ieC4reC4oeC4ueC4peC4ouC5ieC4reC4meC4q+C4peC4seC4hyA3IOC4p+C4seC4mSwgZmFsc2Ug4LiW4LmJ4Liy4LmE4Lih4LmI4Lih4Li1XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY2hlY2tMYXN0N0RheXNEYXRhID0gYXN5bmMgKHdhcmRJZCwgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghd2FyZElkKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1dhcmQgSUQgaXMgcmVxdWlyZWQnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOC4hOC4s+C4meC4p+C4k+C4p+C4seC4meC4l+C4teC5iCA3IOC4p+C4seC4meC4ouC5ieC4reC4meC4q+C4peC4seC4h1xyXG4gICAgY29uc3Qgc2V2ZW5EYXlzQWdvID0gc3ViRGF5cyhjdXJyZW50RGF0ZSwgNyk7XHJcbiAgICBjb25zdCBzdGFydERhdGUgPSBmb3JtYXQoc2V2ZW5EYXlzQWdvLCAneXl5eS1NTS1kZCcpO1xyXG4gICAgY29uc3QgZW5kRGF0ZSA9IGZvcm1hdChjdXJyZW50RGF0ZSwgJ3l5eXktTU0tZGQnKTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coYENoZWNraW5nIGZvciBkYXRhIGJldHdlZW4gJHtzdGFydERhdGV9IGFuZCAke2VuZERhdGV9IGZvciB3YXJkICR7d2FyZElkfWApO1xyXG4gICAgXHJcbiAgICAvLyDguITguYnguJnguKvguLLguILguYnguK3guKHguLnguKXguYPguJnguJXguLLguKPguLLguIcgd2FyZERhdGFGaW5hbFxyXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4gICAgICBjb2xsZWN0aW9uKGRiLCAnd2FyZERhdGFGaW5hbCcpLFxyXG4gICAgICB3aGVyZSgnd2FyZElkJywgJz09Jywgd2FyZElkKSxcclxuICAgICAgd2hlcmUoJ2RhdGUnLCAnPj0nLCBzdGFydERhdGUpLFxyXG4gICAgICB3aGVyZSgnZGF0ZScsICc8JywgZW5kRGF0ZSlcclxuICAgICk7XHJcbiAgICBcclxuICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4gICAgXHJcbiAgICAvLyDguJbguYnguLLguKHguLXguILguYnguK3guKHguLnguKXguYPguJkgd2FyZERhdGFGaW5hbFxyXG4gICAgaWYgKCFxdWVyeVNuYXBzaG90LmVtcHR5KSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDguJbguYnguLLguYTguKHguYjguKHguLXguILguYnguK3guKHguLnguKXguYPguJkgd2FyZERhdGFGaW5hbCDguYPguKvguYnguJXguKPguKfguIjguKrguK3guJrguYPguJkgd2FyZERhdGFEcmFmdHNcclxuICAgIGNvbnN0IGRyYWZ0c1F1ZXJ5ID0gcXVlcnkoXHJcbiAgICAgIGNvbGxlY3Rpb24oZGIsICd3YXJkRGF0YURyYWZ0cycpLFxyXG4gICAgICB3aGVyZSgnd2FyZElkJywgJz09Jywgd2FyZElkKSxcclxuICAgICAgd2hlcmUoJ2RhdGUnLCAnPj0nLCBzdGFydERhdGUpLFxyXG4gICAgICB3aGVyZSgnZGF0ZScsICc8JywgZW5kRGF0ZSlcclxuICAgICk7XHJcbiAgICBcclxuICAgIGNvbnN0IGRyYWZ0c1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhkcmFmdHNRdWVyeSk7XHJcbiAgICBcclxuICAgIHJldHVybiAhZHJhZnRzU25hcHNob3QuZW1wdHk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGxhc3QgNyBkYXlzIGRhdGE6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIOC4n+C4seC4h+C4geC5jOC4iuC4seC4meC5gOC4guC5ieC4suC4quC4ueC5iOC4o+C4sOC4muC4miAo4LmB4Lia4Lia4LiH4LmI4Liy4LiiKVxyXG5leHBvcnQgY29uc3QgbG9naW5Vc2VyID0gYXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgW0RFQlVHLUxPR0lOXSBBdHRlbXB0aW5nIGxvZ2luIGZvciB1c2VyOiAke3VzZXJuYW1lfWApO1xyXG4gICAgXHJcbiAgICAvLyDguJfguLPguITguKfguLLguKHguKrguLDguK3guLLguJQgaW5wdXRcclxuICAgIGNvbnN0IGNsZWFuVXNlcm5hbWUgPSB1c2VybmFtZT8udHJpbSgpIHx8ICcnO1xyXG4gICAgY29uc3QgY2xlYW5QYXNzd29yZCA9IHBhc3N3b3JkPy50cmltKCkgfHwgJyc7XHJcbiAgICBcclxuICAgIGlmICghY2xlYW5Vc2VybmFtZSB8fCAhY2xlYW5QYXNzd29yZCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbREVCVUctTE9HSU5dIFVzZXJuYW1lIG9yIHBhc3N3b3JkIGlzIGVtcHR5IGFmdGVyIGNsZWFuaW5nJyk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICfguIHguKPguLjguJPguLLguIHguKPguK3guIHguIrguLfguYjguK3guJzguLnguYnguYPguIrguYnguYHguKXguLDguKPguKvguLHguKrguJzguYjguLLguJknXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGBbREVCVUctTE9HSU5dIFNlYXJjaGluZyBmb3IgdXNlcjogJHtjbGVhblVzZXJuYW1lfWApO1xyXG4gICAgXHJcbiAgICAvLyDguITguYnguJnguKvguLLguJzguLnguYnguYPguIrguYnguIjguLLguIEgdXNlcm5hbWVcclxuICAgIGNvbnN0IHVzZXJzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJyk7XHJcbiAgICBjb25zdCBxID0gcXVlcnkodXNlcnNSZWYsIHdoZXJlKCd1c2VybmFtZScsICc9PScsIGNsZWFuVXNlcm5hbWUpKTtcclxuICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG5cclxuICAgIGlmIChxdWVyeVNuYXBzaG90LmVtcHR5KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tERUJVRy1MT0dJTl0gVXNlciBub3QgZm91bmQnKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogJ+C4iuC4t+C5iOC4reC4nOC4ueC5ieC5g+C4iuC5ieC4q+C4o+C4t+C4reC4o+C4q+C4seC4quC4nOC5iOC4suC4meC5hOC4oeC5iOC4luC4ueC4geC4leC5ieC4reC4hydcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDguJXguKPguKfguIjguKrguK3guJrguKPguKvguLHguKrguJzguYjguLLguJlcclxuICAgIGNvbnN0IHVzZXJEb2MgPSBxdWVyeVNuYXBzaG90LmRvY3NbMF07XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJEb2MuZGF0YSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhgW0RFQlVHLUxPR0lOXSBGb3VuZCB1c2VyOiAke3VzZXJEYXRhLnVzZXJuYW1lfSwgY2hlY2tpbmcgcGFzc3dvcmQuLi5gKTtcclxuICAgIGNvbnNvbGUubG9nKGBbREVCVUctTE9HSU5dIFBhc3N3b3JkIGxlbmd0aHMgLSBzdG9yZWQ6ICR7dXNlckRhdGEucGFzc3dvcmQ/Lmxlbmd0aCB8fCAwfSwgaW5wdXQ6ICR7Y2xlYW5QYXNzd29yZC5sZW5ndGh9YCk7XHJcbiAgICBcclxuICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4suC4oeC4teC4o+C4q+C4seC4quC4nOC5iOC4suC4meC5g+C4meC4kOC4suC4meC4guC5ieC4reC4oeC4ueC4peC4q+C4o+C4t+C4reC5hOC4oeC5iFxyXG4gICAgaWYgKCF1c2VyRGF0YS5wYXNzd29yZCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbREVCVUctTE9HSU5dIFVzZXIgaGFzIG5vIHBhc3N3b3JkIGluIGRhdGFiYXNlJyk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICfguJ7guJrguILguYnguK3guJzguLTguJTguJ7guKXguLLguJTguYDguIHguLXguYjguKLguKfguIHguLHguJrguJrguLHguI3guIrguLXguJzguLnguYnguYPguIrguYkg4LiB4Lij4Li44LiT4Liy4LiV4Li04LiU4LiV4LmI4Lit4Lic4Li54LmJ4LiU4Li54LmB4Lil4Lij4Liw4Lia4LiaJ1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDguJfguLPguITguKfguLLguKHguKrguLDguK3guLLguJTguKPguKvguLHguKrguJzguYjguLLguJnguYPguJnguJDguLLguJnguILguYnguK3guKHguLnguKVcclxuICAgIGNvbnN0IHN0b3JlZFBhc3N3b3JkID0gdXNlckRhdGEucGFzc3dvcmQudHJpbSgpO1xyXG4gICAgXHJcbiAgICBpZiAoc3RvcmVkUGFzc3dvcmQgIT09IGNsZWFuUGFzc3dvcmQpIHtcclxuICAgICAgLy8g4LmB4Liq4LiU4LiH4Lic4Lil4LmA4Lie4Li34LmI4Lit4LiB4Liy4Lij4LmB4LiB4LmJ4LmE4LiC4Lib4Lix4LiN4Lir4LiyIC0g4LmE4Lih4LmI4LmB4Liq4LiU4LiH4Lij4Lir4Lix4Liq4LiI4Lij4Li04LiHXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tERUJVRy1MT0dJTl0gUGFzc3dvcmQgbWlzbWF0Y2g6Jyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtERUJVRy1MT0dJTl0gLSBTdG9yZWQgcGFzcyAoZmlyc3QgMiBjaGFycyk6ICR7c3RvcmVkUGFzc3dvcmQuc3Vic3RyaW5nKDAsIDIpfS4uLmApO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbREVCVUctTE9HSU5dIC0gSW5wdXQgcGFzcyAoZmlyc3QgMiBjaGFycyk6ICR7Y2xlYW5QYXNzd29yZC5zdWJzdHJpbmcoMCwgMil9Li4uYCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDguYDguJfguLXguKLguJrguK3guLHguIHguILguKPguLDguKvguJnguLbguYjguIfguJXguYjguK3guKvguJnguLbguYjguIfguYDguJ7guLfguYjguK3guKvguLLguIjguLjguJTguJfguLXguYjguJXguYjguLLguIfguIHguLHguJkgKOC5hOC4oeC5iOC5geC4quC4lOC4h+C4o+C4q+C4seC4quC4iOC4o+C4tOC4hylcclxuICAgICAgY29uc3QgbWF4TGVuZ3RoID0gTWF0aC5tYXgoc3RvcmVkUGFzc3dvcmQubGVuZ3RoLCBjbGVhblBhc3N3b3JkLmxlbmd0aCk7XHJcbiAgICAgIGxldCBtaXNtYXRjaEluZm8gPSBbXTtcclxuICAgICAgXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4TGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoc3RvcmVkUGFzc3dvcmRbaV0gIT09IGNsZWFuUGFzc3dvcmRbaV0pIHtcclxuICAgICAgICAgIG1pc21hdGNoSW5mby5wdXNoKGBQb3NpdGlvbiAke2l9OiBzdG9yZWQgY2hhciBjb2RlPSR7c3RvcmVkUGFzc3dvcmQuY2hhckNvZGVBdChpKSB8fCAnbm9uZSd9LCBpbnB1dCBjaGFyIGNvZGU9JHtjbGVhblBhc3N3b3JkLmNoYXJDb2RlQXQoaSkgfHwgJ25vbmUnfWApO1xyXG4gICAgICAgICAgaWYgKG1pc21hdGNoSW5mby5sZW5ndGggPj0gMykgYnJlYWs7IC8vIOC5gOC4geC5h+C4muC5hOC4oeC5iOC5gOC4geC4tOC4mSAzIOC4iOC4uOC4lOC4l+C4teC5iOC4leC5iOC4suC4h+C4geC4seC4mVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5lcnJvcignW0RFQlVHLUxPR0lOXSBNaXNtYXRjaCBkZXRhaWxzOicsIG1pc21hdGNoSW5mbyk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiAn4LiK4Li34LmI4Lit4Lic4Li54LmJ4LmD4LiK4LmJ4Lir4Lij4Li34Lit4Lij4Lir4Lix4Liq4Lic4LmI4Liy4LiZ4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHJ1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnW0RFQlVHLUxPR0lOXSBQYXNzd29yZCBtYXRjaCBzdWNjZXNzZnVsLCBjcmVhdGluZyBzZXNzaW9uJyk7XHJcblxyXG4gICAgLy8g4Liq4Lij4LmJ4Liy4LiHIHNlc3Npb24gdG9rZW4g4LmB4Lia4Lia4LiH4LmI4Liy4LiiXHJcbiAgICBjb25zdCBzZXNzaW9uVG9rZW4gPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgRGF0ZS5ub3coKS50b1N0cmluZygzNik7XHJcbiAgICBjb25zdCBzZXNzaW9uSWQgPSBgc2Vzc2lvbl8ke0RhdGUubm93KCl9YDtcclxuICAgIFxyXG4gICAgLy8g4Lit4Lix4Lib4LmA4LiU4LiV4LiC4LmJ4Lit4Lih4Li54LilIHNlc3Npb24g4LmD4LiZ4LiQ4Liy4LiZ4LiC4LmJ4Lit4Lih4Li54LilXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAndXNlcnMnLCB1c2VyRG9jLmlkKSwge1xyXG4gICAgICAgIHNlc3Npb25Ub2tlbixcclxuICAgICAgICBzZXNzaW9uSWQsXHJcbiAgICAgICAgbGFzdExvZ2luOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnW0RFQlVHLUxPR0lOXSBTZXNzaW9uIGRhdGEgdXBkYXRlZCBpbiBkYXRhYmFzZScpO1xyXG4gICAgfSBjYXRjaCAodXBkYXRlRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0RFQlVHLUxPR0lOXSBGYWlsZWQgdG8gdXBkYXRlIHNlc3Npb24gaW5mbyBpbiBkYXRhYmFzZTonLCB1cGRhdGVFcnJvcik7XHJcbiAgICAgIC8vIOC4luC4tuC4h+C4oeC4teC4m+C4seC4jeC4q+C4siDguIHguYfguYPguKvguYnguJTguLPguYDguJnguLTguJnguIHguLLguKPguJXguYjguK1cclxuICAgIH1cclxuXHJcbiAgICAvLyDguKrguKPguYnguLLguIcgdXNlciBvYmplY3Qg4Liq4Liz4Lir4Lij4Lix4Lia4Liq4LmI4LiH4LiB4Lil4Lix4LiaXHJcbiAgICBjb25zdCB1c2VyID0ge1xyXG4gICAgICB1aWQ6IHVzZXJEb2MuaWQsXHJcbiAgICAgIHVzZXJuYW1lOiB1c2VyRGF0YS51c2VybmFtZSxcclxuICAgICAgZGlzcGxheU5hbWU6IHVzZXJEYXRhLmRpc3BsYXlOYW1lIHx8IHVzZXJEYXRhLnVzZXJuYW1lLFxyXG4gICAgICByb2xlOiB1c2VyRGF0YS5yb2xlIHx8ICd1c2VyJyxcclxuICAgICAgd2FyZDogdXNlckRhdGEud2FyZCB8fCBudWxsLFxyXG4gICAgICBzZXNzaW9uVG9rZW4sXHJcbiAgICAgIHNlc3Npb25JZFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnW0RFQlVHLUxPR0lOXSBMb2dpbiBzdWNjZXNzZnVsLCByZXR1cm5pbmcgdXNlciBkYXRhJyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB1c2VyOiB1c2VyXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbREVCVUctTE9HSU5dIExvZ2luIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogJ+C5gOC4geC4tOC4lOC4guC5ieC4reC4nOC4tOC4lOC4nuC4peC4suC4lOC5g+C4meC4geC4suC4o+C5gOC4guC5ieC4suC4quC4ueC5iOC4o+C4sOC4muC4miDguIHguKPguLjguJPguLLguKXguK3guIfguYPguKvguKHguYjguK3guLXguIHguITguKPguLHguYnguIcnXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiDguJXguKPguKfguIjguKrguK3guJrguITguKfguLLguKHguJbguLnguIHguJXguYnguK3guIfguILguK3guIcgc2Vzc2lvbiB0b2tlblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gSUQg4LiC4Lit4LiH4Lic4Li54LmJ4LmD4LiK4LmJXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZXNzaW9uVG9rZW4gLSBTZXNzaW9uIHRva2VuIOC4l+C4teC5iOC4leC5ieC4reC4h+C4geC4suC4o+C4leC4o+C4p+C4iOC4quC4reC4mlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2Vzc2lvbklkIC0gSUQg4LiC4Lit4LiHIHNlc3Npb24g4LiX4Li14LmI4LiV4LmJ4Lit4LiH4LiB4Liy4Lij4LiV4Lij4Lin4LiI4Liq4Lit4LiaXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSAtIOC4nOC4peC4geC4suC4o+C4leC4o+C4p+C4iOC4quC4reC4miAodHJ1ZSA9IOC4luC4ueC4geC4leC5ieC4reC4hywgZmFsc2UgPSDguYTguKHguYjguJbguLnguIHguJXguYnguK3guIcpXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdmFsaWRhdGVTZXNzaW9uID0gYXN5bmMgKHVzZXJJZCwgc2Vzc2lvblRva2VuLCBzZXNzaW9uSWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ1ZhbGlkYXRpbmcgc2Vzc2lvbjonLCB7IHVzZXJJZCwgc2Vzc2lvbklkIH0pO1xyXG4gICAgXHJcbiAgICBpZiAoIXVzZXJJZCB8fCAhc2Vzc2lvblRva2VuIHx8ICFzZXNzaW9uSWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXJzIGZvciBzZXNzaW9uIHZhbGlkYXRpb24nKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDguJXguKPguKfguIjguKrguK3guJrguILguYnguK3guKHguLnguKXguYPguJkgY29sbGVjdGlvbiB1c2Vyc1xyXG4gICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkKTtcclxuICAgIGNvbnN0IHVzZXJTbmFwID0gYXdhaXQgZ2V0RG9jKHVzZXJSZWYpO1xyXG4gICAgXHJcbiAgICBpZiAoIXVzZXJTbmFwLmV4aXN0cygpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgbm90IGZvdW5kIGluIGRhdGFiYXNlJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgdXNlckRhdGEgPSB1c2VyU25hcC5kYXRhKCk7XHJcbiAgICBcclxuICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4siBzZXNzaW9uVG9rZW4g4LiV4Lij4LiH4LiB4Lix4Lia4LiX4Li14LmI4LmA4LiB4LmH4Lia4LmE4Lin4LmJ4Lir4Lij4Li34Lit4LmE4Lih4LmIXHJcbiAgICBpZiAodXNlckRhdGEuc2Vzc2lvblRva2VuICE9PSBzZXNzaW9uVG9rZW4pIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU2Vzc2lvbiB0b2tlbiBtaXNtYXRjaCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4siBzZXNzaW9uSWQg4LiV4Lij4LiH4LiB4Lix4Lia4LiX4Li14LmI4LmA4LiB4LmH4Lia4LmE4Lin4LmJ4Lir4Lij4Li34Lit4LmE4Lih4LmIXHJcbiAgICBpZiAodXNlckRhdGEuc2Vzc2lvbklkICE9PSBzZXNzaW9uSWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU2Vzc2lvbiBJRCBtaXNtYXRjaCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC5gOC4p+C4peC4suC4q+C4oeC4lOC4reC4suC4ouC4uOC4guC4reC4hyBzZXNzaW9uXHJcbiAgICBpZiAodXNlckRhdGEuc2Vzc2lvbkV4cGlyZXNBdCkge1xyXG4gICAgICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSh1c2VyRGF0YS5zZXNzaW9uRXhwaXJlc0F0KTtcclxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChub3cgPiBleHBpcmVzQXQpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIGV4cGlyZWQgYXQ6JywgZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCkpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDguJXguKPguKfguIjguKrguK3guJrguILguYnguK3guKHguLnguKXguYPguJkgY29sbGVjdGlvbiB1c2VyU2Vzc2lvbnNcclxuICAgIGNvbnN0IHNlc3Npb25SZWYgPSBkb2MoZGIsICd1c2VyU2Vzc2lvbnMnLCBzZXNzaW9uSWQpO1xyXG4gICAgY29uc3Qgc2Vzc2lvblNuYXAgPSBhd2FpdCBnZXREb2Moc2Vzc2lvblJlZik7XHJcbiAgICBcclxuICAgIGlmICghc2Vzc2lvblNuYXAuZXhpc3RzKCkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU2Vzc2lvbiBub3QgZm91bmQgaW4gZGF0YWJhc2UnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHNlc3Npb25TbmFwLmRhdGEoKTtcclxuICAgIFxyXG4gICAgLy8g4LiV4Lij4Lin4LiI4Liq4Lit4Lia4Lin4LmI4LiyIHNlc3Npb24g4LiZ4Li14LmJ4LmA4Lib4LmH4LiZ4LiC4Lit4LiH4Lic4Li54LmJ4LmD4LiK4LmJ4LiE4LiZ4LiZ4Li14LmJ4LiI4Lij4Li04LiH4Lir4Lij4Li34Lit4LmE4Lih4LmIXHJcbiAgICBpZiAoc2Vzc2lvbkRhdGEudXNlcklkICE9PSB1c2VySWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU2Vzc2lvbiBiZWxvbmdzIHRvIGRpZmZlcmVudCB1c2VyJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g4LiV4Lij4Lin4LiI4Liq4Lit4Lia4Lin4LmI4LiyIHNlc3Npb24gdG9rZW4g4LiV4Lij4LiH4LiB4Lix4Lia4LiX4Li14LmI4LmA4LiB4LmH4Lia4LmE4Lin4LmJ4Lir4Lij4Li34Lit4LmE4Lih4LmIXHJcbiAgICBpZiAoc2Vzc2lvbkRhdGEuc2Vzc2lvblRva2VuICE9PSBzZXNzaW9uVG9rZW4pIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU2Vzc2lvbiB0b2tlbiBtaXNtYXRjaCBpbiBzZXNzaW9ucyBjb2xsZWN0aW9uJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g4LiV4Lij4Lin4LiI4Liq4Lit4Lia4LmA4Lin4Lil4Liy4Lir4Lih4LiU4Lit4Liy4Lii4Li44LiC4Lit4LiHIHNlc3Npb25cclxuICAgIGlmIChzZXNzaW9uRGF0YS5leHBpcmVzQXQpIHtcclxuICAgICAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoc2Vzc2lvbkRhdGEuZXhwaXJlc0F0KTtcclxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChub3cgPiBleHBpcmVzQXQpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIGV4cGlyZWQgaW4gc2Vzc2lvbnMgY29sbGVjdGlvbicpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDguK3guLHguJvguYDguJTguJXguYDguKfguKXguLLguKXguYjguLLguKrguLjguJTguJfguLXguYjguKHguLXguIHguLLguKPguYPguIrguYnguIfguLLguJkgc2Vzc2lvblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKHVzZXJSZWYsIHtcclxuICAgICAgICBsYXN0QWN0aXZpdHk6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IHVwZGF0ZURvYyhzZXNzaW9uUmVmLCB7XHJcbiAgICAgICAgbGFzdEFjdGl2aXR5OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoICh1cGRhdGVFcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byB1cGRhdGUgbGFzdCBhY3Rpdml0eSB0aW1lOicsIHVwZGF0ZUVycm9yKTtcclxuICAgICAgLy8g4LmD4LiZ4LiB4Lij4LiT4Li14LiZ4Li14LmJ4LmE4Lih4LmI4LiV4LmJ4Lit4LiH4LiB4Liy4Lij4LmD4Lir4LmJ4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiUIOC5gOC4o+C4suC4iOC4sOC4quC5iOC4h+C4hOC5iOC4siB0cnVlIOC4geC4peC4seC4muC5hOC4m+C5gOC4q+C4oeC4t+C4reC4meC5gOC4lOC4tOC4oVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdmFsaWRhdGluZyBzZXNzaW9uOicsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG4vLyDguJ/guLHguIfguIHguYzguIrguLHguJnguKLguIHguYDguKXguLTguIEgc2Vzc2lvblxyXG5leHBvcnQgY29uc3QgaW52YWxpZGF0ZVNlc3Npb24gPSBhc3luYyAoc2Vzc2lvblRva2VuKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghc2Vzc2lvblRva2VuKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ05vIHNlc3Npb24gdG9rZW4gcHJvdmlkZWQnIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8g4LiE4LmJ4LiZ4Lir4Liy4Lic4Li54LmJ4LmD4LiK4LmJ4LiX4Li14LmI4Lih4Li1IHNlc3Npb24gdG9rZW4g4LiZ4Li14LmJXHJcbiAgICBjb25zdCB1c2Vyc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycpO1xyXG4gICAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJzUmVmLCB3aGVyZSgnc2Vzc2lvblRva2VuJywgJz09Jywgc2Vzc2lvblRva2VuKSk7XHJcbiAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbiAgICBpZiAocXVlcnlTbmFwc2hvdC5lbXB0eSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdTZXNzaW9uIG5vdCBmb3VuZCcgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDguKXguJogc2Vzc2lvbiB0b2tlblxyXG4gICAgY29uc3QgdXNlckRvYyA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXTtcclxuICAgIGF3YWl0IHVwZGF0ZURvYyhkb2MoZGIsICd1c2VycycsIHVzZXJEb2MuaWQpLCB7XHJcbiAgICAgIHNlc3Npb25Ub2tlbjogbnVsbFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIGludmFsaWRhdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdFcnJvciBpbnZhbGlkYXRpbmcgc2Vzc2lvbicgfTtcclxuICB9XHJcbn07Il0sIm5hbWVzIjpbImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwiZ2V0RG9jcyIsImRvYyIsImdldERvYyIsInNldERvYyIsImRlbGV0ZURvYyIsImFkZERvYyIsIm9yZGVyQnkiLCJsaW1pdCIsInNlcnZlclRpbWVzdGFtcCIsIlRpbWVzdGFtcCIsInN0YXJ0QWZ0ZXIiLCJlbmRCZWZvcmUiLCJ1cGRhdGVEb2MiLCJkYiIsImZvcm1hdCIsInN1YkRheXMiLCJwYXJzZUlTTyIsInNhdmVXYXJkRGF0YURyYWZ0IiwiZGF0YSIsIndhcmRJZCIsImRhdGUiLCJzaGlmdCIsInVzZXJJZCIsInN1Y2Nlc3MiLCJlcnJvciIsImRvY0lkIiwiZHJhZnREYXRhIiwidGltZXN0YW1wIiwibGFzdFVwZGF0ZWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJtZXNzYWdlIiwiaWQiLCJjb25zb2xlIiwic2F2ZVdhcmREYXRhRmluYWwiLCJmaW5hbERhdGEiLCJpc0FwcHJvdmVkIiwiaXNEcmFmdCIsImdldFVzZXJEcmFmdHMiLCJxIiwicXVlcnlTbmFwc2hvdCIsImVtcHR5IiwiZHJhZnRzIiwiZm9yRWFjaCIsInB1c2giLCJzb3J0IiwiYSIsImIiLCJkYXRlQSIsImRhdGVCIiwiZ2V0TGF0ZXN0RHJhZnQiLCJkb2NzIiwiZGVsZXRlV2FyZERhdGFEcmFmdCIsImRyYWZ0SWQiLCJsb2dXYXJkRGF0YUhpc3RvcnkiLCJhY3Rpb24iLCJoaXN0b3J5RGF0YSIsInVzZXJEaXNwbGF5TmFtZSIsImRvY1JlZiIsImdldFdhcmREYXRhSGlzdG9yeSIsImhpc3RvcnkiLCJ0b0RhdGUiLCJjaGVja0xhc3Q3RGF5c0RhdGEiLCJjdXJyZW50RGF0ZSIsInNldmVuRGF5c0FnbyIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJsb2ciLCJkcmFmdHNRdWVyeSIsImRyYWZ0c1NuYXBzaG90IiwibG9naW5Vc2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInVzZXJEYXRhIiwiY2xlYW5Vc2VybmFtZSIsInRyaW0iLCJjbGVhblBhc3N3b3JkIiwidXNlcnNSZWYiLCJ1c2VyRG9jIiwibGVuZ3RoIiwic3RvcmVkUGFzc3dvcmQiLCJzdWJzdHJpbmciLCJtYXhMZW5ndGgiLCJNYXRoIiwibWF4IiwibWlzbWF0Y2hJbmZvIiwiaSIsImNoYXJDb2RlQXQiLCJzZXNzaW9uVG9rZW4iLCJyYW5kb20iLCJ0b1N0cmluZyIsIm5vdyIsInNlc3Npb25JZCIsImxhc3RMb2dpbiIsInVwZGF0ZUVycm9yIiwidXNlciIsInVpZCIsImRpc3BsYXlOYW1lIiwicm9sZSIsIndhcmQiLCJ2YWxpZGF0ZVNlc3Npb24iLCJ1c2VyUmVmIiwidXNlclNuYXAiLCJleGlzdHMiLCJzZXNzaW9uRXhwaXJlc0F0IiwiZXhwaXJlc0F0Iiwic2Vzc2lvblJlZiIsInNlc3Npb25TbmFwIiwic2Vzc2lvbkRhdGEiLCJsYXN0QWN0aXZpdHkiLCJ3YXJuIiwiaW52YWxpZGF0ZVNlc3Npb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/dataAccess.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/lib/firebase.js":
/*!*****************************!*\
  !*** ./app/lib/firebase.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(app-pages-browser)/./node_modules/firebase/app/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"(app-pages-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* __next_internal_client_entry_do_not_use__ db,auth,default auto */ \n\n\n// แสดงค่า environment variables ออกมาเพื่อตรวจสอบ (ลบออกหลังจากแก้ปัญหาแล้ว)\nconsole.log('Firebase Config Environment Variables:');\nconsole.log('API Key available:', !!\"AIzaSyB9sZFJSn8cvkos5fysi47VpqJc5AsorA4\");\nconsole.log('Auth Domain available:', !!\"manpower-patient-summary.firebaseapp.com\");\nconsole.log('Project ID available:', !!\"manpower-patient-summary\");\nconst firebaseConfig = {\n    apiKey: \"AIzaSyB9sZFJSn8cvkos5fysi47VpqJc5AsorA4\" || 0,\n    authDomain: \"manpower-patient-summary.firebaseapp.com\" || 0,\n    projectId: \"manpower-patient-summary\" || 0,\n    storageBucket: \"manpower-patient-summary.firebasestorage.app\" || 0,\n    messagingSenderId: \"644057496880\" || 0,\n    appId: \"1:644057496880:web:6270efc29187b9c025dcf5\" || 0\n};\nconsole.log('Using Firebase config:', {\n    ...firebaseConfig,\n    apiKey: 'HIDDEN'\n});\n// ประกาศตัวแปรนอก try-catch เพื่อให้สามารถ export ได้\nlet app = null;\nlet db = null;\nlet auth = null;\ntry {\n    // Check if Firebase app is already initialized\n    app = !(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n    // Initialize Firebase services\n    db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\n    auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\n    console.log('Firebase initialized successfully');\n} catch (error) {\n    console.error('Error initializing Firebase:', error);\n// ตัวแปร app, db และ auth จะยังคงเป็น null ถ้าเกิด error\n}\n// Export นอก try-catch block\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9saWIvZmlyZWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O3FFQUVzRDtBQUNKO0FBQ1Y7QUFFeEMsNkVBQTZFO0FBQzdFSSxRQUFRQyxHQUFHLENBQUM7QUFDWkQsUUFBUUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLENBQUNDLHlDQUF3QztBQUM1RUYsUUFBUUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDLENBQUNDLDBDQUE0QztBQUNwRkYsUUFBUUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUNDLDBCQUEyQztBQUVsRixNQUFNSyxpQkFBaUI7SUFDckJDLFFBQVFOLHlDQUF3QyxJQUFJLENBQXlDO0lBQzdGTyxZQUFZUCwwQ0FBNEMsSUFBSSxDQUEwQztJQUN0R1EsV0FBV1IsMEJBQTJDLElBQUksQ0FBMEI7SUFDcEZTLGVBQWVULDhDQUErQyxJQUFJLENBQThDO0lBQ2hIVyxtQkFBbUJYLGNBQW9ELElBQUksQ0FBYztJQUN6RmEsT0FBT2IsMkNBQXVDLElBQUksQ0FBMkM7QUFDL0Y7QUFFQUYsUUFBUUMsR0FBRyxDQUFDLDBCQUEwQjtJQUFDLEdBQUdNLGNBQWM7SUFBRUMsUUFBUTtBQUFRO0FBRTFFLHNEQUFzRDtBQUN0RCxJQUFJUyxNQUFNO0FBQ1YsSUFBSUMsS0FBSztBQUNULElBQUlDLE9BQU87QUFFWCxJQUFJO0lBQ0YsK0NBQStDO0lBQy9DRixNQUFNLENBQUNwQixxREFBT0EsR0FBR3VCLE1BQU0sR0FBR3hCLDJEQUFhQSxDQUFDVyxrQkFBa0JWLHFEQUFPQSxFQUFFLENBQUMsRUFBRTtJQUV0RSwrQkFBK0I7SUFDL0JxQixLQUFLcEIsZ0VBQVlBLENBQUNtQjtJQUNsQkUsT0FBT3BCLHNEQUFPQSxDQUFDa0I7SUFFZmpCLFFBQVFDLEdBQUcsQ0FBQztBQUNkLEVBQUUsT0FBT29CLE9BQU87SUFDZHJCLFFBQVFxQixLQUFLLENBQUMsZ0NBQWdDQTtBQUM5Qyx5REFBeUQ7QUFDM0Q7QUFFQSw2QkFBNkI7QUFDVDtBQUNwQixpRUFBZUosR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCX1NJUlxcT25lRHJpdmVcXOC5gOC4lOC4quC4geC5jOC4l+C5h+C4reC4m1xcQWN0aXZlIDE0LTMtMjAyNVxcU3VtbWFyeV9vZl9QZXJzb25uZWxfUmF0aW9cXGFwcFxcbGliXFxmaXJlYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMgfSBmcm9tICdmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcblxuLy8g4LmB4Liq4LiU4LiH4LiE4LmI4LiyIGVudmlyb25tZW50IHZhcmlhYmxlcyDguK3guK3guIHguKHguLLguYDguJ7guLfguYjguK3guJXguKPguKfguIjguKrguK3guJogKOC4peC4muC4reC4reC4geC4q+C4peC4seC4h+C4iOC4suC4geC5geC4geC5ieC4m+C4seC4jeC4q+C4suC5geC4peC5ieC4pylcbmNvbnNvbGUubG9nKCdGaXJlYmFzZSBDb25maWcgRW52aXJvbm1lbnQgVmFyaWFibGVzOicpO1xuY29uc29sZS5sb2coJ0FQSSBLZXkgYXZhaWxhYmxlOicsICEhcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSk7XG5jb25zb2xlLmxvZygnQXV0aCBEb21haW4gYXZhaWxhYmxlOicsICEhcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4pO1xuY29uc29sZS5sb2coJ1Byb2plY3QgSUQgYXZhaWxhYmxlOicsICEhcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCk7XG5cbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVkgfHwgJ0FJemFTeUI5c1pGSlNuOGN2a29zNWZ5c2k0N1ZwcUpjNUFzb3JBNCcsXG4gIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOIHx8ICdtYW5wb3dlci1wYXRpZW50LXN1bW1hcnkuZmlyZWJhc2VhcHAuY29tJyxcbiAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lEIHx8ICdtYW5wb3dlci1wYXRpZW50LXN1bW1hcnknLFxuICBzdG9yYWdlQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCB8fCAnbWFucG93ZXItcGF0aWVudC1zdW1tYXJ5LmZpcmViYXNlc3RvcmFnZS5hcHAnLFxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCB8fCAnNjQ0MDU3NDk2ODgwJyxcbiAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCB8fCAnMTo2NDQwNTc0OTY4ODA6d2ViOjYyNzBlZmMyOTE4N2I5YzAyNWRjZjUnXG59O1xuXG5jb25zb2xlLmxvZygnVXNpbmcgRmlyZWJhc2UgY29uZmlnOicsIHsuLi5maXJlYmFzZUNvbmZpZywgYXBpS2V5OiAnSElEREVOJ30pO1xuXG4vLyDguJvguKPguLDguIHguLLguKjguJXguLHguKfguYHguJvguKPguJnguK3guIEgdHJ5LWNhdGNoIOC5gOC4nuC4t+C5iOC4reC5g+C4q+C5ieC4quC4suC4oeC4suC4o+C4liBleHBvcnQg4LmE4LiU4LmJXG5sZXQgYXBwID0gbnVsbDtcbmxldCBkYiA9IG51bGw7XG5sZXQgYXV0aCA9IG51bGw7XG5cbnRyeSB7XG4gIC8vIENoZWNrIGlmIEZpcmViYXNlIGFwcCBpcyBhbHJlYWR5IGluaXRpYWxpemVkXG4gIGFwcCA9ICFnZXRBcHBzKCkubGVuZ3RoID8gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZykgOiBnZXRBcHBzKClbMF07XG5cbiAgLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSBzZXJ2aWNlc1xuICBkYiA9IGdldEZpcmVzdG9yZShhcHApO1xuICBhdXRoID0gZ2V0QXV0aChhcHApO1xuXG4gIGNvbnNvbGUubG9nKCdGaXJlYmFzZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBGaXJlYmFzZTonLCBlcnJvcik7XG4gIC8vIOC4leC4seC4p+C5geC4m+C4oyBhcHAsIGRiIOC5geC4peC4sCBhdXRoIOC4iOC4sOC4ouC4seC4h+C4hOC4h+C5gOC4m+C5h+C4mSBudWxsIOC4luC5ieC4suC5gOC4geC4tOC4lCBlcnJvclxufVxuXG4vLyBFeHBvcnQg4LiZ4Lit4LiBIHRyeS1jYXRjaCBibG9ja1xuZXhwb3J0IHsgZGIsIGF1dGggfTtcbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImdldEZpcmVzdG9yZSIsImdldEF1dGgiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVkiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsImF1dGhEb21haW4iLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQiLCJhcHBJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCIsImFwcCIsImRiIiwiYXV0aCIsImxlbmd0aCIsImVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/firebase.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/utils/clientLogging.js":
/*!************************************!*\
  !*** ./app/utils/clientLogging.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearLogs: () => (/* binding */ clearLogs),\n/* harmony export */   getLogs: () => (/* binding */ getLogs),\n/* harmony export */   logEvent: () => (/* binding */ logEvent)\n/* harmony export */ });\n// Local storage key for logs\nconst LOGS_STORAGE_KEY = 'app_logs';\nconst MAX_LOGS = 1000;\n// ส่ง log ไปยัง server\nconst sendLogToServer = async (log)=>{\n    try {\n        const response = await fetch('/api/logs', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(log)\n        });\n        if (!response.ok) {\n            throw new Error(\"Server responded with status \".concat(response.status));\n        }\n        return true;\n    } catch (error) {\n        console.warn('Failed to send log to server:', error);\n        return false;\n    }\n};\nconst logEvent = async function(name) {\n    let properties = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    try {\n        const log = {\n            timestamp: new Date().toISOString(),\n            event: name,\n            properties\n        };\n        // Get existing logs\n        const existingLogs = JSON.parse(localStorage.getItem(LOGS_STORAGE_KEY) || '[]');\n        // Add new log\n        existingLogs.push(log);\n        // Keep only the latest MAX_LOGS entries\n        const trimmedLogs = existingLogs.slice(-MAX_LOGS);\n        // Save back to localStorage\n        localStorage.setItem(LOGS_STORAGE_KEY, JSON.stringify(trimmedLogs));\n        // Development logging\n        if (true) {\n            console.log(\"[Event: \".concat(name, \"]\"), properties);\n        }\n        // ส่ง log ไปยัง server (ไม่รอการตอบกลับ)\n        sendLogToServer(log).catch((error)=>{\n            console.warn('Error sending log to server:', error);\n        });\n        // If you have external logging service (optional)\n        if (false) {}\n    } catch (error) {\n        console.warn('Logging failed:', error);\n    }\n};\nconst getLogs = ()=>{\n    try {\n        return JSON.parse(localStorage.getItem(LOGS_STORAGE_KEY) || '[]');\n    } catch (error) {\n        console.warn('Failed to retrieve logs:', error);\n        return [];\n    }\n};\nconst clearLogs = ()=>{\n    try {\n        localStorage.setItem(LOGS_STORAGE_KEY, '[]');\n    } catch (error) {\n        console.warn('Failed to clear logs:', error);\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC91dGlscy9jbGllbnRMb2dnaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDZCQUE2QjtBQUM3QixNQUFNQSxtQkFBbUI7QUFDekIsTUFBTUMsV0FBVztBQUVqQix1QkFBdUI7QUFDdkIsTUFBTUMsa0JBQWtCLE9BQU9DO0lBQzdCLElBQUk7UUFDRixNQUFNQyxXQUFXLE1BQU1DLE1BQU0sYUFBYTtZQUN4Q0MsUUFBUTtZQUNSQyxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtZQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDUDtRQUN2QjtRQUVBLElBQUksQ0FBQ0MsU0FBU08sRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSUMsTUFBTSxnQ0FBZ0QsT0FBaEJSLFNBQVNTLE1BQU07UUFDakU7UUFFQSxPQUFPO0lBQ1QsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFDLElBQUksQ0FBQyxpQ0FBaUNGO1FBQzlDLE9BQU87SUFDVDtBQUNGO0FBRU8sTUFBTUcsV0FBVyxlQUFPQztRQUFNQyw4RUFBYSxDQUFDO0lBQ2pELElBQUk7UUFDRixNQUFNaEIsTUFBTTtZQUNWaUIsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1lBQ2pDQyxPQUFPTDtZQUNQQztRQUNGO1FBRUEsb0JBQW9CO1FBQ3BCLE1BQU1LLGVBQWVmLEtBQUtnQixLQUFLLENBQUNDLGFBQWFDLE9BQU8sQ0FBQzNCLHFCQUFxQjtRQUUxRSxjQUFjO1FBQ2R3QixhQUFhSSxJQUFJLENBQUN6QjtRQUVsQix3Q0FBd0M7UUFDeEMsTUFBTTBCLGNBQWNMLGFBQWFNLEtBQUssQ0FBQyxDQUFDN0I7UUFFeEMsNEJBQTRCO1FBQzVCeUIsYUFBYUssT0FBTyxDQUFDL0Isa0JBQWtCUyxLQUFLQyxTQUFTLENBQUNtQjtRQUV0RCxzQkFBc0I7UUFDdEIsSUFBSUcsSUFBc0MsRUFBRTtZQUMxQ2pCLFFBQVFaLEdBQUcsQ0FBQyxXQUFnQixPQUFMZSxNQUFLLE1BQUlDO1FBQ2xDO1FBRUEseUNBQXlDO1FBQ3pDakIsZ0JBQWdCQyxLQUFLOEIsS0FBSyxDQUFDbkIsQ0FBQUE7WUFDekJDLFFBQVFDLElBQUksQ0FBQyxnQ0FBZ0NGO1FBQy9DO1FBRUEsa0RBQWtEO1FBQ2xELElBQUlrQixLQUFxRixFQUFFLEVBTTFGO0lBQ0gsRUFBRSxPQUFPbEIsT0FBTztRQUNkQyxRQUFRQyxJQUFJLENBQUMsbUJBQW1CRjtJQUNsQztBQUNGLEVBQUU7QUFFSyxNQUFNc0IsVUFBVTtJQUNyQixJQUFJO1FBQ0YsT0FBTzNCLEtBQUtnQixLQUFLLENBQUNDLGFBQWFDLE9BQU8sQ0FBQzNCLHFCQUFxQjtJQUM5RCxFQUFFLE9BQU9jLE9BQU87UUFDZEMsUUFBUUMsSUFBSSxDQUFDLDRCQUE0QkY7UUFDekMsT0FBTyxFQUFFO0lBQ1g7QUFDRixFQUFFO0FBRUssTUFBTXVCLFlBQVk7SUFDdkIsSUFBSTtRQUNGWCxhQUFhSyxPQUFPLENBQUMvQixrQkFBa0I7SUFDekMsRUFBRSxPQUFPYyxPQUFPO1FBQ2RDLFFBQVFDLElBQUksQ0FBQyx5QkFBeUJGO0lBQ3hDO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCX1NJUlxcT25lRHJpdmVcXOC5gOC4lOC4quC4geC5jOC4l+C5h+C4reC4m1xcQWN0aXZlIDE0LTMtMjAyNVxcU3VtbWFyeV9vZl9QZXJzb25uZWxfUmF0aW9cXGFwcFxcdXRpbHNcXGNsaWVudExvZ2dpbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTG9jYWwgc3RvcmFnZSBrZXkgZm9yIGxvZ3NcbmNvbnN0IExPR1NfU1RPUkFHRV9LRVkgPSAnYXBwX2xvZ3MnO1xuY29uc3QgTUFYX0xPR1MgPSAxMDAwO1xuXG4vLyDguKrguYjguIcgbG9nIOC5hOC4m+C4ouC4seC4hyBzZXJ2ZXJcbmNvbnN0IHNlbmRMb2dUb1NlcnZlciA9IGFzeW5jIChsb2cpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2xvZ3MnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobG9nKSxcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciByZXNwb25kZWQgd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNlbmQgbG9nIHRvIHNlcnZlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbG9nRXZlbnQgPSBhc3luYyAobmFtZSwgcHJvcGVydGllcyA9IHt9KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgbG9nID0ge1xuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBldmVudDogbmFtZSxcbiAgICAgIHByb3BlcnRpZXMsXG4gICAgfTtcblxuICAgIC8vIEdldCBleGlzdGluZyBsb2dzXG4gICAgY29uc3QgZXhpc3RpbmdMb2dzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0dTX1NUT1JBR0VfS0VZKSB8fCAnW10nKTtcbiAgICBcbiAgICAvLyBBZGQgbmV3IGxvZ1xuICAgIGV4aXN0aW5nTG9ncy5wdXNoKGxvZyk7XG4gICAgXG4gICAgLy8gS2VlcCBvbmx5IHRoZSBsYXRlc3QgTUFYX0xPR1MgZW50cmllc1xuICAgIGNvbnN0IHRyaW1tZWRMb2dzID0gZXhpc3RpbmdMb2dzLnNsaWNlKC1NQVhfTE9HUyk7XG4gICAgXG4gICAgLy8gU2F2ZSBiYWNrIHRvIGxvY2FsU3RvcmFnZVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExPR1NfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHRyaW1tZWRMb2dzKSk7XG5cbiAgICAvLyBEZXZlbG9wbWVudCBsb2dnaW5nXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW0V2ZW50OiAke25hbWV9XWAsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8vIOC4quC5iOC4hyBsb2cg4LmE4Lib4Lii4Lix4LiHIHNlcnZlciAo4LmE4Lih4LmI4Lij4Lit4LiB4Liy4Lij4LiV4Lit4Lia4LiB4Lil4Lix4LiaKVxuICAgIHNlbmRMb2dUb1NlcnZlcihsb2cpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUud2FybignRXJyb3Igc2VuZGluZyBsb2cgdG8gc2VydmVyOicsIGVycm9yKTtcbiAgICB9KTtcblxuICAgIC8vIElmIHlvdSBoYXZlIGV4dGVybmFsIGxvZ2dpbmcgc2VydmljZSAob3B0aW9uYWwpXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRVhURVJOQUxfTE9HR0lOR19VUkwpIHtcbiAgICAgIGZldGNoKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0VYVEVSTkFMX0xPR0dJTkdfVVJMLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobG9nKVxuICAgICAgfSkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignTG9nZ2luZyBmYWlsZWQ6JywgZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TG9ncyA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0dTX1NUT1JBR0VfS0VZKSB8fCAnW10nKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byByZXRyaWV2ZSBsb2dzOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjbGVhckxvZ3MgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9HU19TVE9SQUdFX0tFWSwgJ1tdJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gY2xlYXIgbG9nczonLCBlcnJvcik7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiTE9HU19TVE9SQUdFX0tFWSIsIk1BWF9MT0dTIiwic2VuZExvZ1RvU2VydmVyIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwibG9nRXZlbnQiLCJuYW1lIiwicHJvcGVydGllcyIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImV2ZW50IiwiZXhpc3RpbmdMb2dzIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicHVzaCIsInRyaW1tZWRMb2dzIiwic2xpY2UiLCJzZXRJdGVtIiwicHJvY2VzcyIsImNhdGNoIiwiZW52IiwiTkVYVF9QVUJMSUNfRVhURVJOQUxfTE9HR0lOR19VUkwiLCJnZXRMb2dzIiwiY2xlYXJMb2dzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/utils/clientLogging.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/utils/sessionRecording.js":
/*!***************************************!*\
  !*** ./app/utils/sessionRecording.js ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   identifyUser: () => (/* binding */ identifyUser),\n/* harmony export */   initSessionRecording: () => (/* binding */ initSessionRecording),\n/* harmony export */   logEvent: () => (/* binding */ logEvent)\n/* harmony export */ });\n/* harmony import */ var _clientLogging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./clientLogging */ \"(app-pages-browser)/./app/utils/clientLogging.js\");\n\nconst logEvent = function(name) {\n    let properties = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    (0,_clientLogging__WEBPACK_IMPORTED_MODULE_0__.logEvent)(name, properties);\n};\nconst initSessionRecording = ()=>{\n// No initialization needed\n};\nconst identifyUser = function(userId) {\n    let userInfo = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    (0,_clientLogging__WEBPACK_IMPORTED_MODULE_0__.logEvent)('user_identified', {\n        userId,\n        ...userInfo\n    });\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC91dGlscy9zZXNzaW9uUmVjb3JkaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNkQ7QUFFdEQsTUFBTUEsV0FBVyxTQUFDRTtRQUFNQyw4RUFBYSxDQUFDO0lBQzNDRix3REFBY0EsQ0FBQ0MsTUFBTUM7QUFDdkIsRUFBRTtBQUVLLE1BQU1DLHVCQUF1QjtBQUNsQywyQkFBMkI7QUFDN0IsRUFBRTtBQUVLLE1BQU1DLGVBQWUsU0FBQ0M7UUFBUUMsNEVBQVcsQ0FBQztJQUMvQ04sd0RBQWNBLENBQUMsbUJBQW1CO1FBQUVLO1FBQVEsR0FBR0MsUUFBUTtJQUFDO0FBQzFELEVBQUUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQl9TSVJcXE9uZURyaXZlXFzguYDguJTguKrguIHguYzguJfguYfguK3guJtcXEFjdGl2ZSAxNC0zLTIwMjVcXFN1bW1hcnlfb2ZfUGVyc29ubmVsX1JhdGlvXFxhcHBcXHV0aWxzXFxzZXNzaW9uUmVjb3JkaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZ0V2ZW50IGFzIGNsaWVudExvZ0V2ZW50IH0gZnJvbSAnLi9jbGllbnRMb2dnaW5nJztcclxuXHJcbmV4cG9ydCBjb25zdCBsb2dFdmVudCA9IChuYW1lLCBwcm9wZXJ0aWVzID0ge30pID0+IHtcclxuICBjbGllbnRMb2dFdmVudChuYW1lLCBwcm9wZXJ0aWVzKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0U2Vzc2lvblJlY29yZGluZyA9ICgpID0+IHtcclxuICAvLyBObyBpbml0aWFsaXphdGlvbiBuZWVkZWRcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpZGVudGlmeVVzZXIgPSAodXNlcklkLCB1c2VySW5mbyA9IHt9KSA9PiB7XHJcbiAgY2xpZW50TG9nRXZlbnQoJ3VzZXJfaWRlbnRpZmllZCcsIHsgdXNlcklkLCAuLi51c2VySW5mbyB9KTtcclxufTtcclxuIl0sIm5hbWVzIjpbImxvZ0V2ZW50IiwiY2xpZW50TG9nRXZlbnQiLCJuYW1lIiwicHJvcGVydGllcyIsImluaXRTZXNzaW9uUmVjb3JkaW5nIiwiaWRlbnRpZnlVc2VyIiwidXNlcklkIiwidXNlckluZm8iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/utils/sessionRecording.js\n"));

/***/ })

}]);