(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{907:(e,t,r)=>{"use strict";r.d(t,{Sw:()=>c,YU:()=>i});var n=r(5155),o=r(2115);let a=(0,o.createContext)(null),s={fire:async e=>window.__alertService?window.__alertService.showAlert(e):(console.warn("AlertProvider is not found. Using fallback alert."),"error"===e.icon||"error"===e.type)?(alert(e.title?"".concat(e.title,": ").concat(e.text||""):e.text),{isConfirmed:!0}):"warning"===e.icon||"warning"===e.type?{isConfirmed:confirm(e.title?"".concat(e.title,": ").concat(e.text||""):e.text)}:(alert(e.title?"".concat(e.title,": ").concat(e.text||""):e.text),{isConfirmed:!0}),success:async(e,t)=>s.fire({title:e,text:t,icon:"success"}),error:async(e,t)=>s.fire({title:e,text:t,icon:"error"}),warning:async function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return s.fire({title:e,text:t,icon:"warning",showCancelButton:r})},info:async(e,t)=>s.fire({title:e,text:t,icon:"info"}),confirm:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ตกลง",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ยกเลิก";return s.fire({title:e,text:t,icon:"question",showCancelButton:!0,confirmButtonText:r,cancelButtonText:n})},showLoading:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"กำลังโหลด...";if(window.__alertService)return window.__alertService.showLoading(e);console.log("Loading:",e)},close:()=>{if(window.__alertService)return window.__alertService.closeAll();console.log("Closing alerts")}},i=s,l=e=>{let{id:t,isOpen:r,onClose:a,title:s,text:i,icon:l="info",type:c="info",confirmButtonText:d="ตกลง",cancelButtonText:u="ยกเลิก",onConfirm:m,onCancel:h,showCancelButton:g=!1,allowOutsideClick:x=!0,timer:f=0,html:b=null,customClass:w={}}=e,[p,v]=(0,o.useState)(r),[j,y]=(0,o.useState)(f>0?Math.floor(f/1e3):0),N=l||c;(0,o.useEffect)(()=>{if(!p)return;let e=e=>{"Escape"===e.key&&x&&k(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[p,x]),(0,o.useEffect)(()=>{if(!p||f<=0)return;let e=setInterval(()=>{y(t=>t<=1?(clearInterval(e),setTimeout(()=>k(!0),0),0):t-1)},1e3);return()=>clearInterval(e)},[p,f]);let k=e=>{v(!1),setTimeout(()=>{e?m&&m():h&&h(),a&&a(e)},300)};return r?(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300 ".concat(p?"opacity-100":"opacity-0 pointer-events-none"," ").concat(x?"cursor-pointer":""),onClick:e=>{e.target===e.currentTarget&&x&&k(!1)},style:{backgroundColor:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(2px)"},children:(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full m-4 transform transition-all duration-300 ".concat(p?"scale-100 opacity-100":"scale-95 opacity-0"," cursor-default ").concat(w.container||""),children:(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"text-center",children:["success"===N&&(0,n.jsx)("div",{className:"mx-auto bg-green-100 p-3 rounded-full w-fit mb-4",children:(0,n.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),"error"===N&&(0,n.jsx)("div",{className:"mx-auto bg-red-100 p-3 rounded-full w-fit mb-4",children:(0,n.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),"info"===N&&(0,n.jsx)("div",{className:"mx-auto bg-blue-100 p-3 rounded-full w-fit mb-4",children:(0,n.jsx)("svg",{className:"w-10 h-10 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"warning"===N&&(0,n.jsx)("div",{className:"mx-auto bg-yellow-100 p-3 rounded-full w-fit mb-4",children:(0,n.jsx)("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),"question"===N&&(0,n.jsx)("div",{className:"mx-auto bg-purple-100 p-3 rounded-full w-fit mb-4",children:(0,n.jsx)("svg",{className:"w-10 h-10 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"loading"===N&&(0,n.jsx)("div",{className:"mx-auto p-3 w-fit mb-4",children:(0,n.jsx)("div",{className:"w-12 h-12 border-4 border-t-[#0ab4ab] border-r-[#0ab4ab] border-b-gray-200 border-l-gray-200 rounded-full animate-spin"})}),s&&(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2 ".concat(w.title||""),children:s}),i&&(0,n.jsx)("p",{className:"text-gray-600 ".concat(w.text||""),children:i}),b&&(0,n.jsx)("div",{className:"mt-2 ".concat(w.htmlContainer||""),dangerouslySetInnerHTML:{__html:b}}),j>0&&(0,n.jsxs)("div",{className:"mt-3 text-sm text-gray-500",children:["ปิดอัตโนมัติใน ",j," วินาที"]})]}),"loading"!==N&&(0,n.jsxs)("div",{className:"flex justify-center gap-3 mt-6",children:[g&&(0,n.jsx)("button",{onClick:()=>k(!1),className:"px-5 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 ".concat(w.cancelButton||""),children:u}),(0,n.jsx)("button",{onClick:()=>k(!0),className:"px-5 py-2 bg-[#0ab4ab] text-white rounded-md hover:bg-[#099a92] ".concat(w.confirmButton||""),children:d})]})]})})}):null},c=e=>{let{children:t}=e,[r,s]=(0,o.useState)([]),[i,c]=(0,o.useState)(null),d=(0,o.useRef)(0),u=()=>(d.current+=1,"".concat(Date.now(),"-").concat(d.current,"-").concat(Math.random().toString(36).substr(2,5)));(0,o.useEffect)(()=>(window.__alertService={showAlert:m,showLoading:h,closeAll:x},()=>{delete window.__alertService}),[]);let m=e=>new Promise(t=>{let r=u(),n={id:r,isOpen:!0,...e,onClose:e=>{g(r),t({isConfirmed:e})}};s(e=>[...e,n])}),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"กำลังโหลด...";x();let t=u();return c({id:t,isOpen:!0,title:e,type:"loading",icon:"loading",allowOutsideClick:!1}),t},g=e=>{s(t=>t.map(t=>t.id===e?{...t,isOpen:!1}:t)),setTimeout(()=>{s(t=>t.filter(t=>t.id!==e))},300)},x=()=>{s(e=>e.map(e=>({...e,isOpen:!1}))),i&&(c({...i,isOpen:!1}),setTimeout(()=>{c(null)},300)),setTimeout(()=>{s([])},300)};return(0,n.jsxs)(a.Provider,{value:{showAlert:m,showLoading:h,closeAlert:g,closeAll:x},children:[t,r.map(e=>(0,n.jsx)(l,{...e},e.id)),i&&(0,n.jsx)(l,{...i},"loading-".concat(i.id))]})}},1586:(e,t,r)=>{"use strict";r.d(t,{default:()=>E});var n=r(5155),o=r(2115),a=r(2808),s=r(3932);function i(){return(0,n.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,n.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-lg px-4 py-2 border border-gray-200 hover:bg-white/90 transition-all duration-300",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"v.2.3.3.2025"})]})})})}function l(e){let{children:t}=e;return(0,o.useEffect)(()=>{console.log("Providers component mounted")},[]),(0,n.jsx)(s.NP,{children:(0,n.jsxs)(a.O,{children:[t,(0,n.jsx)(i,{})]})})}var c=r(5695),d=r(907);let u={WARD:"ward",SHIFT:"shift",FORM:"form",DASHBOARD:"dashboard",USER_MANAGEMENT:"user_management"},m={[u.WARD]:"Ward Form",[u.SHIFT]:"Shift Form",[u.FORM]:"Approval",[u.DASHBOARD]:"Dashboard",[u.USER_MANAGEMENT]:"User Management"},h=()=>{let{theme:e,toggleTheme:t}=(0,s.DP)();return(0,n.jsx)("button",{onClick:t,"aria-label":"dark"===e?"Switch to light mode":"Switch to dark mode",title:"dark"===e?"Switch to light mode":"Switch to dark mode",className:"p-2 rounded-full transition-colors duration-300 ".concat("dark"===e?"bg-gray-800 hover:bg-gray-700 text-yellow-300":"bg-white hover:bg-gray-100 text-gray-700"),children:"dark"===e?(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})}):(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})})})},g=()=>{var e;let t=(0,c.useRouter)(),r=(0,c.usePathname)(),{user:i,logout:l}=(0,a.A)(),{theme:g}=(0,s.DP)(),[x,f]=(0,o.useState)();(0,o.useEffect)(()=>{if("/"===r){f(window.currentPage||u.FORM);let e=()=>{f(window.currentPage)};return window.addEventListener("currentPageChange",e),()=>{window.removeEventListener("currentPageChange",e)}}"/page/ward-form"===r||"/ward-form"===r?f(u.WARD):"/page/shift-form"===r||"/shift-form"===r?f(u.SHIFT):"/page/approval"===r||"/approval"===r?f(u.FORM):"/page/dashboard"===r||"/dashboard"===r?f(u.DASHBOARD):("/page/user-management"===r||r.includes("/admin/user-management"))&&f(u.USER_MANAGEMENT)},[r]);let b=e=>{var r;if(e===u.USER_MANAGEMENT&&(null==i?void 0:null===(r=i.role)||void 0===r?void 0:r.toLowerCase())!=="admin"){d.YU.fire({title:"ไม่มีสิทธิ์เข้าถึง",text:"คุณไม่มีสิทธิ์เข้าถึงหน้าจัดการผู้ใช้",icon:"warning",confirmButtonColor:"#0ab4ab"});return}switch(f(e),e){case u.WARD:t.push("/page/ward-form/");break;case u.SHIFT:t.push("/page/shift-form/");break;case u.FORM:t.push("/page/approval/");break;case u.DASHBOARD:t.push("/page/dashboard/");break;case u.USER_MANAGEMENT:t.push("/page/user-management/");break;default:t.push("/")}},w=async()=>{try{(await d.YU.fire({title:"ต้องการออกจากระบบ?",text:"คุณแน่ใจหรือไม่ว่าต้องการออกจากระบบ",icon:"question",showCancelButton:!0,confirmButtonText:"ใช่, ออกจากระบบ",cancelButtonText:"ยกเลิก",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6"})).isConfirmed&&(await l(),t.push("/page/login"))}catch(e){console.error("Logout failed:",e),d.YU.fire({title:"เกิดข้อผิดพลาด",text:"ไม่สามารถออกจากระบบได้ กรุณาลองใหม่อีกครั้ง",icon:"error",confirmButtonColor:"#0ab4ab"})}};return i&&"/login"!==r&&"/page/login"!==r?(0,n.jsx)("div",{className:"".concat("dark"===g?"bg-gray-800":"bg-[#0ab4ab]"," text-white shadow-md p-3 fixed top-0 left-0 right-0 z-50 w-full transition-colors duration-300"),children:(0,n.jsxs)("div",{className:"container mx-auto flex flex-wrap justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex flex-wrap items-center space-x-2 md:space-x-4 mb-2 md:mb-0",children:[(0,n.jsx)("button",{onClick:()=>b(u.WARD),className:"px-4 py-2 rounded-md font-medium text-base ".concat(x===u.WARD?"bg-gray-700 text-white shadow-md border-2 border-white":"dark"===g?"bg-gray-700 text-white hover:bg-gray-600":"bg-[#0ab4ab] text-white hover:bg-teal-600"," transition-all duration-200"),children:(0,n.jsx)("span",{className:"font-bold",children:m[u.WARD]})}),(0,n.jsx)("button",{onClick:()=>b(u.FORM),className:"px-4 py-2 rounded-md font-medium text-base ".concat(x===u.FORM?"bg-gray-700 text-white shadow-md border-2 border-white":"dark"===g?"bg-gray-700 text-white hover:bg-gray-600":"bg-[#0ab4ab] text-white hover:bg-teal-600"," transition-all duration-200"),children:(0,n.jsx)("span",{className:x===u.FORM?"font-bold":"",children:m[u.FORM]})}),(0,n.jsx)("button",{onClick:()=>b(u.DASHBOARD),className:"px-4 py-2 rounded-md font-medium text-base ".concat(x===u.DASHBOARD?"bg-gray-700 text-white shadow-md border-2 border-white":"dark"===g?"bg-gray-700 text-white hover:bg-gray-600":"bg-[#0ab4ab] text-white hover:bg-teal-600"," transition-all duration-200"),children:(0,n.jsx)("span",{className:x===u.DASHBOARD?"font-bold":"",children:m[u.DASHBOARD]})}),(null==i?void 0:null===(e=i.role)||void 0===e?void 0:e.toLowerCase())==="admin"&&(0,n.jsx)("button",{onClick:()=>b(u.USER_MANAGEMENT),className:"px-4 py-2 rounded-md font-medium text-base ".concat(x===u.USER_MANAGEMENT?"bg-gray-700 text-white shadow-md border-2 border-white":"dark"===g?"bg-gray-700 text-white hover:bg-gray-600":"bg-[#0ab4ab] text-white hover:bg-teal-600"," transition-all duration-200"),children:(0,n.jsx)("span",{className:x===u.USER_MANAGEMENT?"font-bold":"",children:m[u.USER_MANAGEMENT]})})]}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,n.jsxs)("div",{className:"text-white text-sm mr-4 mb-2 md:mb-0",children:["Logged in as: ",i.username||"user"," | Department: ",i.department||""," | Role: ",i.role||"user"]}),(0,n.jsx)("div",{className:"mr-3",children:(0,n.jsx)(h,{})}),(0,n.jsx)("button",{onClick:w,className:"py-2 px-3 rounded-md bg-red-500 text-white hover:bg-red-600 transition-colors duration-200",children:(0,n.jsx)("span",{children:"ออกจากระบบ"})})]})]})}):null};var x=r(4197),f=r(5112);let b=new Set,w=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{let n=p(e,t,r);if(b.has(n))return{success:!0,validated:!0};let o=v(e,t,r);return await (0,f.GG)(o),b.add(n),{success:!0,validated:!0}}catch(e){if(console.error("Firebase Index Validation Error:",e),e.message&&e.message.includes("requires an index")){let t=j(e.message);return{success:!1,isIndexError:!0,message:e.message,indexUrl:t}}return{success:!1,isIndexError:!1,message:e.message}}},p=(e,t,r)=>{let n=t.map(e=>"".concat(e.field,"_").concat(e.operator,"_").concat(e.value)).join("|"),o=r.join("|");return"".concat(e,"_").concat(n,"_").concat(o)},v=(e,t,n)=>{let o=(0,f.P)((0,f.rJ)(x.db,e),(0,f.AB)(1));if(t.forEach(e=>{o=(0,f.P)(o,(0,f._M)(e.field,e.operator,e.value))}),n.length>0){let{orderBy:e}=r(5006);n.forEach(t=>{o="object"==typeof t?(0,f.P)(o,e(t.field,t.direction)):(0,f.P)(o,e(t))})}return o},j=e=>{let t=e.match(/(https:\/\/console\.firebase\.google\.com\S+)/);return t&&t[1]?t[1]:null},y=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.message&&e.message.includes("requires an index")){let r=j(e.message);if(r){let e=await d.YU.fire({title:"ต้องสร้าง Index ใน Firebase",html:'\n          <p>การค้นหาข้อมูลนี้ต้องการ index เพิ่มเติม</p>\n          <p>คลิกปุ่ม "สร้าง Index" เพื่อสร้าง index ใน Firebase Console</p>\n          <p>หลังจากสร้างแล้ว ให้กลับมารีเฟรชหน้านี้</p>\n          <div class="mt-4">\n            <a href="'.concat(r,'" target="_blank" rel="noopener noreferrer" \n               class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">\n              สร้าง Index\n            </a>\n          </div>\n        '),icon:"warning",showCancelButton:!0,confirmButtonText:"รีเฟรชหน้านี้",cancelButtonText:"ยกเลิก",confirmButtonColor:"#0ab4ab"});return t&&window.open(r,"_blank"),e.isConfirmed&&window.location.reload(),!0}}return!1},N=async()=>{let e=[];for(let t of[{collection:"wardDataFinal",conditions:[{field:"wardId",operator:"==",value:"test"},{field:"date",operator:"==",value:"2023-01-01"},{field:"shift",operator:"==",value:"เช้า"}]},{collection:"wardDataHistory",conditions:[{field:"wardId",operator:"==",value:"test"},{field:"date",operator:"==",value:"2023-01-01"},{field:"shift",operator:"==",value:"เช้า"}],orderBy:[{field:"timestamp",direction:"desc"}]},{collection:"wardDailyRecords",conditions:[{field:"wardId",operator:"==",value:"test"},{field:"date",operator:">=",value:"2023-01-01"},{field:"date",operator:"<=",value:"2023-02-01"}]}])try{let r=await w(t.collection,t.conditions,t.orderBy||[]);e.push({collection:t.collection,success:r.success,...r})}catch(r){e.push({collection:t.collection,success:!1,error:r.message})}return e},k=()=>{let[e,t]=(0,o.useState)("pending"),[r,n]=(0,o.useState)([]);return(0,o.useEffect)(()=>{let e=async()=>{try{let e=(await N()).filter(e=>!e.success&&e.isIndexError);if(n(e),t(e.length>0?"missing":"complete"),e.length>0){let t=e[0];t.indexUrl&&await y({message:"The query requires an index. You can create it here: ".concat(t.indexUrl)},!1)}}catch(e){console.error("Error validating Firebase indexes:",e),t("error")}},r=setTimeout(()=>{e()},3e3);return()=>clearTimeout(r)},[]),null};function E(e){let{children:t}=e,[r,i]=(0,o.useState)(!1),[u,m]=(0,o.useState)(null),h=(0,c.usePathname)(),x="/page/login"===h||"/login"===h;if((0,o.useEffect)(()=>{try{i(!0),console.log("ClientLayout mounted - setting up providers"),"function"!=typeof d.Sw?console.error("AlertProvider is not a valid component:",d.Sw):console.log("AlertProvider loaded correctly"),console.log("Providers loaded correctly")}catch(e){console.error("Error in ClientLayout mount:",e),m(e.message||"เกิดข้อผิดพลาดในการโหลดแอปพลิเคชัน")}},[]),u)return(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full text-center",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"เกิดข้อผิดพลาด"}),(0,n.jsx)("p",{className:"mb-4",children:u}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"กรุณารีเฟรชหน้าเว็บหรือติดต่อผู้ดูแลระบบ"}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded",children:"รีเฟรชหน้า"})]})});if(!r)return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-gray-500",children:"กำลังโหลด..."})});try{return(0,n.jsx)(d.Sw,{children:(0,n.jsx)(a.O,{children:(0,n.jsxs)(s.NP,{children:[(0,n.jsx)(k,{}),(0,n.jsxs)(l,{children:[!x&&(0,n.jsx)(g,{}),(0,n.jsx)("div",{className:x?"":"pt-16",children:t})]})]})})})}catch(e){return console.error("Error rendering ClientLayout:",e),(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full text-center",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"เกิดข้อผิดพลาดในการเรนเดอร์"}),(0,n.jsx)("p",{className:"mb-4",children:e.message||"ไม่สามารถแสดงผลแอปพลิเคชันได้"}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded",children:"ลองอีกครั้ง"})]})})}}},3932:(e,t,r)=>{"use strict";r.d(t,{DP:()=>i,NP:()=>s});var n=r(5155),o=r(2115);let a=(0,o.createContext)({theme:"light",toggleTheme:()=>{}}),s=e=>{let{children:t}=e,[r,s]=(0,o.useState)("light");return(0,o.useEffect)(()=>{let e=localStorage.getItem("theme")||"light";s(e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),(0,n.jsx)(a.Provider,{value:{theme:r,toggleTheme:()=>{let e="light"===r?"dark":"light";s(e),localStorage.setItem("theme",e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),console.log("Theme changed to ".concat(e," mode"))}},children:(0,n.jsx)("div",{className:"dark"===r?"dark-theme":"light-theme",children:t})})},i=()=>{let e=(0,o.useContext)(a);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},6393:(e,t,r)=>{Promise.resolve().then(r.bind(r,1586)),Promise.resolve().then(r.t.bind(r,9324,23))},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[533,445,68,808,315,358],()=>t(6393)),_N_E=e.O()}]);