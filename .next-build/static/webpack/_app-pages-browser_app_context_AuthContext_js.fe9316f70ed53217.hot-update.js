"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app_context_AuthContext_js",{

/***/ "(app-pages-browser)/./app/context/AuthContext.js":
/*!************************************!*\
  !*** ./app/context/AuthContext.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/firebase */ \"(app-pages-browser)/./app/lib/firebase.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dataAccess */ \"(app-pages-browser)/./app/lib/dataAccess.js\");\n/* harmony import */ var _utils_sessionRecording__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/sessionRecording */ \"(app-pages-browser)/./app/utils/sessionRecording.js\");\n/* __next_internal_client_entry_do_not_use__ useAuth,AuthProvider auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n// Initialize with default values including the function signatures\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    user: null,\n    loading: true,\n    isAuthenticated: false,\n    login: async (username, password)=>{},\n    logout: ()=>{}\n});\nconst useAuth = ()=>{\n    _s();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nfunction AuthProvider(param) {\n    let { children } = param;\n    _s1();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            // Check if user is stored in localStorage\n            const checkLocalStorage = {\n                \"AuthProvider.useEffect.checkLocalStorage\": ()=>{\n                    try {\n                        const storedUser = localStorage.getItem('user');\n                        if (storedUser) {\n                            const parsedUser = JSON.parse(storedUser);\n                            setUser(parsedUser);\n                            // ตรวจสอบความถูกต้องของ session\n                            validateUserSession(parsedUser);\n                        }\n                        setLoading(false);\n                    } catch (error) {\n                        console.error('Error checking localStorage:', error);\n                        setLoading(false);\n                    }\n                }\n            }[\"AuthProvider.useEffect.checkLocalStorage\"];\n            checkLocalStorage();\n            // ตั้ง listener เพื่อติดตามการเปลี่ยนแปลงของ session\n            let unsubscribe = {\n                \"AuthProvider.useEffect.unsubscribe\": ()=>{}\n            }[\"AuthProvider.useEffect.unsubscribe\"];\n            if (user && user.uid && user.sessionId) {\n                // ติดตามการเปลี่ยนแปลงของเอกสาร session ปัจจุบัน\n                unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_2__.db, 'userSessions', user.sessionId), {\n                    \"AuthProvider.useEffect\": (snapshot)=>{\n                        if (snapshot.exists()) {\n                            const sessionData = snapshot.data();\n                            // ถ้า session ไม่ active แล้ว ให้ logout อัตโนมัติ\n                            if (!sessionData.active) {\n                                console.log('Session expired or invalidated, logging out...');\n                                logout(false); // ไม่ต้องเรียก invalidateSession เพราะ session ถูกยกเลิกไปแล้ว\n                            }\n                        } else {\n                            // ไม่พบ session ให้ logout\n                            console.log('Session not found, logging out...');\n                            logout(false);\n                        }\n                    }\n                }[\"AuthProvider.useEffect\"], {\n                    \"AuthProvider.useEffect\": (error)=>{\n                        console.error('Error listening to session changes:', error);\n                    }\n                }[\"AuthProvider.useEffect\"]);\n            }\n            // Clean up listener เมื่อ component unmount หรือ user เปลี่ยน\n            return ({\n                \"AuthProvider.useEffect\": ()=>{\n                    if (unsubscribe) {\n                        unsubscribe();\n                    }\n                }\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], [\n        user === null || user === void 0 ? void 0 : user.uid,\n        user === null || user === void 0 ? void 0 : user.sessionId\n    ]);\n    // ฟังก์ชันตรวจสอบความถูกต้องของ session\n    const validateUserSession = async (user)=>{\n        if (!user || !user.uid || !user.sessionId) {\n            setUser(null);\n            localStorage.removeItem('user');\n            return;\n        }\n        try {\n            const isValid = await (0,_lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__.validateSession)(user.uid, user.sessionId);\n            if (!isValid) {\n                // ถ้า session ไม่ถูกต้อง ให้ logout\n                console.log('Invalid session, logging out...');\n                logout(false);\n            }\n        } catch (error) {\n            console.error('Error validating session:', error);\n        }\n    };\n    // Login function\n    const login = async (username, password)=>{\n        console.log('Login function called with username:', username);\n        try {\n            const result = await (0,_lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__.loginUser)(username, password);\n            if (result && result.success) {\n                localStorage.setItem('user', JSON.stringify(result.user));\n                setUser(result.user);\n                // Wrap logging in try-catch\n                try {\n                    (0,_utils_sessionRecording__WEBPACK_IMPORTED_MODULE_5__.logEvent)('user_login', {\n                        userId: result.user.uid,\n                        username: username,\n                        sessionId: result.user.sessionId,\n                        role: result.user.role,\n                        name: result.user.displayName,\n                        timestamp: new Date().toISOString(),\n                        action: 'Login success'\n                    });\n                } catch (logError) {\n                    console.warn('Login logging failed:', logError);\n                }\n                return result;\n            }\n            return result;\n        } catch (error) {\n            console.error('Login error:', error);\n            return {\n                success: false,\n                error: error.message || 'เกิดข้อผิดพลาดในการเข้าสู่ระบบ'\n            };\n        }\n    };\n    // Logout function\n    const logout = function() {\n        let invalidateCurrentSession = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n        try {\n            const userId = user === null || user === void 0 ? void 0 : user.uid;\n            const sessionId = user === null || user === void 0 ? void 0 : user.sessionId;\n            // ถ้าต้องการยกเลิก session ปัจจุบัน\n            if (invalidateCurrentSession && sessionId) {\n                (0,_lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__.invalidateSession)(sessionId).catch((error)=>{\n                    console.error('Error invalidating session:', error);\n                });\n            }\n            localStorage.removeItem('user');\n            setUser(null);\n            (0,_utils_sessionRecording__WEBPACK_IMPORTED_MODULE_5__.logEvent)('user_logout', {\n                userId,\n                username: user === null || user === void 0 ? void 0 : user.username,\n                sessionId,\n                role: user === null || user === void 0 ? void 0 : user.role,\n                name: user === null || user === void 0 ? void 0 : user.displayName,\n                timestamp: new Date().toISOString(),\n                action: 'Logout success'\n            });\n            return true;\n        } catch (error) {\n            console.error('Logout error:', error);\n            return false;\n        }\n    };\n    // Check if user is authenticated\n    const isAuthenticated = user !== null;\n    // Make sure login is included in the context value\n    const value = {\n        user,\n        loading,\n        isAuthenticated: !!user,\n        login,\n        logout\n    };\n    console.log('AuthContext value:', {\n        user: !!value.user,\n        loading: value.loading,\n        isAuthenticated: value.isAuthenticated,\n        hasLogin: typeof value.login === 'function',\n        hasLogout: typeof value.logout === 'function'\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\B_SIR\\\\OneDrive\\\\เดสก์ท็อป\\\\Summary_of_Personnel_Ratio\\\\Summary_of_Personnel_Ratio\\\\app\\\\context\\\\AuthContext.js\",\n        lineNumber: 186,\n        columnNumber: 5\n    }, this);\n}\n_s1(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb250ZXh0L0F1dGhDb250ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQ3VFO0FBQzVCO0FBQzRDO0FBQ0w7QUFDN0I7QUFFckQsbUVBQW1FO0FBQ25FLE1BQU1nQiw0QkFBY2hCLG9EQUFhQSxDQUFDO0lBQ2hDaUIsTUFBTTtJQUNOQyxTQUFTO0lBQ1RDLGlCQUFpQjtJQUNqQkMsT0FBTyxPQUFPQyxVQUFVQyxZQUFjO0lBQ3RDQyxRQUFRLEtBQU87QUFDakI7QUFFTyxNQUFNQyxVQUFVOztJQUFNdkIsT0FBQUEsaURBQVVBLENBQUNlO0FBQVcsRUFBRTtHQUF4Q1E7QUFFTixTQUFTQyxhQUFhLEtBQVk7UUFBWixFQUFFQyxRQUFRLEVBQUUsR0FBWjs7SUFDM0IsTUFBTSxDQUFDVCxNQUFNVSxRQUFRLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNnQixTQUFTVSxXQUFXLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUV2Q0MsZ0RBQVNBO2tDQUFDO1lBQ1IsMENBQTBDO1lBQzFDLE1BQU0wQjs0REFBb0I7b0JBQ3hCLElBQUk7d0JBQ0YsTUFBTUMsYUFBYUMsYUFBYUMsT0FBTyxDQUFDO3dCQUN4QyxJQUFJRixZQUFZOzRCQUNkLE1BQU1HLGFBQWFDLEtBQUtDLEtBQUssQ0FBQ0w7NEJBQzlCSCxRQUFRTTs0QkFFUixnQ0FBZ0M7NEJBQ2hDRyxvQkFBb0JIO3dCQUN0Qjt3QkFDQUwsV0FBVztvQkFDYixFQUFFLE9BQU9TLE9BQU87d0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxnQ0FBZ0NBO3dCQUM5Q1QsV0FBVztvQkFDYjtnQkFDRjs7WUFFQUM7WUFFQSxxREFBcUQ7WUFDckQsSUFBSVU7c0RBQWMsS0FBTzs7WUFFekIsSUFBSXRCLFFBQVFBLEtBQUt1QixHQUFHLElBQUl2QixLQUFLd0IsU0FBUyxFQUFFO2dCQUN0QyxpREFBaUQ7Z0JBQ2pERixjQUFjL0IsOERBQVVBLENBQ3RCRix1REFB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V0FBV3lCLEtBQUssQ0FBQzdCLENBQUFBO29CQUNqQ0MsUUFBUUQsS0FBSyxDQUFDLCtCQUErQkE7Z0JBQy9DO1lBQ0Y7WUFFQU4sYUFBYWlCLFVBQVUsQ0FBQztZQUN4QnJCLFFBQVE7WUFFUlosaUVBQVFBLENBQUMsZUFBZTtnQkFDdEJ1QztnQkFDQWpDLFFBQVEsRUFBRUosaUJBQUFBLDJCQUFBQSxLQUFNSSxRQUFRO2dCQUN4Qm9CO2dCQUNBYyxJQUFJLEVBQUV0QyxpQkFBQUEsMkJBQUFBLEtBQU1zQyxJQUFJO2dCQUNoQkMsSUFBSSxFQUFFdkMsaUJBQUFBLDJCQUFBQSxLQUFNd0MsV0FBVztnQkFDdkJDLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztnQkFDakNDLFFBQVE7WUFDVjtZQUVBLE9BQU87UUFDVCxFQUFFLE9BQU94QixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQkFBaUJBO1lBQy9CLE9BQU87UUFDVDtJQUNGO0lBRUEsaUNBQWlDO0lBQ2pDLE1BQU1sQixrQkFBa0JGLFNBQVM7SUFFakMsbURBQW1EO0lBQ25ELE1BQU1rRCxRQUFRO1FBQ1psRDtRQUNBQztRQUNBQyxpQkFBaUIsQ0FBQyxDQUFDRjtRQUNuQkc7UUFDQUc7SUFDRjtJQUVBZSxRQUFRUyxHQUFHLENBQUMsc0JBQXNCO1FBQ2hDOUIsTUFBTSxDQUFDLENBQUNrRCxNQUFNbEQsSUFBSTtRQUNsQkMsU0FBU2lELE1BQU1qRCxPQUFPO1FBQ3RCQyxpQkFBaUJnRCxNQUFNaEQsZUFBZTtRQUN0Q2lELFVBQVUsT0FBT0QsTUFBTS9DLEtBQUssS0FBSztRQUNqQ2lELFdBQVcsT0FBT0YsTUFBTTVDLE1BQU0sS0FBSztJQUNyQztJQUVBLHFCQUNFLDhEQUFDUCxZQUFZc0QsUUFBUTtRQUFDSCxPQUFPQTtrQkFDMUJ6Qzs7Ozs7O0FBR1A7SUEzS2dCRDtLQUFBQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCX1NJUlxcT25lRHJpdmVcXOC5gOC4lOC4quC4geC5jOC4l+C5h+C4reC4m1xcU3VtbWFyeV9vZl9QZXJzb25uZWxfUmF0aW9cXFN1bW1hcnlfb2ZfUGVyc29ubmVsX1JhdGlvXFxhcHBcXGNvbnRleHRcXEF1dGhDb250ZXh0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBhdXRoLCBkYiB9IGZyb20gJy4uL2xpYi9maXJlYmFzZSc7XG5pbXBvcnQgeyBkb2MsIGdldERvYywgb25TbmFwc2hvdCwgY29sbGVjdGlvbiwgcXVlcnksIHdoZXJlIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGxvZ2luVXNlciwgdmFsaWRhdGVTZXNzaW9uLCBpbnZhbGlkYXRlU2Vzc2lvbiB9IGZyb20gJy4uL2xpYi9kYXRhQWNjZXNzJztcbmltcG9ydCB7IGxvZ0V2ZW50IH0gZnJvbSAnLi4vdXRpbHMvc2Vzc2lvblJlY29yZGluZyc7XG5cbi8vIEluaXRpYWxpemUgd2l0aCBkZWZhdWx0IHZhbHVlcyBpbmNsdWRpbmcgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZXNcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gIHVzZXI6IG51bGwsXG4gIGxvYWRpbmc6IHRydWUsXG4gIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gIGxvZ2luOiBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7fSxcbiAgbG9nb3V0OiAoKSA9PiB7fSxcbn0pO1xuXG5leHBvcnQgY29uc3QgdXNlQXV0aCA9ICgpID0+IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xuXG5leHBvcnQgZnVuY3Rpb24gQXV0aFByb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBjaGVja0xvY2FsU3RvcmFnZSA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZFVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpO1xuICAgICAgICBpZiAoc3RvcmVkVXNlcikge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZFVzZXIgPSBKU09OLnBhcnNlKHN0b3JlZFVzZXIpO1xuICAgICAgICAgIHNldFVzZXIocGFyc2VkVXNlcik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8g4LiV4Lij4Lin4LiI4Liq4Lit4Lia4LiE4Lin4Liy4Lih4LiW4Li54LiB4LiV4LmJ4Lit4LiH4LiC4Lit4LiHIHNlc3Npb25cbiAgICAgICAgICB2YWxpZGF0ZVVzZXJTZXNzaW9uKHBhcnNlZFVzZXIpO1xuICAgICAgICB9XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjaGVja0xvY2FsU3RvcmFnZSgpO1xuICAgIFxuICAgIC8vIOC4leC4seC5ieC4hyBsaXN0ZW5lciDguYDguJ7guLfguYjguK3guJXguLTguJTguJXguLLguKHguIHguLLguKPguYDguJvguKXguLXguYjguKLguJnguYHguJvguKXguIfguILguK3guIcgc2Vzc2lvblxuICAgIGxldCB1bnN1YnNjcmliZSA9ICgpID0+IHt9O1xuICAgIFxuICAgIGlmICh1c2VyICYmIHVzZXIudWlkICYmIHVzZXIuc2Vzc2lvbklkKSB7XG4gICAgICAvLyDguJXguLTguJTguJXguLLguKHguIHguLLguKPguYDguJvguKXguLXguYjguKLguJnguYHguJvguKXguIfguILguK3guIfguYDguK3guIHguKrguLLguKMgc2Vzc2lvbiDguJvguLHguIjguIjguLjguJrguLHguJlcbiAgICAgIHVuc3Vic2NyaWJlID0gb25TbmFwc2hvdChcbiAgICAgICAgZG9jKGRiLCAndXNlclNlc3Npb25zJywgdXNlci5zZXNzaW9uSWQpLFxuICAgICAgICAoc25hcHNob3QpID0+IHtcbiAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gc25hcHNob3QuZGF0YSgpO1xuICAgICAgICAgICAgLy8g4LiW4LmJ4LiyIHNlc3Npb24g4LmE4Lih4LmIIGFjdGl2ZSDguYHguKXguYnguKcg4LmD4Lir4LmJIGxvZ291dCDguK3guLHguJXguYLguJnguKHguLHguJXguLRcbiAgICAgICAgICAgIGlmICghc2Vzc2lvbkRhdGEuYWN0aXZlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGV4cGlyZWQgb3IgaW52YWxpZGF0ZWQsIGxvZ2dpbmcgb3V0Li4uJyk7XG4gICAgICAgICAgICAgIGxvZ291dChmYWxzZSk7IC8vIOC5hOC4oeC5iOC4leC5ieC4reC4h+C5gOC4o+C4teC4ouC4gSBpbnZhbGlkYXRlU2Vzc2lvbiDguYDguJ7guKPguLLguLAgc2Vzc2lvbiDguJbguLnguIHguKLguIHguYDguKXguLTguIHguYTguJvguYHguKXguYnguKdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g4LmE4Lih4LmI4Lie4LiaIHNlc3Npb24g4LmD4Lir4LmJIGxvZ291dFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Nlc3Npb24gbm90IGZvdW5kLCBsb2dnaW5nIG91dC4uLicpO1xuICAgICAgICAgICAgbG9nb3V0KGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RlbmluZyB0byBzZXNzaW9uIGNoYW5nZXM6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhbiB1cCBsaXN0ZW5lciDguYDguKHguLfguYjguK0gY29tcG9uZW50IHVubW91bnQg4Lir4Lij4Li34LitIHVzZXIg4LmA4Lib4Lil4Li14LmI4Lii4LiZXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFt1c2VyPy51aWQsIHVzZXI/LnNlc3Npb25JZF0pO1xuXG4gIC8vIOC4n+C4seC4h+C4geC5jOC4iuC4seC4meC4leC4o+C4p+C4iOC4quC4reC4muC4hOC4p+C4suC4oeC4luC4ueC4geC4leC5ieC4reC4h+C4guC4reC4hyBzZXNzaW9uXG4gIGNvbnN0IHZhbGlkYXRlVXNlclNlc3Npb24gPSBhc3luYyAodXNlcikgPT4ge1xuICAgIGlmICghdXNlciB8fCAhdXNlci51aWQgfHwgIXVzZXIuc2Vzc2lvbklkKSB7XG4gICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB2YWxpZGF0ZVNlc3Npb24odXNlci51aWQsIHVzZXIuc2Vzc2lvbklkKTtcbiAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAvLyDguJbguYnguLIgc2Vzc2lvbiDguYTguKHguYjguJbguLnguIHguJXguYnguK3guIcg4LmD4Lir4LmJIGxvZ291dFxuICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBzZXNzaW9uLCBsb2dnaW5nIG91dC4uLicpO1xuICAgICAgICBsb2dvdXQoZmFsc2UpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2YWxpZGF0aW5nIHNlc3Npb246JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvLyBMb2dpbiBmdW5jdGlvblxuICBjb25zdCBsb2dpbiA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTG9naW4gZnVuY3Rpb24gY2FsbGVkIHdpdGggdXNlcm5hbWU6JywgdXNlcm5hbWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBsb2dpblVzZXIodXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXN1bHQudXNlcikpO1xuICAgICAgICBzZXRVc2VyKHJlc3VsdC51c2VyKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFdyYXAgbG9nZ2luZyBpbiB0cnktY2F0Y2hcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsb2dFdmVudCgndXNlcl9sb2dpbicsIHtcbiAgICAgICAgICAgIHVzZXJJZDogcmVzdWx0LnVzZXIudWlkLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiByZXN1bHQudXNlci5zZXNzaW9uSWQsXG4gICAgICAgICAgICByb2xlOiByZXN1bHQudXNlci5yb2xlLFxuICAgICAgICAgICAgbmFtZTogcmVzdWx0LnVzZXIuZGlzcGxheU5hbWUsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGFjdGlvbjogJ0xvZ2luIHN1Y2Nlc3MnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGxvZ0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdMb2dpbiBsb2dnaW5nIGZhaWxlZDonLCBsb2dFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdMb2dpbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ+C5gOC4geC4tOC4lOC4guC5ieC4reC4nOC4tOC4lOC4nuC4peC4suC4lOC5g+C4meC4geC4suC4o+C5gOC4guC5ieC4suC4quC4ueC5iOC4o+C4sOC4muC4micgfTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTG9nb3V0IGZ1bmN0aW9uXG4gIGNvbnN0IGxvZ291dCA9IChpbnZhbGlkYXRlQ3VycmVudFNlc3Npb24gPSB0cnVlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHVzZXI/LnVpZDtcbiAgICAgIGNvbnN0IHNlc3Npb25JZCA9IHVzZXI/LnNlc3Npb25JZDtcbiAgICAgIFxuICAgICAgLy8g4LiW4LmJ4Liy4LiV4LmJ4Lit4LiH4LiB4Liy4Lij4Lii4LiB4LmA4Lil4Li04LiBIHNlc3Npb24g4Lib4Lix4LiI4LiI4Li44Lia4Lix4LiZXG4gICAgICBpZiAoaW52YWxpZGF0ZUN1cnJlbnRTZXNzaW9uICYmIHNlc3Npb25JZCkge1xuICAgICAgICBpbnZhbGlkYXRlU2Vzc2lvbihzZXNzaW9uSWQpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbnZhbGlkYXRpbmcgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpO1xuICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIFxuICAgICAgbG9nRXZlbnQoJ3VzZXJfbG9nb3V0Jywge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIHVzZXJuYW1lOiB1c2VyPy51c2VybmFtZSxcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICByb2xlOiB1c2VyPy5yb2xlLFxuICAgICAgICBuYW1lOiB1c2VyPy5kaXNwbGF5TmFtZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGFjdGlvbjogJ0xvZ291dCBzdWNjZXNzJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdMb2dvdXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyBDaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gdXNlciAhPT0gbnVsbDtcblxuICAvLyBNYWtlIHN1cmUgbG9naW4gaXMgaW5jbHVkZWQgaW4gdGhlIGNvbnRleHQgdmFsdWVcbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgdXNlcixcbiAgICBsb2FkaW5nLFxuICAgIGlzQXV0aGVudGljYXRlZDogISF1c2VyLFxuICAgIGxvZ2luLFxuICAgIGxvZ291dCxcbiAgfTtcblxuICBjb25zb2xlLmxvZygnQXV0aENvbnRleHQgdmFsdWU6Jywge1xuICAgIHVzZXI6ICEhdmFsdWUudXNlcixcbiAgICBsb2FkaW5nOiB2YWx1ZS5sb2FkaW5nLFxuICAgIGlzQXV0aGVudGljYXRlZDogdmFsdWUuaXNBdXRoZW50aWNhdGVkLFxuICAgIGhhc0xvZ2luOiB0eXBlb2YgdmFsdWUubG9naW4gPT09ICdmdW5jdGlvbicsXG4gICAgaGFzTG9nb3V0OiB0eXBlb2YgdmFsdWUubG9nb3V0ID09PSAnZnVuY3Rpb24nXG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiYXV0aCIsImRiIiwiZG9jIiwiZ2V0RG9jIiwib25TbmFwc2hvdCIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwibG9naW5Vc2VyIiwidmFsaWRhdGVTZXNzaW9uIiwiaW52YWxpZGF0ZVNlc3Npb24iLCJsb2dFdmVudCIsIkF1dGhDb250ZXh0IiwidXNlciIsImxvYWRpbmciLCJpc0F1dGhlbnRpY2F0ZWQiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJsb2dvdXQiLCJ1c2VBdXRoIiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJzZXRVc2VyIiwic2V0TG9hZGluZyIsImNoZWNrTG9jYWxTdG9yYWdlIiwic3RvcmVkVXNlciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWRVc2VyIiwiSlNPTiIsInBhcnNlIiwidmFsaWRhdGVVc2VyU2Vzc2lvbiIsImVycm9yIiwiY29uc29sZSIsInVuc3Vic2NyaWJlIiwidWlkIiwic2Vzc2lvbklkIiwic25hcHNob3QiLCJleGlzdHMiLCJzZXNzaW9uRGF0YSIsImRhdGEiLCJhY3RpdmUiLCJsb2ciLCJyZW1vdmVJdGVtIiwiaXNWYWxpZCIsInJlc3VsdCIsInN1Y2Nlc3MiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwidXNlcklkIiwicm9sZSIsIm5hbWUiLCJkaXNwbGF5TmFtZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImFjdGlvbiIsImxvZ0Vycm9yIiwid2FybiIsIm1lc3NhZ2UiLCJpbnZhbGlkYXRlQ3VycmVudFNlc3Npb24iLCJjYXRjaCIsInZhbHVlIiwiaGFzTG9naW4iLCJoYXNMb2dvdXQiLCJQcm92aWRlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/context/AuthContext.js\n"));

/***/ })

});