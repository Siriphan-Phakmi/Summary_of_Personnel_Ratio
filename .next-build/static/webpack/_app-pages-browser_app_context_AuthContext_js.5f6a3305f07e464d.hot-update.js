"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_app_context_AuthContext_js",{

/***/ "(app-pages-browser)/./app/context/AuthContext.js":
/*!************************************!*\
  !*** ./app/context/AuthContext.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/firebase */ \"(app-pages-browser)/./app/lib/firebase.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dataAccess */ \"(app-pages-browser)/./app/lib/dataAccess.js\");\n/* harmony import */ var _utils_sessionRecording__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/sessionRecording */ \"(app-pages-browser)/./app/utils/sessionRecording.js\");\n/* __next_internal_client_entry_do_not_use__ useAuth,AuthProvider auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n// ระยะเวลาที่ session token หมดอายุ (20 นาที)\nconst SESSION_EXPIRY_TIME = 20 * 60 * 1000; // 20 นาที ในมิลลิวินาที\n// สร้าง session token แบบสุ่ม\nconst generateSessionToken = ()=>{\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15) + Date.now().toString(36);\n};\n// Initialize with default values including the function signatures\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    user: null,\n    loading: true,\n    isAuthenticated: false,\n    login: async (username, password)=>{},\n    logout: ()=>{}\n});\nconst useAuth = ()=>{\n    _s();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nfunction AuthProvider(param) {\n    let { children } = param;\n    _s1();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [authError, setAuthError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            // Check if user is stored in sessionStorage\n            const checkSessionStorage = {\n                \"AuthProvider.useEffect.checkSessionStorage\": ()=>{\n                    console.log('Checking sessionStorage for user data');\n                    try {\n                        // ตรวจสอบว่า sessionStorage พร้อมใช้งานหรือไม่\n                        if ( false || !window.sessionStorage) {\n                            console.log('sessionStorage is not available');\n                            setLoading(false);\n                            return;\n                        }\n                        const storedUser = sessionStorage.getItem('user');\n                        console.log('User data in sessionStorage:', storedUser ? 'Found' : 'Not found');\n                        if (storedUser) {\n                            try {\n                                const userData = JSON.parse(storedUser);\n                                console.log('Successfully parsed user data');\n                                setUser(userData);\n                                // ตรวจสอบความถูกต้องของ session\n                                validateUserSession(userData);\n                            } catch (parseError) {\n                                console.error('Error parsing user data from sessionStorage:', parseError);\n                                // ล้างข้อมูลที่อาจเสียหาย\n                                sessionStorage.removeItem('user');\n                            }\n                        }\n                    } catch (error) {\n                        console.error('Error checking sessionStorage:', error);\n                        setAuthError(error.message || 'เกิดข้อผิดพลาดในการตรวจสอบข้อมูลผู้ใช้');\n                    } finally{\n                        setLoading(false);\n                    }\n                }\n            }[\"AuthProvider.useEffect.checkSessionStorage\"];\n            // หน่วงเวลาเล็กน้อยเพื่อให้แน่ใจว่า client side hydration เสร็จสมบูรณ์\n            const timer = setTimeout({\n                \"AuthProvider.useEffect.timer\": ()=>{\n                    checkSessionStorage();\n                }\n            }[\"AuthProvider.useEffect.timer\"], 100);\n            return ({\n                \"AuthProvider.useEffect\": ()=>clearTimeout(timer)\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], []);\n    // ติดตามการเปลี่ยนแปลงของ session\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            // ตั้ง listener เพื่อติดตามการเปลี่ยนแปลงของ session\n            let unsubscribe = {\n                \"AuthProvider.useEffect.unsubscribe\": ()=>{}\n            }[\"AuthProvider.useEffect.unsubscribe\"];\n            if (user && user.uid && user.sessionId) {\n                // ติดตามการเปลี่ยนแปลงของเอกสาร session ปัจจุบัน\n                unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_2__.db, 'userSessions', user.sessionId), {\n                    \"AuthProvider.useEffect\": (snapshot)=>{\n                        if (snapshot.exists()) {\n                            const sessionData = snapshot.data();\n                            // ถ้า session ไม่ active แล้ว ให้ logout อัตโนมัติ\n                            if (!sessionData.active) {\n                                console.log('Session expired or invalidated, logging out...');\n                                logout(false); // ไม่ต้องเรียก invalidateSession เพราะ session ถูกยกเลิกไปแล้ว\n                            }\n                        } else {\n                            // ไม่พบ session ให้ logout\n                            console.log('Session not found, logging out...');\n                            logout(false);\n                        }\n                    }\n                }[\"AuthProvider.useEffect\"], {\n                    \"AuthProvider.useEffect\": (error)=>{\n                        console.error('Error listening to session changes:', error);\n                    }\n                }[\"AuthProvider.useEffect\"]);\n            }\n            // Clean up listener เมื่อ component unmount หรือ user เปลี่ยน\n            return ({\n                \"AuthProvider.useEffect\": ()=>{\n                    if (unsubscribe) {\n                        unsubscribe();\n                    }\n                }\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], [\n        user === null || user === void 0 ? void 0 : user.uid,\n        user === null || user === void 0 ? void 0 : user.sessionId\n    ]);\n    // ฟังก์ชันตรวจสอบความถูกต้องของ session\n    const validateUserSession = async (user)=>{\n        if (!user || !user.uid || !user.sessionId) {\n            setUser(null);\n            sessionStorage.removeItem('user');\n            return;\n        }\n        try {\n            const isValid = await (0,_lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__.validateSession)(user.uid, user.sessionId);\n            if (!isValid) {\n                // ถ้า session ไม่ถูกต้อง ให้ logout\n                console.log('Invalid session, logging out...');\n                logout(false);\n            }\n        } catch (error) {\n            console.error('Error validating session:', error);\n        }\n    };\n    // เริ่มการตรวจสอบ session อย่างสม่ำเสมอ\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            let sessionCheckInterval;\n            // ฟังก์ชันตรวจสอบ session สำหรับผู้ใช้ที่ login แล้ว\n            const checkCurrentSession = {\n                \"AuthProvider.useEffect.checkCurrentSession\": async ()=>{\n                    if (!user || !user.uid) return;\n                    try {\n                        // ตรวจสอบ session ปัจจุบันจาก Firestore\n                        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_2__.db, 'users', user.uid);\n                        const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)(userRef);\n                        if (!userDoc.exists()) return;\n                        const userData = userDoc.data();\n                        const currentSessionToken = sessionStorage.getItem('sessionToken');\n                        // ถ้า session token ไม่ตรงกัน แสดงว่ามีคนอื่น login เข้ามาใหม่\n                        if (userData.sessionToken && userData.sessionToken !== currentSessionToken) {\n                            console.log('Another session detected, logging out');\n                            logout();\n                            alert('บัญชีของคุณถูกใช้งานที่อื่น คุณถูกออกจากระบบโดยอัตโนมัติ');\n                            return;\n                        }\n                        // ตรวจสอบว่า session หมดอายุหรือไม่\n                        if (userData.lastActivity) {\n                            const lastActivity = userData.lastActivity.toDate ? userData.lastActivity.toDate() : new Date(userData.lastActivity);\n                            const now = new Date();\n                            const timeDiff = now.getTime() - lastActivity.getTime();\n                            if (timeDiff > SESSION_EXPIRY_TIME) {\n                                console.log('Session expired, logging out');\n                                logout();\n                                alert('เซสชันของคุณหมดอายุ กรุณาเข้าสู่ระบบใหม่');\n                                return;\n                            }\n                            // อัปเดตเวลากิจกรรมล่าสุด\n                            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)(userRef, {\n                                lastActivity: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n                            });\n                        }\n                    } catch (error) {\n                        console.error('Error checking session:', error);\n                    }\n                }\n            }[\"AuthProvider.useEffect.checkCurrentSession\"];\n            if (user && !loading) {\n                // ตรวจสอบทันทีหลัง login\n                checkCurrentSession();\n                // ตั้งเวลาตรวจสอบทุก 1 นาที\n                sessionCheckInterval = setInterval(checkCurrentSession, 60000);\n            }\n            return ({\n                \"AuthProvider.useEffect\": ()=>{\n                    if (sessionCheckInterval) {\n                        clearInterval(sessionCheckInterval);\n                    }\n                }\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], [\n        user,\n        loading\n    ]);\n    // Login function\n    const login = async (username, password)=>{\n        console.log('Login function called with username:', username);\n        try {\n            const result = await (0,_lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__.loginUser)(username, password);\n            if (result && result.success) {\n                // สร้าง session token ใหม่\n                const sessionToken = generateSessionToken();\n                // บันทึก token ลง sessionStorage\n                sessionStorage.setItem('sessionToken', sessionToken);\n                sessionStorage.setItem('user', JSON.stringify(result.user));\n                setUser(result.user);\n                // บันทึก session token และเวลาลงใน Firestore\n                const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_2__.db, 'users', result.user.uid);\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)(userRef, {\n                    sessionToken: sessionToken,\n                    lastActivity: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)(),\n                    lastLogin: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n                });\n                // Wrap logging in try-catch\n                try {\n                    (0,_utils_sessionRecording__WEBPACK_IMPORTED_MODULE_5__.logEvent)('user_login', {\n                        userId: result.user.uid,\n                        username: username,\n                        sessionId: result.user.sessionId,\n                        role: result.user.role,\n                        name: result.user.displayName,\n                        timestamp: new Date().toISOString(),\n                        action: 'Login success'\n                    });\n                } catch (logError) {\n                    console.warn('Login logging failed:', logError);\n                }\n                return result;\n            }\n            return result;\n        } catch (error) {\n            console.error('Login error:', error);\n            return {\n                success: false,\n                error: error.message || 'เกิดข้อผิดพลาดในการเข้าสู่ระบบ'\n            };\n        }\n    };\n    // Logout function\n    const logout = function() {\n        let invalidateCurrentSession = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n        try {\n            const userId = user === null || user === void 0 ? void 0 : user.uid;\n            const sessionId = user === null || user === void 0 ? void 0 : user.sessionId;\n            // ถ้ามี user และ uid ให้ลบ session token ออกจาก Firestore\n            if (userId) {\n                const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_2__.db, 'users', userId);\n                (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)(userRef, {\n                    sessionToken: null,\n                    lastActivity: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n                }).catch((err)=>console.error('Error clearing session:', err));\n            }\n            // ถ้าต้องการยกเลิก session ปัจจุบัน\n            if (invalidateCurrentSession && sessionId) {\n                (0,_lib_dataAccess__WEBPACK_IMPORTED_MODULE_4__.invalidateSession)(sessionId).catch((error)=>{\n                    console.error('Error invalidating session:', error);\n                });\n            }\n            // ลบข้อมูลออกจาก sessionStorage\n            sessionStorage.removeItem('sessionToken');\n            sessionStorage.removeItem('user');\n            setUser(null);\n            // บันทึกการออกจากระบบ\n            (0,_utils_sessionRecording__WEBPACK_IMPORTED_MODULE_5__.logEvent)('user_logout', {\n                userId,\n                username: user === null || user === void 0 ? void 0 : user.username,\n                sessionId,\n                role: user === null || user === void 0 ? void 0 : user.role,\n                name: user === null || user === void 0 ? void 0 : user.displayName,\n                timestamp: new Date().toISOString(),\n                action: 'Logout success'\n            });\n            return true;\n        } catch (error) {\n            console.error('Logout error:', error);\n            return false;\n        }\n    };\n    // Check if user is authenticated\n    const isAuthenticated = user !== null;\n    // Make sure login is included in the context value\n    const value = {\n        user,\n        loading,\n        isAuthenticated: !!user,\n        login,\n        logout\n    };\n    console.log('AuthContext value:', {\n        user: !!value.user,\n        loading: value.loading,\n        isAuthenticated: value.isAuthenticated,\n        hasLogin: typeof value.login === 'function',\n        hasLogout: typeof value.logout === 'function'\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\B_SIR\\\\OneDrive\\\\เดสก์ท็อป\\\\Active 14-3-2025\\\\Summary_of_Personnel_Ratio\\\\app\\\\context\\\\AuthContext.js\",\n        lineNumber: 316,\n        columnNumber: 5\n    }, this);\n}\n_s1(AuthProvider, \"76MNfp0tazfQpgpif3PspRKGE6w=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb250ZXh0L0F1dGhDb250ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQ3VFO0FBQzVCO0FBQ2dGO0FBQ3pDO0FBQzdCO0FBRXJELDhDQUE4QztBQUM5QyxNQUFNbUIsc0JBQXNCLEtBQUssS0FBSyxNQUFNLHdCQUF3QjtBQUVwRSw4QkFBOEI7QUFDOUIsTUFBTUMsdUJBQXVCO0lBQzNCLE9BQU9DLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLFNBQVMsQ0FBQyxHQUFHLE1BQ3hDSCxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUMsR0FBRyxNQUN4Q0MsS0FBS0MsR0FBRyxHQUFHSCxRQUFRLENBQUM7QUFDN0I7QUFFQSxtRUFBbUU7QUFDbkUsTUFBTUksNEJBQWMzQixvREFBYUEsQ0FBQztJQUNoQzRCLE1BQU07SUFDTkMsU0FBUztJQUNUQyxpQkFBaUI7SUFDakJDLE9BQU8sT0FBT0MsVUFBVUMsWUFBYztJQUN0Q0MsUUFBUSxLQUFPO0FBQ2pCO0FBRU8sTUFBTUMsVUFBVTs7SUFBTWxDLE9BQUFBLGlEQUFVQSxDQUFDMEI7QUFBVyxFQUFFO0dBQXhDUTtBQUVOLFNBQVNDLGFBQWEsS0FBWTtRQUFaLEVBQUVDLFFBQVEsRUFBRSxHQUFaOztJQUMzQixNQUFNLENBQUNULE1BQU1VLFFBQVEsR0FBR3BDLCtDQUFRQSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQzJCLFNBQVNVLFdBQVcsR0FBR3JDLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ3NDLFdBQVdDLGFBQWEsR0FBR3ZDLCtDQUFRQSxDQUFDO0lBRTNDQyxnREFBU0E7a0NBQUM7WUFDUiw0Q0FBNEM7WUFDNUMsTUFBTXVDOzhEQUFzQjtvQkFDMUJDLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixJQUFJO3dCQUNGLCtDQUErQzt3QkFDL0MsSUFBSSxNQUE2QixJQUFJLENBQUNDLE9BQU9DLGNBQWMsRUFBRTs0QkFDM0RILFFBQVFDLEdBQUcsQ0FBQzs0QkFDWkwsV0FBVzs0QkFDWDt3QkFDRjt3QkFFQSxNQUFNUSxhQUFhRCxlQUFlRSxPQUFPLENBQUM7d0JBQzFDTCxRQUFRQyxHQUFHLENBQUMsZ0NBQWdDRyxhQUFhLFVBQVU7d0JBRW5FLElBQUlBLFlBQVk7NEJBQ2QsSUFBSTtnQ0FDRixNQUFNRSxXQUFXQyxLQUFLQyxLQUFLLENBQUNKO2dDQUM1QkosUUFBUUMsR0FBRyxDQUFDO2dDQUNaTixRQUFRVztnQ0FFUixnQ0FBZ0M7Z0NBQ2hDRyxvQkFBb0JIOzRCQUN0QixFQUFFLE9BQU9JLFlBQVk7Z0NBQ25CVixRQUFRVyxLQUFLLENBQUMsZ0RBQWdERDtnQ0FDOUQsMEJBQTBCO2dDQUMxQlAsZUFBZVMsVUFBVSxDQUFDOzRCQUM1Qjt3QkFDRjtvQkFDRixFQUFFLE9BQU9ELE9BQU87d0JBQ2RYLFFBQVFXLEtBQUssQ0FBQyxrQ0FBa0NBO3dCQUNoRGIsYUFBYWEsTUFBTUUsT0FBTyxJQUFJO29CQUNoQyxTQUFVO3dCQUNSakIsV0FBVztvQkFDYjtnQkFDRjs7WUFFQSx1RUFBdUU7WUFDdkUsTUFBTWtCLFFBQVFDO2dEQUFXO29CQUN2QmhCO2dCQUNGOytDQUFHO1lBRUg7MENBQU8sSUFBTWlCLGFBQWFGOztRQUM1QjtpQ0FBRyxFQUFFO0lBRUwsa0NBQWtDO0lBQ2xDdEQsZ0RBQVNBO2tDQUFDO1lBQ1IscURBQXFEO1lBQ3JELElBQUl5RDtzREFBYyxLQUFPOztZQUV6QixJQUFJaEMsUUFBUUEsS0FBS2lDLEdBQUcsSUFBSWpDLEtBQUtrQyxTQUFTLEVBQUU7Z0JBQ3RDLGlEQUFpRDtnQkFDakRGLGNBQWNqRCw4REFBVUEsQ0FDdEJMLHVEQUFHQSxDQUFDRCw2Q0FBRUEsRUFBRSxnQkFBZ0J1QixLQUFLa0MsU0FBUzs4Q0FDdEMsQ0FBQ0M7d0JBQ0MsSUFBSUEsU0FBU0MsTUFBTSxJQUFJOzRCQUNyQixNQUFNQyxjQUFjRixTQUFTRyxJQUFJOzRCQUNqQyxtREFBbUQ7NEJBQ25ELElBQUksQ0FBQ0QsWUFBWUUsTUFBTSxFQUFFO2dDQUN2QnhCLFFBQVFDLEdBQUcsQ0FBQztnQ0FDWlYsT0FBTyxRQUFRLCtEQUErRDs0QkFDaEY7d0JBQ0YsT0FBTzs0QkFDTCwyQkFBMkI7NEJBQzNCUyxRQUFRQyxHQUFHLENBQUM7NEJBQ1pWLE9BQU87d0JBQ1Q7b0JBQ0Y7OzhDQUNBLENBQUNvQjt3QkFDQ1gsUUFBUVcsS0FBSyxDQUFDLHVDQUF1Q0E7b0JBQ3ZEOztZQUVKO1lBRUEsOERBQThEO1lBQzlEOzBDQUFPO29CQUNMLElBQUlNLGFBQWE7d0JBQ2ZBO29CQUNGO2dCQUNGOztRQUNGO2lDQUFHO1FBQUNoQyxpQkFBQUEsMkJBQUFBLEtBQU1pQyxHQUFHO1FBQUVqQyxpQkFBQUEsMkJBQUFBLEtBQU1rQyxTQUFTO0tBQUM7SUFFL0Isd0NBQXdDO0lBQ3hDLE1BQU1WLHNCQUFzQixPQUFPeEI7UUFDakMsSUFBSSxDQUFDQSxRQUFRLENBQUNBLEtBQUtpQyxHQUFHLElBQUksQ0FBQ2pDLEtBQUtrQyxTQUFTLEVBQUU7WUFDekN4QixRQUFRO1lBQ1JRLGVBQWVTLFVBQVUsQ0FBQztZQUMxQjtRQUNGO1FBRUEsSUFBSTtZQUNGLE1BQU1hLFVBQVUsTUFBTXBELGdFQUFlQSxDQUFDWSxLQUFLaUMsR0FBRyxFQUFFakMsS0FBS2tDLFNBQVM7WUFDOUQsSUFBSSxDQUFDTSxTQUFTO2dCQUNaLG9DQUFvQztnQkFDcEN6QixRQUFRQyxHQUFHLENBQUM7Z0JBQ1pWLE9BQU87WUFDVDtRQUNGLEVBQUUsT0FBT29CLE9BQU87WUFDZFgsUUFBUVcsS0FBSyxDQUFDLDZCQUE2QkE7UUFDN0M7SUFDRjtJQUVBLHdDQUF3QztJQUN4Q25ELGdEQUFTQTtrQ0FBQztZQUNSLElBQUlrRTtZQUVKLHFEQUFxRDtZQUNyRCxNQUFNQzs4REFBc0I7b0JBQzFCLElBQUksQ0FBQzFDLFFBQVEsQ0FBQ0EsS0FBS2lDLEdBQUcsRUFBRTtvQkFFeEIsSUFBSTt3QkFDRix3Q0FBd0M7d0JBQ3hDLE1BQU1VLFVBQVVqRSx1REFBR0EsQ0FBQ0QsNkNBQUVBLEVBQUUsU0FBU3VCLEtBQUtpQyxHQUFHO3dCQUN6QyxNQUFNVyxVQUFVLE1BQU1qRSwwREFBTUEsQ0FBQ2dFO3dCQUU3QixJQUFJLENBQUNDLFFBQVFSLE1BQU0sSUFBSTt3QkFFdkIsTUFBTWYsV0FBV3VCLFFBQVFOLElBQUk7d0JBQzdCLE1BQU1PLHNCQUFzQjNCLGVBQWVFLE9BQU8sQ0FBQzt3QkFFbkQsK0RBQStEO3dCQUMvRCxJQUFJQyxTQUFTeUIsWUFBWSxJQUNyQnpCLFNBQVN5QixZQUFZLEtBQUtELHFCQUFxQjs0QkFDakQ5QixRQUFRQyxHQUFHLENBQUM7NEJBQ1pWOzRCQUNBeUMsTUFBTTs0QkFDTjt3QkFDRjt3QkFFQSxvQ0FBb0M7d0JBQ3BDLElBQUkxQixTQUFTMkIsWUFBWSxFQUFFOzRCQUN6QixNQUFNQSxlQUFlM0IsU0FBUzJCLFlBQVksQ0FBQ0MsTUFBTSxHQUM1QjVCLFNBQVMyQixZQUFZLENBQUNDLE1BQU0sS0FDNUIsSUFBSXBELEtBQUt3QixTQUFTMkIsWUFBWTs0QkFFbkQsTUFBTWxELE1BQU0sSUFBSUQ7NEJBQ2hCLE1BQU1xRCxXQUFXcEQsSUFBSXFELE9BQU8sS0FBS0gsYUFBYUcsT0FBTzs0QkFFckQsSUFBSUQsV0FBVzNELHFCQUFxQjtnQ0FDbEN3QixRQUFRQyxHQUFHLENBQUM7Z0NBQ1pWO2dDQUNBeUMsTUFBTTtnQ0FDTjs0QkFDRjs0QkFFQSwwQkFBMEI7NEJBQzFCLE1BQU1sRSw2REFBU0EsQ0FBQzhELFNBQVM7Z0NBQ3ZCSyxjQUFjbEUsbUVBQWVBOzRCQUMvQjt3QkFDRjtvQkFDRixFQUFFLE9BQU80QyxPQUFPO3dCQUNkWCxRQUFRVyxLQUFLLENBQUMsMkJBQTJCQTtvQkFDM0M7Z0JBQ0Y7O1lBRUEsSUFBSTFCLFFBQVEsQ0FBQ0MsU0FBUztnQkFDcEIseUJBQXlCO2dCQUN6QnlDO2dCQUVBLDRCQUE0QjtnQkFDNUJELHVCQUF1QlcsWUFBWVYscUJBQXFCO1lBQzFEO1lBRUE7MENBQU87b0JBQ0wsSUFBSUQsc0JBQXNCO3dCQUN4QlksY0FBY1o7b0JBQ2hCO2dCQUNGOztRQUNGO2lDQUFHO1FBQUN6QztRQUFNQztLQUFRO0lBRWxCLGlCQUFpQjtJQUNqQixNQUFNRSxRQUFRLE9BQU9DLFVBQVVDO1FBQzdCVSxRQUFRQyxHQUFHLENBQUMsd0NBQXdDWjtRQUNwRCxJQUFJO1lBQ0YsTUFBTWtELFNBQVMsTUFBTW5FLDBEQUFTQSxDQUFDaUIsVUFBVUM7WUFDekMsSUFBSWlELFVBQVVBLE9BQU9DLE9BQU8sRUFBRTtnQkFDNUIsMkJBQTJCO2dCQUMzQixNQUFNVCxlQUFldEQ7Z0JBRXJCLGlDQUFpQztnQkFDakMwQixlQUFlc0MsT0FBTyxDQUFDLGdCQUFnQlY7Z0JBQ3ZDNUIsZUFBZXNDLE9BQU8sQ0FBQyxRQUFRbEMsS0FBS21DLFNBQVMsQ0FBQ0gsT0FBT3RELElBQUk7Z0JBQ3pEVSxRQUFRNEMsT0FBT3RELElBQUk7Z0JBRW5CLDZDQUE2QztnQkFDN0MsTUFBTTJDLFVBQVVqRSx1REFBR0EsQ0FBQ0QsNkNBQUVBLEVBQUUsU0FBUzZFLE9BQU90RCxJQUFJLENBQUNpQyxHQUFHO2dCQUNoRCxNQUFNcEQsNkRBQVNBLENBQUM4RCxTQUFTO29CQUN2QkcsY0FBY0E7b0JBQ2RFLGNBQWNsRSxtRUFBZUE7b0JBQzdCNEUsV0FBVzVFLG1FQUFlQTtnQkFDNUI7Z0JBRUEsNEJBQTRCO2dCQUM1QixJQUFJO29CQUNGUSxpRUFBUUEsQ0FBQyxjQUFjO3dCQUNyQnFFLFFBQVFMLE9BQU90RCxJQUFJLENBQUNpQyxHQUFHO3dCQUN2QjdCLFVBQVVBO3dCQUNWOEIsV0FBV29CLE9BQU90RCxJQUFJLENBQUNrQyxTQUFTO3dCQUNoQzBCLE1BQU1OLE9BQU90RCxJQUFJLENBQUM0RCxJQUFJO3dCQUN0QkMsTUFBTVAsT0FBT3RELElBQUksQ0FBQzhELFdBQVc7d0JBQzdCQyxXQUFXLElBQUlsRSxPQUFPbUUsV0FBVzt3QkFDakNDLFFBQVE7b0JBQ1Y7Z0JBQ0YsRUFBRSxPQUFPQyxVQUFVO29CQUNqQm5ELFFBQVFvRCxJQUFJLENBQUMseUJBQXlCRDtnQkFDeEM7Z0JBRUEsT0FBT1o7WUFDVDtZQUNBLE9BQU9BO1FBQ1QsRUFBRSxPQUFPNUIsT0FBTztZQUNkWCxRQUFRVyxLQUFLLENBQUMsZ0JBQWdCQTtZQUM5QixPQUFPO2dCQUFFNkIsU0FBUztnQkFBTzdCLE9BQU9BLE1BQU1FLE9BQU8sSUFBSTtZQUFpQztRQUNwRjtJQUNGO0lBRUEsa0JBQWtCO0lBQ2xCLE1BQU10QixTQUFTO1lBQUM4RCw0RkFBMkI7UUFDekMsSUFBSTtZQUNGLE1BQU1ULFNBQVMzRCxpQkFBQUEsMkJBQUFBLEtBQU1pQyxHQUFHO1lBQ3hCLE1BQU1DLFlBQVlsQyxpQkFBQUEsMkJBQUFBLEtBQU1rQyxTQUFTO1lBRWpDLDBEQUEwRDtZQUMxRCxJQUFJeUIsUUFBUTtnQkFDVixNQUFNaEIsVUFBVWpFLHVEQUFHQSxDQUFDRCw2Q0FBRUEsRUFBRSxTQUFTa0Y7Z0JBQ2pDOUUsNkRBQVNBLENBQUM4RCxTQUFTO29CQUNqQkcsY0FBYztvQkFDZEUsY0FBY2xFLG1FQUFlQTtnQkFDL0IsR0FBR3VGLEtBQUssQ0FBQ0MsQ0FBQUEsTUFBT3ZELFFBQVFXLEtBQUssQ0FBQywyQkFBMkI0QztZQUMzRDtZQUVBLG9DQUFvQztZQUNwQyxJQUFJRiw0QkFBNEJsQyxXQUFXO2dCQUN6QzdDLGtFQUFpQkEsQ0FBQzZDLFdBQVdtQyxLQUFLLENBQUMzQyxDQUFBQTtvQkFDakNYLFFBQVFXLEtBQUssQ0FBQywrQkFBK0JBO2dCQUMvQztZQUNGO1lBRUEsZ0NBQWdDO1lBQ2hDUixlQUFlUyxVQUFVLENBQUM7WUFDMUJULGVBQWVTLFVBQVUsQ0FBQztZQUMxQmpCLFFBQVE7WUFFUixzQkFBc0I7WUFDdEJwQixpRUFBUUEsQ0FBQyxlQUFlO2dCQUN0QnFFO2dCQUNBdkQsUUFBUSxFQUFFSixpQkFBQUEsMkJBQUFBLEtBQU1JLFFBQVE7Z0JBQ3hCOEI7Z0JBQ0EwQixJQUFJLEVBQUU1RCxpQkFBQUEsMkJBQUFBLEtBQU00RCxJQUFJO2dCQUNoQkMsSUFBSSxFQUFFN0QsaUJBQUFBLDJCQUFBQSxLQUFNOEQsV0FBVztnQkFDdkJDLFdBQVcsSUFBSWxFLE9BQU9tRSxXQUFXO2dCQUNqQ0MsUUFBUTtZQUNWO1lBRUEsT0FBTztRQUNULEVBQUUsT0FBT3ZDLE9BQU87WUFDZFgsUUFBUVcsS0FBSyxDQUFDLGlCQUFpQkE7WUFDL0IsT0FBTztRQUNUO0lBQ0Y7SUFFQSxpQ0FBaUM7SUFDakMsTUFBTXhCLGtCQUFrQkYsU0FBUztJQUVqQyxtREFBbUQ7SUFDbkQsTUFBTXVFLFFBQVE7UUFDWnZFO1FBQ0FDO1FBQ0FDLGlCQUFpQixDQUFDLENBQUNGO1FBQ25CRztRQUNBRztJQUNGO0lBRUFTLFFBQVFDLEdBQUcsQ0FBQyxzQkFBc0I7UUFDaENoQixNQUFNLENBQUMsQ0FBQ3VFLE1BQU12RSxJQUFJO1FBQ2xCQyxTQUFTc0UsTUFBTXRFLE9BQU87UUFDdEJDLGlCQUFpQnFFLE1BQU1yRSxlQUFlO1FBQ3RDc0UsVUFBVSxPQUFPRCxNQUFNcEUsS0FBSyxLQUFLO1FBQ2pDc0UsV0FBVyxPQUFPRixNQUFNakUsTUFBTSxLQUFLO0lBQ3JDO0lBRUEscUJBQ0UsOERBQUNQLFlBQVkyRSxRQUFRO1FBQUNILE9BQU9BO2tCQUMxQjlEOzs7Ozs7QUFHUDtJQW5TZ0JEO0tBQUFBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJfU0lSXFxPbmVEcml2ZVxc4LmA4LiU4Liq4LiB4LmM4LiX4LmH4Lit4LibXFxBY3RpdmUgMTQtMy0yMDI1XFxTdW1tYXJ5X29mX1BlcnNvbm5lbF9SYXRpb1xcYXBwXFxjb250ZXh0XFxBdXRoQ29udGV4dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGF1dGgsIGRiIH0gZnJvbSAnLi4vbGliL2ZpcmViYXNlJztcclxuaW1wb3J0IHsgZG9jLCBnZXREb2MsIHNldERvYywgdXBkYXRlRG9jLCBzZXJ2ZXJUaW1lc3RhbXAsIG9uU25hcHNob3QsIGNvbGxlY3Rpb24sIHF1ZXJ5LCB3aGVyZSB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7IGxvZ2luVXNlciwgdmFsaWRhdGVTZXNzaW9uLCBpbnZhbGlkYXRlU2Vzc2lvbiB9IGZyb20gJy4uL2xpYi9kYXRhQWNjZXNzJztcclxuaW1wb3J0IHsgbG9nRXZlbnQgfSBmcm9tICcuLi91dGlscy9zZXNzaW9uUmVjb3JkaW5nJztcclxuXHJcbi8vIOC4o+C4sOC4ouC4sOC5gOC4p+C4peC4suC4l+C4teC5iCBzZXNzaW9uIHRva2VuIOC4q+C4oeC4lOC4reC4suC4ouC4uCAoMjAg4LiZ4Liy4LiX4Li1KVxyXG5jb25zdCBTRVNTSU9OX0VYUElSWV9USU1FID0gMjAgKiA2MCAqIDEwMDA7IC8vIDIwIOC4meC4suC4l+C4tSDguYPguJnguKHguLTguKXguKXguLTguKfguLTguJnguLLguJfguLVcclxuXHJcbi8vIOC4quC4o+C5ieC4suC4hyBzZXNzaW9uIHRva2VuIOC5geC4muC4muC4quC4uOC5iOC4oVxyXG5jb25zdCBnZW5lcmF0ZVNlc3Npb25Ub2tlbiA9ICgpID0+IHtcclxuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KSArIFxyXG4gICAgICAgICBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgXHJcbiAgICAgICAgIERhdGUubm93KCkudG9TdHJpbmcoMzYpO1xyXG59O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSB3aXRoIGRlZmF1bHQgdmFsdWVzIGluY2x1ZGluZyB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlc1xyXG5jb25zdCBBdXRoQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xyXG4gIHVzZXI6IG51bGwsXHJcbiAgbG9hZGluZzogdHJ1ZSxcclxuICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxyXG4gIGxvZ2luOiBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7fSxcclxuICBsb2dvdXQ6ICgpID0+IHt9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQXV0aFByb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xyXG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFthdXRoRXJyb3IsIHNldEF1dGhFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgc3RvcmVkIGluIHNlc3Npb25TdG9yYWdlXHJcbiAgICBjb25zdCBjaGVja1Nlc3Npb25TdG9yYWdlID0gKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgc2Vzc2lvblN0b3JhZ2UgZm9yIHVzZXIgZGF0YScpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4siBzZXNzaW9uU3RvcmFnZSDguJ7guKPguYnguK3guKHguYPguIrguYnguIfguLLguJnguKvguKPguLfguK3guYTguKHguYhcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5zZXNzaW9uU3RvcmFnZSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ3Nlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUnKTtcclxuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzdG9yZWRVc2VyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGRhdGEgaW4gc2Vzc2lvblN0b3JhZ2U6Jywgc3RvcmVkVXNlciA/ICdGb3VuZCcgOiAnTm90IGZvdW5kJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHN0b3JlZFVzZXIpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShzdG9yZWRVc2VyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBwYXJzZWQgdXNlciBkYXRhJyk7XHJcbiAgICAgICAgICAgIHNldFVzZXIodXNlckRhdGEpO1xyXG5cclxuICAgICAgICAgICAgLy8g4LiV4Lij4Lin4LiI4Liq4Lit4Lia4LiE4Lin4Liy4Lih4LiW4Li54LiB4LiV4LmJ4Lit4LiH4LiC4Lit4LiHIHNlc3Npb25cclxuICAgICAgICAgICAgdmFsaWRhdGVVc2VyU2Vzc2lvbih1c2VyRGF0YSk7XHJcbiAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgdXNlciBkYXRhIGZyb20gc2Vzc2lvblN0b3JhZ2U6JywgcGFyc2VFcnJvcik7XHJcbiAgICAgICAgICAgIC8vIOC4peC5ieC4suC4h+C4guC5ieC4reC4oeC4ueC4peC4l+C4teC5iOC4reC4suC4iOC5gOC4quC4teC4ouC4q+C4suC4olxyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHNlc3Npb25TdG9yYWdlOicsIGVycm9yKTtcclxuICAgICAgICBzZXRBdXRoRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAn4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiU4LmD4LiZ4LiB4Liy4Lij4LiV4Lij4Lin4LiI4Liq4Lit4Lia4LiC4LmJ4Lit4Lih4Li54Lil4Lic4Li54LmJ4LmD4LiK4LmJJyk7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIOC4q+C4meC5iOC4p+C4h+C5gOC4p+C4peC4suC5gOC4peC5h+C4geC4meC5ieC4reC4ouC5gOC4nuC4t+C5iOC4reC5g+C4q+C5ieC5geC4meC5iOC5g+C4iOC4p+C5iOC4siBjbGllbnQgc2lkZSBoeWRyYXRpb24g4LmA4Liq4Lij4LmH4LiI4Liq4Lih4Lia4Li54Lij4LiT4LmMXHJcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjaGVja1Nlc3Npb25TdG9yYWdlKCk7XHJcbiAgICB9LCAxMDApO1xyXG4gICAgXHJcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIOC4leC4tOC4lOC4leC4suC4oeC4geC4suC4o+C5gOC4m+C4peC4teC5iOC4ouC4meC5geC4m+C4peC4h+C4guC4reC4hyBzZXNzaW9uXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIOC4leC4seC5ieC4hyBsaXN0ZW5lciDguYDguJ7guLfguYjguK3guJXguLTguJTguJXguLLguKHguIHguLLguKPguYDguJvguKXguLXguYjguKLguJnguYHguJvguKXguIfguILguK3guIcgc2Vzc2lvblxyXG4gICAgbGV0IHVuc3Vic2NyaWJlID0gKCkgPT4ge307XHJcbiAgICBcclxuICAgIGlmICh1c2VyICYmIHVzZXIudWlkICYmIHVzZXIuc2Vzc2lvbklkKSB7XHJcbiAgICAgIC8vIOC4leC4tOC4lOC4leC4suC4oeC4geC4suC4o+C5gOC4m+C4peC4teC5iOC4ouC4meC5geC4m+C4peC4h+C4guC4reC4h+C5gOC4reC4geC4quC4suC4oyBzZXNzaW9uIOC4m+C4seC4iOC4iOC4uOC4muC4seC4mVxyXG4gICAgICB1bnN1YnNjcmliZSA9IG9uU25hcHNob3QoXHJcbiAgICAgICAgZG9jKGRiLCAndXNlclNlc3Npb25zJywgdXNlci5zZXNzaW9uSWQpLFxyXG4gICAgICAgIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gc25hcHNob3QuZGF0YSgpO1xyXG4gICAgICAgICAgICAvLyDguJbguYnguLIgc2Vzc2lvbiDguYTguKHguYggYWN0aXZlIOC5geC4peC5ieC4pyDguYPguKvguYkgbG9nb3V0IOC4reC4seC4leC5guC4meC4oeC4seC4leC4tFxyXG4gICAgICAgICAgICBpZiAoIXNlc3Npb25EYXRhLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGV4cGlyZWQgb3IgaW52YWxpZGF0ZWQsIGxvZ2dpbmcgb3V0Li4uJyk7XHJcbiAgICAgICAgICAgICAgbG9nb3V0KGZhbHNlKTsgLy8g4LmE4Lih4LmI4LiV4LmJ4Lit4LiH4LmA4Lij4Li14Lii4LiBIGludmFsaWRhdGVTZXNzaW9uIOC5gOC4nuC4o+C4suC4sCBzZXNzaW9uIOC4luC4ueC4geC4ouC4geC5gOC4peC4tOC4geC5hOC4m+C5geC4peC5ieC4p1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDguYTguKHguYjguJ7guJogc2Vzc2lvbiDguYPguKvguYkgbG9nb3V0XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIG5vdCBmb3VuZCwgbG9nZ2luZyBvdXQuLi4nKTtcclxuICAgICAgICAgICAgbG9nb3V0KGZhbHNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlzdGVuaW5nIHRvIHNlc3Npb24gY2hhbmdlczonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDbGVhbiB1cCBsaXN0ZW5lciDguYDguKHguLfguYjguK0gY29tcG9uZW50IHVubW91bnQg4Lir4Lij4Li34LitIHVzZXIg4LmA4Lib4Lil4Li14LmI4Lii4LiZXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAodW5zdWJzY3JpYmUpIHtcclxuICAgICAgICB1bnN1YnNjcmliZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFt1c2VyPy51aWQsIHVzZXI/LnNlc3Npb25JZF0pO1xyXG5cclxuICAvLyDguJ/guLHguIfguIHguYzguIrguLHguJnguJXguKPguKfguIjguKrguK3guJrguITguKfguLLguKHguJbguLnguIHguJXguYnguK3guIfguILguK3guIcgc2Vzc2lvblxyXG4gIGNvbnN0IHZhbGlkYXRlVXNlclNlc3Npb24gPSBhc3luYyAodXNlcikgPT4ge1xyXG4gICAgaWYgKCF1c2VyIHx8ICF1c2VyLnVpZCB8fCAhdXNlci5zZXNzaW9uSWQpIHtcclxuICAgICAgc2V0VXNlcihudWxsKTtcclxuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB2YWxpZGF0ZVNlc3Npb24odXNlci51aWQsIHVzZXIuc2Vzc2lvbklkKTtcclxuICAgICAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAgICAgLy8g4LiW4LmJ4LiyIHNlc3Npb24g4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHIOC5g+C4q+C5iSBsb2dvdXRcclxuICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBzZXNzaW9uLCBsb2dnaW5nIG91dC4uLicpO1xyXG4gICAgICAgIGxvZ291dChmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZhbGlkYXRpbmcgc2Vzc2lvbjonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8g4LmA4Lij4Li04LmI4Lih4LiB4Liy4Lij4LiV4Lij4Lin4LiI4Liq4Lit4LiaIHNlc3Npb24g4Lit4Lii4LmI4Liy4LiH4Liq4Lih4LmI4Liz4LmA4Liq4Lih4LitXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCBzZXNzaW9uQ2hlY2tJbnRlcnZhbDtcclxuICAgIFxyXG4gICAgLy8g4Lif4Lix4LiH4LiB4LmM4LiK4Lix4LiZ4LiV4Lij4Lin4LiI4Liq4Lit4LiaIHNlc3Npb24g4Liq4Liz4Lir4Lij4Lix4Lia4Lic4Li54LmJ4LmD4LiK4LmJ4LiX4Li14LmIIGxvZ2luIOC5geC4peC5ieC4p1xyXG4gICAgY29uc3QgY2hlY2tDdXJyZW50U2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKCF1c2VyIHx8ICF1c2VyLnVpZCkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyDguJXguKPguKfguIjguKrguK3guJogc2Vzc2lvbiDguJvguLHguIjguIjguLjguJrguLHguJnguIjguLLguIEgRmlyZXN0b3JlXHJcbiAgICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlci51aWQpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCF1c2VyRG9jLmV4aXN0cygpKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdXNlckRhdGEgPSB1c2VyRG9jLmRhdGEoKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50U2Vzc2lvblRva2VuID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvblRva2VuJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g4LiW4LmJ4LiyIHNlc3Npb24gdG9rZW4g4LmE4Lih4LmI4LiV4Lij4LiH4LiB4Lix4LiZIOC5geC4quC4lOC4h+C4p+C5iOC4suC4oeC4teC4hOC4meC4reC4t+C5iOC4mSBsb2dpbiDguYDguILguYnguLLguKHguLLguYPguKvguKHguYhcclxuICAgICAgICBpZiAodXNlckRhdGEuc2Vzc2lvblRva2VuICYmIFxyXG4gICAgICAgICAgICB1c2VyRGF0YS5zZXNzaW9uVG9rZW4gIT09IGN1cnJlbnRTZXNzaW9uVG9rZW4pIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdBbm90aGVyIHNlc3Npb24gZGV0ZWN0ZWQsIGxvZ2dpbmcgb3V0Jyk7XHJcbiAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICAgIGFsZXJ0KCfguJrguLHguI3guIrguLXguILguK3guIfguITguLjguJPguJbguLnguIHguYPguIrguYnguIfguLLguJnguJfguLXguYjguK3guLfguYjguJkg4LiE4Li44LiT4LiW4Li54LiB4Lit4Lit4LiB4LiI4Liy4LiB4Lij4Liw4Lia4Lia4LmC4LiU4Lii4Lit4Lix4LiV4LmC4LiZ4Lih4Lix4LiV4Li0Jyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4siBzZXNzaW9uIOC4q+C4oeC4lOC4reC4suC4ouC4uOC4q+C4o+C4t+C4reC5hOC4oeC5iFxyXG4gICAgICAgIGlmICh1c2VyRGF0YS5sYXN0QWN0aXZpdHkpIHtcclxuICAgICAgICAgIGNvbnN0IGxhc3RBY3Rpdml0eSA9IHVzZXJEYXRhLmxhc3RBY3Rpdml0eS50b0RhdGUgPyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhLmxhc3RBY3Rpdml0eS50b0RhdGUoKSA6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUodXNlckRhdGEubGFzdEFjdGl2aXR5KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgIGNvbnN0IHRpbWVEaWZmID0gbm93LmdldFRpbWUoKSAtIGxhc3RBY3Rpdml0eS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmICh0aW1lRGlmZiA+IFNFU1NJT05fRVhQSVJZX1RJTUUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Nlc3Npb24gZXhwaXJlZCwgbG9nZ2luZyBvdXQnKTtcclxuICAgICAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgICAgIGFsZXJ0KCfguYDguIvguKrguIrguLHguJnguILguK3guIfguITguLjguJPguKvguKHguJTguK3guLLguKLguLgg4LiB4Lij4Li44LiT4Liy4LmA4LiC4LmJ4Liy4Liq4Li54LmI4Lij4Liw4Lia4Lia4LmD4Lir4Lih4LmIJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8g4Lit4Lix4Lib4LmA4LiU4LiV4LmA4Lin4Lil4Liy4LiB4Li04LiI4LiB4Lij4Lij4Lih4Lil4LmI4Liy4Liq4Li44LiUXHJcbiAgICAgICAgICBhd2FpdCB1cGRhdGVEb2ModXNlclJlZiwge1xyXG4gICAgICAgICAgICBsYXN0QWN0aXZpdHk6IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgc2Vzc2lvbjonLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGlmICh1c2VyICYmICFsb2FkaW5nKSB7XHJcbiAgICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4l+C4seC4meC4l+C4teC4q+C4peC4seC4hyBsb2dpblxyXG4gICAgICBjaGVja0N1cnJlbnRTZXNzaW9uKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDguJXguLHguYnguIfguYDguKfguKXguLLguJXguKPguKfguIjguKrguK3guJrguJfguLjguIEgMSDguJnguLLguJfguLVcclxuICAgICAgc2Vzc2lvbkNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVja0N1cnJlbnRTZXNzaW9uLCA2MDAwMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmIChzZXNzaW9uQ2hlY2tJbnRlcnZhbCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc2Vzc2lvbkNoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFt1c2VyLCBsb2FkaW5nXSk7XHJcblxyXG4gIC8vIExvZ2luIGZ1bmN0aW9uXHJcbiAgY29uc3QgbG9naW4gPSBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnTG9naW4gZnVuY3Rpb24gY2FsbGVkIHdpdGggdXNlcm5hbWU6JywgdXNlcm5hbWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbG9naW5Vc2VyKHVzZXJuYW1lLCBwYXNzd29yZCk7XHJcbiAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAvLyDguKrguKPguYnguLLguIcgc2Vzc2lvbiB0b2tlbiDguYPguKvguKHguYhcclxuICAgICAgICBjb25zdCBzZXNzaW9uVG9rZW4gPSBnZW5lcmF0ZVNlc3Npb25Ub2tlbigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOC4muC4seC4meC4l+C4tuC4gSB0b2tlbiDguKXguIcgc2Vzc2lvblN0b3JhZ2VcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdzZXNzaW9uVG9rZW4nLCBzZXNzaW9uVG9rZW4pO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXN1bHQudXNlcikpO1xyXG4gICAgICAgIHNldFVzZXIocmVzdWx0LnVzZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOC4muC4seC4meC4l+C4tuC4gSBzZXNzaW9uIHRva2VuIOC5geC4peC4sOC5gOC4p+C4peC4suC4peC4h+C5g+C4mSBGaXJlc3RvcmVcclxuICAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCByZXN1bHQudXNlci51aWQpO1xyXG4gICAgICAgIGF3YWl0IHVwZGF0ZURvYyh1c2VyUmVmLCB7XHJcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlbixcclxuICAgICAgICAgIGxhc3RBY3Rpdml0eTogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgICAgICBsYXN0TG9naW46IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gV3JhcCBsb2dnaW5nIGluIHRyeS1jYXRjaFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBsb2dFdmVudCgndXNlcl9sb2dpbicsIHtcclxuICAgICAgICAgICAgdXNlcklkOiByZXN1bHQudXNlci51aWQsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgICAgICAgICAgc2Vzc2lvbklkOiByZXN1bHQudXNlci5zZXNzaW9uSWQsXHJcbiAgICAgICAgICAgIHJvbGU6IHJlc3VsdC51c2VyLnJvbGUsXHJcbiAgICAgICAgICAgIG5hbWU6IHJlc3VsdC51c2VyLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgYWN0aW9uOiAnTG9naW4gc3VjY2VzcydcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGxvZ0Vycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0xvZ2luIGxvZ2dpbmcgZmFpbGVkOicsIGxvZ0Vycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ+C5gOC4geC4tOC4lOC4guC5ieC4reC4nOC4tOC4lOC4nuC4peC4suC4lOC5g+C4meC4geC4suC4o+C5gOC4guC5ieC4suC4quC4ueC5iOC4o+C4sOC4muC4micgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBMb2dvdXQgZnVuY3Rpb25cclxuICBjb25zdCBsb2dvdXQgPSAoaW52YWxpZGF0ZUN1cnJlbnRTZXNzaW9uID0gdHJ1ZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gdXNlcj8udWlkO1xyXG4gICAgICBjb25zdCBzZXNzaW9uSWQgPSB1c2VyPy5zZXNzaW9uSWQ7XHJcbiAgICAgIFxyXG4gICAgICAvLyDguJbguYnguLLguKHguLUgdXNlciDguYHguKXguLAgdWlkIOC5g+C4q+C5ieC4peC4miBzZXNzaW9uIHRva2VuIOC4reC4reC4geC4iOC4suC4gSBGaXJlc3RvcmVcclxuICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCk7XHJcbiAgICAgICAgdXBkYXRlRG9jKHVzZXJSZWYsIHtcclxuICAgICAgICAgIHNlc3Npb25Ub2tlbjogbnVsbCxcclxuICAgICAgICAgIGxhc3RBY3Rpdml0eTogc2VydmVyVGltZXN0YW1wKClcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcignRXJyb3IgY2xlYXJpbmcgc2Vzc2lvbjonLCBlcnIpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g4LiW4LmJ4Liy4LiV4LmJ4Lit4LiH4LiB4Liy4Lij4Lii4LiB4LmA4Lil4Li04LiBIHNlc3Npb24g4Lib4Lix4LiI4LiI4Li44Lia4Lix4LiZXHJcbiAgICAgIGlmIChpbnZhbGlkYXRlQ3VycmVudFNlc3Npb24gJiYgc2Vzc2lvbklkKSB7XHJcbiAgICAgICAgaW52YWxpZGF0ZVNlc3Npb24oc2Vzc2lvbklkKS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbnZhbGlkYXRpbmcgc2Vzc2lvbjonLCBlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIOC4peC4muC4guC5ieC4reC4oeC4ueC4peC4reC4reC4geC4iOC4suC4gSBzZXNzaW9uU3RvcmFnZVxyXG4gICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdzZXNzaW9uVG9rZW4nKTtcclxuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpO1xyXG4gICAgICBzZXRVc2VyKG51bGwpO1xyXG4gICAgICBcclxuICAgICAgLy8g4Lia4Lix4LiZ4LiX4Li24LiB4LiB4Liy4Lij4Lit4Lit4LiB4LiI4Liy4LiB4Lij4Liw4Lia4LiaXHJcbiAgICAgIGxvZ0V2ZW50KCd1c2VyX2xvZ291dCcsIHtcclxuICAgICAgICB1c2VySWQsXHJcbiAgICAgICAgdXNlcm5hbWU6IHVzZXI/LnVzZXJuYW1lLFxyXG4gICAgICAgIHNlc3Npb25JZCxcclxuICAgICAgICByb2xlOiB1c2VyPy5yb2xlLFxyXG4gICAgICAgIG5hbWU6IHVzZXI/LmRpc3BsYXlOYW1lLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIGFjdGlvbjogJ0xvZ291dCBzdWNjZXNzJ1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTG9nb3V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIENoZWNrIGlmIHVzZXIgaXMgYXV0aGVudGljYXRlZFxyXG4gIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IHVzZXIgIT09IG51bGw7XHJcblxyXG4gIC8vIE1ha2Ugc3VyZSBsb2dpbiBpcyBpbmNsdWRlZCBpbiB0aGUgY29udGV4dCB2YWx1ZVxyXG4gIGNvbnN0IHZhbHVlID0ge1xyXG4gICAgdXNlcixcclxuICAgIGxvYWRpbmcsXHJcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6ICEhdXNlcixcclxuICAgIGxvZ2luLFxyXG4gICAgbG9nb3V0LFxyXG4gIH07XHJcblxyXG4gIGNvbnNvbGUubG9nKCdBdXRoQ29udGV4dCB2YWx1ZTonLCB7XHJcbiAgICB1c2VyOiAhIXZhbHVlLnVzZXIsXHJcbiAgICBsb2FkaW5nOiB2YWx1ZS5sb2FkaW5nLFxyXG4gICAgaXNBdXRoZW50aWNhdGVkOiB2YWx1ZS5pc0F1dGhlbnRpY2F0ZWQsXHJcbiAgICBoYXNMb2dpbjogdHlwZW9mIHZhbHVlLmxvZ2luID09PSAnZnVuY3Rpb24nLFxyXG4gICAgaGFzTG9nb3V0OiB0eXBlb2YgdmFsdWUubG9nb3V0ID09PSAnZnVuY3Rpb24nXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiYXV0aCIsImRiIiwiZG9jIiwiZ2V0RG9jIiwic2V0RG9jIiwidXBkYXRlRG9jIiwic2VydmVyVGltZXN0YW1wIiwib25TbmFwc2hvdCIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwibG9naW5Vc2VyIiwidmFsaWRhdGVTZXNzaW9uIiwiaW52YWxpZGF0ZVNlc3Npb24iLCJsb2dFdmVudCIsIlNFU1NJT05fRVhQSVJZX1RJTUUiLCJnZW5lcmF0ZVNlc3Npb25Ub2tlbiIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsIkRhdGUiLCJub3ciLCJBdXRoQ29udGV4dCIsInVzZXIiLCJsb2FkaW5nIiwiaXNBdXRoZW50aWNhdGVkIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibG9nb3V0IiwidXNlQXV0aCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwic2V0VXNlciIsInNldExvYWRpbmciLCJhdXRoRXJyb3IiLCJzZXRBdXRoRXJyb3IiLCJjaGVja1Nlc3Npb25TdG9yYWdlIiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsInNlc3Npb25TdG9yYWdlIiwic3RvcmVkVXNlciIsImdldEl0ZW0iLCJ1c2VyRGF0YSIsIkpTT04iLCJwYXJzZSIsInZhbGlkYXRlVXNlclNlc3Npb24iLCJwYXJzZUVycm9yIiwiZXJyb3IiLCJyZW1vdmVJdGVtIiwibWVzc2FnZSIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInVuc3Vic2NyaWJlIiwidWlkIiwic2Vzc2lvbklkIiwic25hcHNob3QiLCJleGlzdHMiLCJzZXNzaW9uRGF0YSIsImRhdGEiLCJhY3RpdmUiLCJpc1ZhbGlkIiwic2Vzc2lvbkNoZWNrSW50ZXJ2YWwiLCJjaGVja0N1cnJlbnRTZXNzaW9uIiwidXNlclJlZiIsInVzZXJEb2MiLCJjdXJyZW50U2Vzc2lvblRva2VuIiwic2Vzc2lvblRva2VuIiwiYWxlcnQiLCJsYXN0QWN0aXZpdHkiLCJ0b0RhdGUiLCJ0aW1lRGlmZiIsImdldFRpbWUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJyZXN1bHQiLCJzdWNjZXNzIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImxhc3RMb2dpbiIsInVzZXJJZCIsInJvbGUiLCJuYW1lIiwiZGlzcGxheU5hbWUiLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsImFjdGlvbiIsImxvZ0Vycm9yIiwid2FybiIsImludmFsaWRhdGVDdXJyZW50U2Vzc2lvbiIsImNhdGNoIiwiZXJyIiwidmFsdWUiLCJoYXNMb2dpbiIsImhhc0xvZ291dCIsIlByb3ZpZGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/context/AuthContext.js\n"));

/***/ })

});