"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{6091:(e,t,a)=>{a.d(t,{A:()=>g});var s=a(5155),r=a(2115),l=a(7982),n=a(7058),i=a(5781),d=a(6472);let c=()=>(0,s.jsx)("div",{className:"animate-pulse w-full h-4 bg-gray-300 rounded-md"});a(2577);var o=a(3693),x=a(3665),h=a(7423);a(1856);var u=a(1340);i.t1.register(i.Bs,i.PP,i.kc,i.E8,i.hE,i.m_,i.s$);let g=()=>{var e;let{user:t}=(0,u.A)();null==t||null===(e=t.role)||void 0===e||e.toLowerCase();let[a,i]=(0,r.useState)(!0),[g,m]=(0,r.useState)(null),[b,p]=(0,r.useState)([]),[w,f]=(0,r.useState)({startDate:new Date,shift:"all"}),[v,j]=(0,r.useState)(!1),[N,y]=(0,r.useState)(""),[k,O]=(0,r.useState)(null),[C,W]=(0,r.useState)(null),[I,D]=(0,r.useState)(!1),[P,S]=(0,r.useState)(new Date),[A,M]=(0,r.useState)((0,x.Lg)()),[R,_]=(0,r.useState)(!1),[B,G]=(0,r.useState)([]),[E,z]=(0,r.useState)(null),[T,L]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=new Date;S(e),M(K(e))},[]);let F=e=>{let t=new Date(e);return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]},Y=(0,r.useCallback)(async()=>{i(!0);try{let e=(0,n.rJ)(l.db,"staffRecords"),t=F(w.startDate),a=new Date(w.startDate.getFullYear(),0,1),s=new Date(w.startDate.getFullYear(),11,31),r=(0,n.P)(e,(0,n._M)("date",">=",F(a)),(0,n._M)("date","<=",F(s))),i=await (0,n.GG)(r),d=new Map,c=null;i.docs.forEach(e=>{let t=e.data(),a=t.date,s=t.shift;d.has(a)||d.set(a,{shifts:new Set}),d.get(a).shifts.add(s),(!c||a>c)&&(c=a)});let o=Array.from(d.entries()).map(e=>{let[t,a]=e;return{date:t,isComplete:2===a.shifts.size,shifts:Array.from(a.shifts)}});G(o);let x=[];if("all"===w.shift){let a=(0,n.P)(e,(0,n._M)("date","==",t),(0,n._M)("shift","==","07:00-19:00")),s=(0,n.P)(e,(0,n._M)("date","==",t),(0,n._M)("shift","==","19:00-07:00")),[r,l]=await Promise.all([(0,n.GG)(a),(0,n.GG)(s)]);x=[...r.docs.map(e=>({id:e.id,...e.data()})),...l.docs.map(e=>({id:e.id,...e.data()}))]}else{let a=(0,n.P)(e,(0,n._M)("date","==",t),(0,n._M)("shift","==",w.shift));x=(await (0,n.GG)(a)).docs.map(e=>({id:e.id,...e.data()}))}if(console.log("Fetched Records:",x),console.log("Selected Date:",t),console.log("Current Filter:",w),x.length>0){p(x);let e=H(x);O(e)}else O(V());if(c){let e=new Date(c);M(K(e))}}catch(e){console.error("Error fetching data:",e),m("ไม่สามารถโหลดข้อมูลได้"),O(V()),G([])}finally{i(!1)}},[w]);(0,r.useEffect)(()=>{Y()},[Y]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{L(!1)},1e3);return()=>clearTimeout(e)},[]);let U=async(e,t)=>{S(e),f(a=>({...a,startDate:e,shift:t||a.shift})),_(!1);try{i(!0);let a=(0,n.rJ)(l.db,"staffRecords"),s=F(e),r=new Date(e.getFullYear(),0,1),d=new Date(e.getFullYear(),11,31),c=(0,n.P)(a,(0,n._M)("date",">=",F(r)),(0,n._M)("date","<=",F(d))),o=await (0,n.GG)(c),x=null;o.docs.forEach(e=>{let t=e.data().date;(!x||t>x)&&(x=t)});let h=[],u=t||w.shift;if("all"===u){let e=(0,n.P)(a,(0,n._M)("date","==",s),(0,n._M)("shift","==","07:00-19:00")),t=(0,n.P)(a,(0,n._M)("date","==",s),(0,n._M)("shift","==","19:00-07:00")),[r,l]=await Promise.all([(0,n.GG)(e),(0,n.GG)(t)]);h=[...r.docs.map(e=>({id:e.id,...e.data()})),...l.docs.map(e=>({id:e.id,...e.data()}))]}else{let e=(0,n.P)(a,(0,n._M)("date","==",s),(0,n._M)("shift","==",u));h=(await (0,n.GG)(e)).docs.map(e=>({id:e.id,...e.data()}))}if(h.length>0){p(h);let e=H(h);O(e)}else O(V());if(x){let e=new Date(x);M(K(e))}}catch(e){console.error("Error fetching data:",e),m("ไม่สามารถโหลดข้อมูลได้"),O(V())}finally{i(!1)}},V=()=>({totalRecords:0,totalPatients:0,totalStaff:0,totalAttendance:0,byWard:{},supervisorName:""}),H=e=>{if(!e||!Array.isArray(e)||0===e.length)return V();let t={},a={totalPatients:0,totalStaff:0,byWard:{},wards:{}};return e.forEach(e=>{e.wards&&Object.entries(e.wards).forEach(a=>{let[s,r]=a;if(t[s]||(t[s]={numberOfPatients:0,RN:0,PN:0,WC:0,NA:0,newAdmit:0,transferIn:0,referIn:0,transferOut:0,referOut:0,discharge:0,dead:0,overallData:0,availableBeds:0,unavailable:0}),"all"===w.shift||e.shift===w.shift){let e=parseInt(r.numberOfPatients)||0,a=parseInt(r.RN)||0,l=parseInt(r.PN)||0,n=parseInt(r.WC)||0,i=parseInt(r.NA)||0,d=parseInt(r.newAdmit)||0,c=parseInt(r.transferIn)||0,o=parseInt(r.referIn)||0,x=parseInt(r.transferOut)||0,h=parseInt(r.referOut)||0,u=parseInt(r.discharge)||0,g=parseInt(r.dead)||0,m=parseInt(r.availableBeds)||0,b=parseInt(r.unavailable)||0;t[s].numberOfPatients=e,t[s].RN=a,t[s].PN=l,t[s].WC=n,t[s].NA=i,t[s].newAdmit=d,t[s].transferIn=c,t[s].referIn=o,t[s].transferOut=x,t[s].referOut=h,t[s].discharge=u,t[s].dead=g,t[s].availableBeds=m,t[s].unavailable=b,t[s].overallData=e}})}),Object.entries(t).forEach(e=>{let[t,s]=e;a.totalPatients+=s.numberOfPatients,a.totalStaff+=s.RN+s.PN+s.WC+s.NA,a.byWard[t]=s.numberOfPatients,a.wards[t]=s}),{...a,totalRecords:e.length,totalAttendance:e.reduce((e,t)=>e+(parseInt(t.totalAttendance)||0),0),supervisorName:e.map(e=>e.supervisorName).filter(Boolean).join(", ")}},J={Ward6:"bg-pink-100 hover:bg-pink-200",Ward7:"bg-blue-100 hover:bg-blue-200",Ward8:"bg-violet-100 hover:bg-violet-200",Ward9:"bg-green-100 hover:bg-green-200",WardGI:"bg-yellow-100 hover:bg-yellow-200",Ward10B:"bg-sky-100 hover:bg-sky-200",Ward11:"bg-red-100 hover:bg-red-200",Ward12:"bg-cyan-100 hover:bg-cyan-200",ICU:"bg-indigo-100 hover:bg-indigo-200",CCU:"bg-orange-100 hover:bg-orange-200",LR:"bg-emerald-100 hover:bg-emerald-200",NSY:"bg-rose-100 hover:bg-rose-200"},q={background:["rgba(252, 231, 243, 0.8)","rgba(219, 234, 254, 0.8)","rgba(237, 233, 254, 0.8)","rgba(220, 252, 231, 0.8)","rgba(254, 249, 195, 0.8)","rgba(224, 242, 254, 0.8)","rgba(254, 226, 226, 0.8)","rgba(207, 250, 254, 0.8)","rgba(224, 231, 255, 0.8)","rgba(255, 237, 213, 0.8)","rgba(209, 250, 229, 0.8)","rgba(255, 228, 230, 0.8)"],border:["rgb(252, 231, 243)","rgb(219, 234, 254)","rgb(237, 233, 254)","rgb(220, 252, 231)","rgb(254, 249, 195)","rgb(224, 242, 254)","rgb(254, 226, 226)","rgb(207, 250, 254)","rgb(224, 231, 255)","rgb(255, 237, 213)","rgb(209, 250, 229)","rgb(255, 228, 230)"]},Z=["Ward6","Ward7","Ward8","Ward9","WardGI","Ward10B","Ward11","Ward12","ICU","CCU","LR","NSY"],$=(0,r.useMemo)(()=>{if(!(null==k?void 0:k.wards)||0===Object.keys(k.wards).length)return{pie:null,bar:null};let e=C?[C]:Z.filter(e=>k.wards[e]);if(0===e.length)return{pie:null,bar:null};let t=e.map(e=>{var t;return(null===(t=k.wards[e])||void 0===t?void 0:t.availableBeds)||0}),a=e.map(e=>{var t;return(null===(t=k.wards[e])||void 0===t?void 0:t.overallData)||0}),s=a.reduce((e,t)=>e+t,0);return{pie:{labels:e,datasets:[{data:t,backgroundColor:C?[q.background[Z.indexOf(C)]]:q.background.slice(0,e.length),borderColor:C?[q.border[Z.indexOf(C)]]:q.border.slice(0,e.length),borderWidth:1}]},bar:{labels:C?[C]:[...e,"Total"],datasets:[{label:"Overall Data",data:C?a:[...a,s],backgroundColor:C?[q.background[Z.indexOf(C)]]:[...q.background.slice(0,e.length),"rgba(75, 192, 192, 0.8)"],borderColor:C?[q.border[Z.indexOf(C)]]:[...q.border.slice(0,e.length),"rgb(75, 192, 192)"],borderWidth:1}]}}},[k,Z,C]),K=e=>{let t=e.getDate(),a=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"][e.getMonth()],s=e.getFullYear()+543;return"".concat(t," ").concat(a," ").concat(s)};return a?(0,s.jsx)(c,{}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[T&&(0,s.jsx)(o.A,{}),(0,s.jsxs)("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 bg-white rounded-xl shadow-sm p-6",children:[(0,s.jsx)("div",{className:"w-full md:w-3/4",children:(0,s.jsx)(h.A,{selectedDate:P,onDateSelect:U,datesWithData:B,showCalendar:R,setShowCalendar:_,thaiDate:A,variant:"dashboard"})}),(0,s.jsx)("div",{className:"w-full md:w-1/4 flex justify-center md:justify-end",children:(0,s.jsx)("div",{className:"inline-flex rounded-md shadow-sm",children:["all","07:00-19:00","19:00-07:00"].map((e,t)=>(0,s.jsx)("button",{onClick:()=>f(t=>({...t,shift:e})),className:"\n                                                px-4 py-2 text-sm font-medium\n                                                ".concat(0===t?"rounded-l-md":2===t?"rounded-r-md":"","\n                                                ").concat(w.shift===e?"bg-blue-500 text-white border-blue-600 z-10":"bg-white text-gray-700 border-gray-200 hover:bg-blue-50","\n                                                border ").concat(0!==t?"border-l-0":"","\n                                                transition-all duration-200\n                                            "),children:"all"===e?"ทั้งหมด":"07:00-19:00"===e?"กะเช้า":"กะดึก"},e))})})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-10",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 h-full flex flex-col justify-center",onClick:()=>{var e;W(null),null===(e=document.getElementById("detailed-ward-info"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},children:(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white mb-3",children:"Patient Census"}),(0,s.jsx)("p",{className:"text-6xl font-bold text-white",children:(null==k?void 0:k.totalPatients)||0})]})})}),(0,s.jsx)("div",{className:"lg:col-span-4",children:(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries((null==k?void 0:k.byWard)||{}).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{onClick:()=>{var e;W(t),null===(e=document.getElementById("detailed-ward-info"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},className:"\n                                        ".concat(J[t]," p-4 rounded-xl shadow-sm \n                                        cursor-pointer transform transition-all duration-200 \n                                        hover:scale-105 hover:shadow-md\n                                        ").concat(C===t?"ring-2 ring-blue-500":"","\n                                    "),children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-800 text-center mb-2",children:t}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 text-center",children:a})]},t)})})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex justify-between items-center",children:[(0,s.jsx)("span",{children:"Available Beds Distribution"}),C&&(0,s.jsxs)("button",{onClick:()=>W(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Show All"]})]}),(0,s.jsxs)("div",{className:"h-[450px]",children:[" ",(null==$?void 0:$.pie)&&$.pie.labels&&$.pie.labels.length>0?(0,s.jsx)(d.Fq,{data:$.pie,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},title:{display:!0,text:"Available Beds by Ward",color:"black",font:{size:16}},tooltip:{callbacks:{label:e=>{let t=e.label||"",a=e.raw||0;return"".concat(t,": ").concat(a," beds available")}}}},onClick:(e,t)=>{t&&t.length>0&&W($.pie.labels[t[0].index])},elements:{arc:{cursor:"pointer"}}}}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"No data available"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex justify-between items-center",children:[(0,s.jsx)("span",{children:"Overall Data by Ward"}),C&&(0,s.jsxs)("button",{onClick:()=>W(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Show All"]})]}),(0,s.jsxs)("div",{className:"h-[450px]",children:[" ",(null==$?void 0:$.bar)&&$.bar.labels&&$.bar.labels.length>0?(0,s.jsx)(d.yP,{data:$.bar,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Overall Data by Ward",color:"black",font:{size:16}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Patients"}}},onClick:(e,t)=>{if(t&&t.length>0){let e=$.bar.labels[t[0].index];"Total"===e?W(null):W(e)}},elements:{bar:{cursor:"pointer"}}}}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"No data available"})]})]})]}),(0,s.jsxs)("div",{id:"detailed-ward-info",className:"bg-white rounded-xl shadow-sm p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:C?"".concat(C," Information"):"Detailed Ward Information"}),(0,s.jsxs)("div",{className:"hidden md:block",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsx)("div",{className:"inline-block min-w-full",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gradient-to-r from-blue-50 to-blue-100",children:[(0,s.jsx)("th",{className:"sticky left-0 bg-gradient-to-r from-blue-50 to-blue-100 p-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ward"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Census"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"RN"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"PN"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"WC"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"New"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"T-In"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"R-In"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"T-Out"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"R-Out"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"D/C"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Dead"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider bg-blue-100",children:"Total"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Avail"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Unavail"})]})}),(0,s.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[Object.entries((null==k?void 0:k.byWard)||{}).filter(e=>{let[t]=e;return!C||t===C}).map((e,t)=>{var a;let[r,l]=e,n=(null==k?void 0:null===(a=k.wards)||void 0===a?void 0:a[r])||{};return(0,s.jsxs)("tr",{className:"".concat(t%2==0?"bg-white":"bg-gray-50"," hover:bg-blue-50"),children:[(0,s.jsx)("td",{className:"sticky left-0 p-3 text-xs font-medium text-gray-900 text-center whitespace-nowrap bg-inherit",children:r}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.numberOfPatients||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.RN||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.PN||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.WC||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.newAdmit||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.transferIn||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.referIn||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.transferOut||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.referOut||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.discharge||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.dead||0}),(0,s.jsx)("td",{className:"p-3 text-xs font-medium text-gray-900 text-center whitespace-nowrap bg-blue-50",children:n.overallData||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.availableBeds||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:n.unavailable||0})]},r)}),(0,s.jsxs)("tr",{className:"bg-blue-100 font-semibold",children:[(0,s.jsx)("td",{className:"sticky left-0 p-3 text-xs font-medium text-gray-900 text-center whitespace-nowrap bg-blue-100",children:"Total"}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.numberOfPatients||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.RN||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.PN||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.WC||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.newAdmit||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.transferIn||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.referIn||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.transferOut||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.referOut||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.discharge||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.dead||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs font-medium text-gray-900 text-center whitespace-nowrap bg-blue-200",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.overallData||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.availableBeds||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values((null==k?void 0:k.wards)||{}).reduce((e,t)=>e+(t.unavailable||0),0)})]})]})]})})}),(0,s.jsx)("div",{className:"mt-4 text-center text-sm text-gray-500",children:"← Scroll horizontally to view more →"})]}),(0,s.jsx)("div",{className:"md:hidden space-y-4",children:Object.entries((null==k?void 0:k.byWard)||{}).filter(e=>{let[t]=e;return!C||t===C}).map(e=>{var t;let[a]=e,r=(null==k?void 0:null===(t=k.wards)||void 0===t?void 0:t[a])||{};return(0,s.jsxs)("div",{className:"\n                                            ".concat(J[a]," rounded-xl p-5 shadow-sm\n                                            hover:shadow-md transition-all duration-200\n                                        "),children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:a}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Census"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:r.numberOfPatients||0})]}),(0,s.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:r.overallData||0})]}),(0,s.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Available"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:r.availableBeds||0})]}),(0,s.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Staff"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:(r.RN||0)+(r.PN||0)+(r.WC||0)})]})]})]},a)})})]}),C&&(0,s.jsx)("div",{className:"flex justify-center mt-8",children:(0,s.jsx)("button",{onClick:()=>W(null),className:"   px-6 py-3 bg-blue-500 text-white rounded-lg   hover:bg-blue-600 focus:outline-none focus:ring-2    focus:ring-offset-2 focus:ring-blue-500   shadow-sm hover:shadow-md transition-all duration-200   font-medium   ",children:"แสดง Ward"})}),E&&(0,s.jsx)(e=>{let{message:t,type:a,onClose:r}=e;return(0,s.jsx)("div",{className:"\n                fixed top-4 right-4 z-[60] p-4 rounded-lg shadow-lg\n                ".concat("warning"===a?"bg-yellow-50 text-yellow-800":"bg-blue-50 text-blue-800","\n                transition-all duration-300 ease-in-out\n            "),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["warning"===a?(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 000 2v3a1 1 001 1h1a1 1 100-2v-3a1 1 00-1-1H9z",clipRule:"evenodd"})}),(0,s.jsx)("span",{className:"font-medium",children:t}),(0,s.jsx)("button",{onClick:r,className:"ml-2 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})},{...E,onClose:()=>z(null)})]})]})}}}]);