(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7587:(e,r,t)=>{Promise.resolve().then(t.bind(t,8803))},3967:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(5155),n=t(1996),a=t.n(n);let o=e=>{let{fullScreen:r=!1}=e,t=(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0ab4ab]"}),(0,s.jsx)("p",{className:"text-gray-600",children:"กำลังโหลดข้อมูล..."})]});return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-80 z-50 flex items-center justify-center",children:t}):(0,s.jsx)("div",{className:"flex items-center justify-center p-8",children:t})};o.propTypes={fullScreen:a().bool};let i=o},4015:(e,r,t)=>{"use strict";t.d(r,{Nb:()=>s,gN:()=>n});let s={WARD:"ward",FORM:"form",DASHBOARD:"dashboard",USER_MANAGEMENT:"user_management"},n={[s.WARD]:"Ward Form",[s.FORM]:"Approval",[s.DASHBOARD]:"Dashboard",[s.USER_MANAGEMENT]:"User Management"}},8803:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(5155),n=t(2115),a=t(6046),o=t(5071),i=t(6091),c=t(5984),l=t(1996),d=t.n(l);class u extends n.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r)}render(){return this.state.hasError?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-red-600 mb-4",children:"เกิดข้อผิดพลาดบางอย่าง"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"กรุณาลองโหลดหน้าใหม่อีกครั้ง หรือติดต่อผู้ดูแลระบบ"}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-[#0ab4ab] text-white px-4 py-2 rounded-lg hover:bg-[#0ab4ab]/80",children:"โหลดหน้าใหม่"})]})}):this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null}}}u.propTypes={children:d().node.isRequired};var p=t(3967),h=t(4015),m=t(1340);function x(){let[e,r]=(0,n.useState)(null),[t,l]=(0,n.useState)(h.Nb.FORM),{user:d,loading:x,isAuthenticated:b,logout:f}=(0,m.A)(),g=(0,a.useRouter)();return((0,n.useEffect)(()=>(window.setCurrentPage=l,window.currentPage=t,()=>{delete window.setCurrentPage,delete window.currentPage}),[]),(0,n.useEffect)(()=>{window.currentPage=t},[t]),(0,n.useEffect)(()=>{x||b||g.push("/login")},[x,b,g]),e)?(0,s.jsxs)("div",{children:["Error: ",e]}):(0,s.jsx)(u,{children:(0,s.jsxs)("div",{className:"min-h-screen relative",children:[(0,s.jsx)("main",{className:"container mx-auto px-4 pt-20",children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(p.A,{}),children:(()=>{if(x)return console.log("Home - still loading, showing LoadingSpinner"),(0,s.jsx)(p.A,{});if(!b)return console.log("Home - not authenticated, rendering null"),null;switch(console.log("Home - rendering page content:",t),t){case h.Nb.FORM:return(0,s.jsx)(o.A,{});case h.Nb.WARD:return(0,s.jsx)(c.A,{});case h.Nb.DASHBOARD:return(0,s.jsx)(i.A,{});default:return(0,s.jsx)(o.A,{})}})()})}),(0,s.jsx)("div",{className:"fixed bottom-4 right-4 text-sm text-gray-500",children:"v.2.3.3.2025"})]})})}t(4898)},5192:(e,r,t)=>{"use strict";var s=t(859);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,r,t,n,a,o){if(o!==s){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function r(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:n};return t.PropTypes=t,t}},1996:(e,r,t)=>{e.exports=t(5192)()},859:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e=>{var r=r=>e(e.s=r);e.O(0,[302,992,888,320,647,118,738,262,759,898,46,71,91,984,441,517,358],()=>r(7587)),_N_E=e.O()}]);