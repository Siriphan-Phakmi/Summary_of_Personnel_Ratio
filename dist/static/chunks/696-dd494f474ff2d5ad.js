"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{650:(e,t,r)=>{r.d(t,{Sw:()=>a,YU:()=>d});var n=r(5155),o=r(2115);let s=e=>{let{isOpen:t=!1,onClose:r,title:s,message:i,type:l="info",confirmText:a="ตกลง",cancelText:c="ยกเลิก",onConfirm:d,onCancel:u,showCancel:m=!1,allowOutsideClick:f=!0,timer:h=0}=e,[x,g]=(0,o.useState)(!1),[b,p]=(0,o.useState)(h>0?h:0);(0,o.useEffect)(()=>{if(t)g(!0);else{let e=setTimeout(()=>g(!1),300);return()=>clearTimeout(e)}},[t]),(0,o.useEffect)(()=>{if(h>0&&t){p(h);let e=setInterval(()=>{p(t=>t<=100?(clearInterval(e),r(),0):t-100)},100);return()=>clearInterval(e)}},[t,h,r]);let v={success:(0,n.jsx)("svg",{className:"w-20 h-20 mx-auto text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),error:(0,n.jsx)("svg",{className:"w-20 h-20 mx-auto text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),warning:(0,n.jsx)("svg",{className:"w-20 h-20 mx-auto text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:(0,n.jsx)("svg",{className:"w-20 h-20 mx-auto text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),question:(0,n.jsx)("svg",{className:"w-20 h-20 mx-auto text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},w={success:"border-green-200 bg-green-50",error:"border-red-200 bg-red-50",warning:"border-amber-200 bg-amber-50",info:"border-blue-200 bg-blue-50",question:"border-purple-200 bg-purple-50",confirm:"border-blue-200 bg-blue-50"},C={success:"bg-green-600 hover:bg-green-700 focus:ring-green-500",error:"bg-red-600 hover:bg-red-700 focus:ring-red-500",warning:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",info:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",question:"bg-purple-600 hover:bg-purple-700 focus:ring-purple-500",confirm:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"},k=w[l]||w.info,j=C[l]||C.info;return x?(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 ".concat(t?"opacity-100":"opacity-0"," transition-opacity duration-300"),onClick:e=>{f&&e.target===e.currentTarget&&r()},children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40"}),(0,n.jsxs)("div",{className:"relative border rounded-lg shadow-xl transform ".concat(t?"scale-100 alert-scale-in":"scale-95"," transition-transform duration-300 w-full max-w-md p-6 ").concat(k," bg-white"),children:[(0,n.jsx)("div",{className:"mb-6",children:v[l]}),(0,n.jsx)("h3",{className:"text-xl font-semibold text-center mb-3",children:s}),(0,n.jsx)("div",{className:"text-center mb-6",children:"string"==typeof i?(0,n.jsx)("p",{children:i}):i}),h>0&&(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-6",children:(0,n.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:"".concat(b/h*100,"%")}})}),(0,n.jsxs)("div",{className:"flex justify-center space-x-4",children:[m&&(0,n.jsx)("button",{className:"px-5 py-2.5 text-gray-800 bg-gray-200 rounded hover:bg-gray-300 transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:()=>{u&&u(),r()},children:c}),(0,n.jsx)("button",{className:"px-5 py-2.5 text-white rounded transition focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(j),onClick:()=>{d&&d(),r()},children:a})]})]})]}):null};var i=r(2669);let l=(0,o.createContext)(null),a=e=>{let{children:t}=e,[r,i]=(0,o.useState)([]),[a,c]=(0,o.useState)(0),d=(0,o.useCallback)(e=>(c(e=>e+1),i(t=>[...t,{id:a,...e}]),a),[a]),u=(0,o.useCallback)(e=>{i(t=>t.map(t=>t.id===e?{...t,isOpen:!1}:t)),setTimeout(()=>{i(t=>t.filter(t=>t.id!==e))},300)},[]);return(0,n.jsxs)(l.Provider,{value:{addAlert:d,removeAlert:u},children:[t,r.map(e=>(0,n.jsx)(s,{isOpen:!1!==e.isOpen,onClose:()=>u(e.id),title:e.title,message:e.message||e.text,type:e.icon||e.type||"info",confirmText:e.confirmButtonText||"ตกลง",cancelText:e.cancelButtonText||"ยกเลิก",onConfirm:()=>{e.resolve&&e.resolve({isConfirmed:!0,value:!0}),e.onConfirm&&e.onConfirm()},onCancel:()=>{e.resolve&&e.resolve({isConfirmed:!1,value:!1}),e.onCancel&&e.onCancel()},showCancel:e.showCancelButton,allowOutsideClick:!1!==e.allowOutsideClick,timer:e.timer||0},e.id))]})},c=null,d={fire:(e,t,r)=>{let o=document.createElement("div");return document.body.appendChild(o),new Promise(l=>{let a=!1,c=e=>{a||(a=!0,setTimeout(()=>{o&&o.parentNode&&document.body.removeChild(o)},300),l(e))},d="object"==typeof e?{...e,isOpen:!0}:{title:e,text:t,icon:r,isOpen:!0},u={...d,onConfirm:()=>c({isConfirmed:!0,value:!0}),onCancel:()=>c({isConfirmed:!1,value:!1}),onClose:()=>c({isConfirmed:!1,value:!1})};d.timer&&d.timer>0&&setTimeout(()=>{c({isConfirmed:!1,value:!1})},d.timer),(0,i.createRoot)(o).render((0,n.jsx)(s,{isOpen:!0,title:u.title,message:u.text||u.html,type:u.icon,confirmText:u.confirmButtonText||"ตกลง",cancelText:u.cancelButtonText||"ยกเลิก",showCancel:u.showCancelButton,allowOutsideClick:!1!==u.allowOutsideClick,timer:u.timer||0,onConfirm:u.onConfirm,onCancel:u.onCancel,onClose:u.onClose}))})},showLoading:()=>{if(c)return c;let e=document.createElement("div");document.body.appendChild(e);let t=(0,i.createRoot)(e);return t.render((0,n.jsx)(()=>(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40"}),(0,n.jsx)("div",{className:"relative transform transition-transform duration-300 scale-100 alert-scale-in p-6",children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("p",{className:"mt-4 text-white font-medium",children:"กำลังประมวลผล..."})]})})]}),{})),c={close:()=>{e&&e.parentNode&&(t.unmount(),document.body.removeChild(e),c=null)}}},close:()=>{c&&c.close()},showValidationMessage:e=>{console.warn("Validation message shown:",e),d.fire({title:"แจ้งเตือน",text:e,icon:"warning",confirmButtonText:"ตกลง"})},success:(e,t)=>d.fire(e,t,"success"),error:(e,t)=>d.fire(e,t,"error"),warning:(e,t)=>d.fire(e,t,"warning"),info:(e,t)=>d.fire(e,t,"info"),question:(e,t)=>d.fire(e,t,"question")}},3932:(e,t,r)=>{r.d(t,{D:()=>l,N:()=>i});var n=r(5155),o=r(2115);let s=(0,o.createContext)();function i(e){let{children:t}=e,[r,i]=(0,o.useState)("light");return(0,o.useEffect)(()=>{let e=localStorage.getItem("theme");e?i(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&i("dark"),"dark"===e||!e&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),(0,n.jsx)(s.Provider,{value:{theme:r,toggleTheme:()=>{let e="light"===r?"dark":"light";i(e),localStorage.setItem("theme",e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}},children:t})}function l(){let e=(0,o.useContext)(s);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}}}]);