"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46],{7423:(e,t,a)=>{a.d(t,{A:()=>r});var l=a(5155),s=a(3665),n=a(2577);let r=e=>{let{selectedDate:t,onDateSelect:a,datesWithData:r=[],showCalendar:o,setShowCalendar:d,thaiDate:i,variant:c="form"}=e;return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-3 shadow-sm hover:shadow-md transition-all",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[(0,l.jsx)("button",{type:"button",onClick:()=>d(!o),className:"w-full md:w-auto px-4 py-2 bg-gradient-to-r from-[#0ab4ab] to-blue-500 text-white rounded-lg hover:from-[#0ab4ab]/90 hover:to-blue-600 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#0ab4ab] focus:ring-opacity-50 shadow-md text-sm",children:o?"ซ่อนปฏิทิน":"เลือกวันที่"}),(0,l.jsxs)("div",{className:"text-gray-700 space-y-0.5 text-center md:text-left text-sm",children:[(0,l.jsxs)("div",{className:"font-medium text-[#0ab4ab]",children:["วันที่ปัจจุบัน : ",(0,s.mI)(new Date)]}),(0,l.jsxs)("div",{className:"text-blue-600",children:["วันที่เลือก : ",i]})]})]})}),o&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,l.jsx)("div",{className:"relative bg-white rounded-2xl shadow-2xl transform transition-all",children:(0,l.jsx)(n.A,{selectedDate:t,onDateSelect:a,onClickOutside:()=>d(!1),datesWithData:r,variant:c})})})]})}},1856:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(5155);let s=e=>{let{selectedShift:t,onShiftChange:a,variant:s="form"}=e;return(0,l.jsx)("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-3 shadow-sm hover:shadow-md transition-all",children:(0,l.jsx)("div",{className:"flex flex-col md:flex-row justify-center gap-4",children:("dashboard"===s?[{id:"all",label:"ทั้งวัน",value:"all"},{id:"morning",label:"กะเช้า",value:"07:00-19:00"},{id:"night",label:"กะดึก",value:"19:00-07:00"}]:[{id:"morning",label:"กะเช้า",value:"07:00-19:00"},{id:"night",label:"กะดึก",value:"19:00-07:00"}]).map(e=>{let{id:s,label:n,value:r}=e;return(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsxs)("label",{className:"relative flex items-center gap-2 cursor-pointer group",children:[(0,l.jsx)("input",{type:"radio",name:"shift",value:r,checked:t===r,onChange:()=>a(r),className:"hidden"}),(0,l.jsx)("div",{className:"w-4 h-4 rounded-full border-2 transition-all ".concat(t===r?"border-[#0ab4ab] bg-[#0ab4ab]":"border-gray-300 group-hover:border-[#0ab4ab]/50"),children:t===r&&(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full m-auto mt-0.5"})}),(0,l.jsxs)("span",{className:"text-sm transition-colors ".concat(t===r?"text-[#0ab4ab] font-medium":"text-gray-600"),children:[n," (",r,")"]})]})},s)})})})}},2577:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(5155),s=a(2115),n=a(3665),r=a(7949),o=a(9194);let d=e=>{let t,{selectedDate:a,onDateSelect:d,onClickOutside:i,datesWithData:c=[],variant:u="form"}=e,[m,h]=(0,s.useState)(a||new Date),[g,x]=(0,s.useState)(a||new Date),b=(0,s.useRef)(null);(0,s.useEffect)(()=>{if("form"===u){let e=new Date;x(e),h(e)}},[u]),(0,s.useEffect)(()=>{a&&(h(a),"form"!==u&&x(a))},[a,u]),(0,s.useEffect)(()=>{let e=e=>{b.current&&!b.current.contains(e.target)&&i&&i()},t=e=>{e.preventDefault(),e.stopPropagation()},a=window.innerWidth-document.documentElement.clientWidth,l={overflow:window.getComputedStyle(document.body).overflow,paddingRight:window.getComputedStyle(document.body).paddingRight};return document.addEventListener("mousedown",e),document.addEventListener("wheel",t,{passive:!1}),document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("scroll",t,{passive:!1}),document.body.style.overflow="hidden",document.body.style.paddingRight="".concat(a,"px"),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("wheel",t),document.removeEventListener("touchmove",t),document.removeEventListener("scroll",t),document.body.style.overflow=l.overflow,document.body.style.paddingRight=l.paddingRight}},[i]);let v=(0,n.S2)(),f=new Date().getFullYear(),p=(0,n.RB)(f),w=(e,t)=>{if(!t)return;let a=new Date(g.getFullYear(),g.getMonth(),e);h(a),d(a),i&&i()};new Date().setHours(0,0,0,0);let j=e=>{let t=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0],a=c.find(e=>e.date===t);return a?{hasData:!0,isComplete:a.isComplete,shifts:a.shifts}:{hasData:!1,isComplete:!1,shifts:[]}},y=e=>{let{hasData:t,isComplete:l,shifts:s}=j(e),n=e.toDateString()===new Date().toDateString(),r=a&&e.getDate()===a.getDate()&&e.getMonth()===a.getMonth()&&e.getFullYear()===a.getFullYear(),o="hover:bg-gray-100",d="text-gray-700",i="";return n&&(o="bg-[#0ab4ab]",d="text-white"),t&&(l?(o="bg-[#0ab4ab]/10 hover:bg-[#0ab4ab]/20",i="absolute top-1 right-1 w-1.5 h-1.5 rounded-full bg-[#0ab4ab]"):(o="bg-orange-100 hover:bg-orange-200",i="absolute top-1 right-1 w-1.5 h-1.5 rounded-full bg-orange-500")),r&&!n&&(o+=" ring-2 ring-[#0ab4ab]"),!(e<new Date(new Date().setHours(0,0,0,0)))||n||r||(d="text-gray-400"),{cellClass:"p-1 text-center",dayClass:"".concat("relative w-10 h-10 flex items-center justify-center rounded-full transition-all duration-200"," ").concat(o," ").concat(d," font-medium cursor-pointer"),dotClass:i}};return(0,l.jsx)("div",{ref:b,className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 z-[9999]",onTouchMove:e=>e.preventDefault(),onScroll:e=>e.preventDefault(),children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"text-center mb-4",children:[(0,l.jsx)("div",{className:"text-lg font-medium mb-2",children:"เลือกวันที่"}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["วันที่ปัจจุบัน: ",(t=new Date,(0,r.GP)(t,"dd MMMM yyyy",{locale:o.th}))]})]}),(0,l.jsxs)("div",{className:"flex justify-center gap-4 mb-4",children:[(0,l.jsx)("select",{value:g.getMonth(),onChange:e=>{let t=new Date(g);if(t.setMonth(parseInt(e.target.value)),x(t),"form"===u){let e=new Date;t.setDate(e.getDate()),x(t)}},className:"px-3 py-1 border rounded-lg text-gray-700",children:v.map((e,t)=>(0,l.jsx)("option",{value:t,children:e},e))}),(0,l.jsx)("select",{value:g.getFullYear(),onChange:e=>{let t=new Date(g);if(t.setFullYear(parseInt(e.target.value)),x(t),"form"===u){let e=new Date;t.setDate(e.getDate()),x(t)}},className:"px-3 py-1 border rounded-lg text-gray-700",children:p.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]}),(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center",children:["อา","จ","อ","พ","พฤ","ศ","ส"].map(e=>(0,l.jsx)("div",{className:"text-sm font-medium text-gray-600",children:e},e))}),(0,l.jsx)("table",{className:"w-full",children:(0,l.jsx)("tbody",{children:(()=>{let e=g.getFullYear(),t=g.getMonth(),a=new Date(e,t,1),s=new Date(e,t+1,0).getDate(),n=a.getDay(),r=new Date(e,t,0).getDate(),o=[],d=[];for(let a=0;a<n;a++){let s=r-n+a+1,{cellClass:o,dayClass:i,dotClass:c}=y(new Date(e,t-1,s));d.push((0,l.jsx)("td",{className:o,children:(0,l.jsxs)("div",{onClick:()=>w(s,!1),className:"".concat(i," opacity-50"),children:[s,c&&(0,l.jsx)("div",{className:c})]})},"prev-".concat(s)))}for(let a=1;a<=s;a++){let{cellClass:s,dayClass:n,dotClass:r}=y(new Date(e,t,a));d.push((0,l.jsx)("td",{className:s,children:(0,l.jsxs)("div",{onClick:()=>w(a,!0),className:n,children:[a,r&&(0,l.jsx)("div",{className:r})]})},a)),7===d.length&&(o.push((0,l.jsx)("tr",{children:d},"week-".concat(o.length))),d=[])}if(d.length>0){let a=1;for(;d.length<7;){let{cellClass:s,dayClass:n,dotClass:r}=y(new Date(e,t+1,a));d.push((0,l.jsx)("td",{className:s,children:(0,l.jsxs)("div",{onClick:()=>w(a,!1),className:"".concat(n," opacity-50"),children:[a,r&&(0,l.jsx)("div",{className:r})]})},"next-".concat(a))),a++}o.push((0,l.jsx)("tr",{children:d},"week-".concat(o.length)))}return o})()})}),(0,l.jsxs)("div",{className:"mt-4 flex justify-center gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#0ab4ab]"}),(0,l.jsx)("span",{className:"text-xs text-gray-600",children:"วันที่ปัจจุบัน"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300"}),(0,l.jsx)("span",{className:"text-xs text-gray-600",children:"บันทึกครบ 2 กะ"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-300"}),(0,l.jsx)("span",{className:"text-xs text-gray-600",children:"บันทึกไม่ครบ"})]})]})]})})}},3665:(e,t,a)=>{a.d(t,{Lg:()=>s,Ol:()=>n,RB:()=>d,S2:()=>o,bU:()=>r,mI:()=>l});let l=e=>{if(!e)return"คุณยังไม่ได้เลือกวันที่";let t=new Date(e),a=t.getDate(),l=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"][t.getMonth()],s=t.getFullYear()+543;return"".concat(a," ").concat(l," ").concat(s)},s=()=>l(new Date),n=e=>{let t=new Date(e);return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))},r=e=>{let t=new Date(e),a=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return"".concat(a,"-").concat(l,"-").concat(s)},o=()=>["January","February","March","April","May","June","July","August","September","October","November","December"],d=e=>{let t=[];for(let e=2e3;e<=4e3;e++)t.push(e);return t}}}]);