"use strict";exports.id=330,exports.ids=[330],exports.modules={7330:(e,a,t)=>{t.d(a,{A:()=>p});var r=t(5512),s=t(8009),l=t(3104),n=t(7656),d=t(3557),i=t(2720),o=t(3518);let c=()=>{let e=new Date().getHours();return e>=7&&e<19?"07:00-19:00":"19:00-07:00"};var u=t(2575);t(9188);var m=t(2154),b=t(2780);let p=({wardId:e})=>{let{user:a}=(0,b.A)(),[t,p]=(0,s.useState)(!0),[f,x]=(0,s.useState)(e||""),[g,h]=(0,s.useState)(new Date),[v,w]=(0,s.useState)(c()),[y,N]=(0,s.useState)((0,o.Lg)()),[j,C]=(0,s.useState)(!1),[D,I]=(0,s.useState)([]),[O,A]=(0,s.useState)(null),[B,k]=(0,s.useState)(!1),[P,M]=(0,s.useState)(null),[W,S]=(0,s.useState)(null),[R,$]=(0,s.useState)({patientCensus:"0",overallData:"0",nurseManager:"0",RN:"0",PN:"0",WC:"0",newAdmit:"0",transferIn:"0",referIn:"0",transferOut:"0",referOut:"0",discharge:"0",dead:"0",availableBeds:"0",unavailable:"0",plannedDischarge:"0",comment:"",total:"0"}),E=(0,s.useCallback)(()=>!!f&&("0"!==R.nurseManager||"0"!==R.RN||"0"!==R.PN||"0"!==R.WC||"0"!==R.newAdmit||"0"!==R.transferIn||"0"!==R.referIn||"0"!==R.transferOut||"0"!==R.referOut||"0"!==R.discharge||"0"!==R.dead||"0"!==R.availableBeds||"0"!==R.unavailable||"0"!==R.plannedDischarge||""!==R.comment.trim()),[R,f]);(0,s.useEffect)(()=>{k(E())},[R,E]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{p(!1)},1e3);return()=>clearTimeout(e)},[]),(0,s.useEffect)(()=>{f&&K()},[f]),(0,s.useEffect)(()=>{},[]),(0,s.useEffect)(()=>{let e=e=>{if(B)return e.preventDefault(),e.returnValue="",""};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[B]),(0,s.useEffect)(()=>{let e=Z();$(a=>({...a,total:e.toString(),overallData:e.toString()}))},[R.patientCensus,R.newAdmit,R.transferIn,R.referIn,R.transferOut,R.referOut,R.discharge,R.dead]);let G=async(e,a)=>{if(a)try{p(!0);let t=(0,n.rJ)(l.db,"wardDailyRecords"),r=new Date(e),s="";"19:00-07:00"===v?s="07:00-19:00":(r.setDate(r.getDate()-1),s="19:00-07:00");let d=(0,o.Ol)(r),i=(0,n.P)(t,(0,n._M)("date","==",d),(0,n._M)("wardId","==",a)),c=await (0,n.GG)(i);if(!c.empty){let e=c.docs[0].data();if(e.shifts&&e.shifts[s])return e.shifts[s],A({patientCensus:e.overallData||"0",overallData:e.overallData||"0",date:d,shift:s}),$(a=>({...a,patientCensus:e.overallData||"0",overallData:e.overallData||"0"})),{success:!0,data:{patientCensus:e.overallData||"0",overallData:e.overallData||"0"}}}let u=(0,n.P)(t,(0,n._M)("wardId","==",a)),m=(await (0,n.GG)(u)).docs.map(e=>({id:e.id,...e.data()})).filter(e=>e.date<=d).sort((e,a)=>a.date.localeCompare(e.date))[0];if(m)return A({patientCensus:m.overallData||"0",overallData:m.overallData||"0",date:m.date,shift:Object.keys(m.shifts||{})[0]||""}),$(e=>({...e,patientCensus:m.overallData||"0",overallData:m.overallData||"0"})),{success:!0,data:{patientCensus:m.overallData||"0",overallData:m.overallData||"0"}};return A(null),$(e=>({...e,patientCensus:"0",overallData:"0"})),{success:!1,message:"ไม่พบข้อมูลก่อนหน้า"}}catch(e){return console.error("Error fetching previous shift data:",e),{success:!1,error:e}}finally{p(!1)}},[_,T]=(0,s.useState)(null),[L,J]=(0,s.useState)(!1),U=async()=>{try{p(!0),i.A.fire({title:"โหลดข้อมูลจากระบบ Approval",text:"ณารอ...",allowOutsideClick:!1,didOpen:()=>{i.A.showLoading()}});let e=(0,n.rJ)(l.db,"staffRecords"),a=(0,n.P)(e,(0,n._M)("date","==",(0,o.Ol)(g))),t=await (0,n.GG)(a);if(!t.empty){let e=t.docs[0].data();if(e.wards&&e.wards[f]){let a=e.wards[f];return T(a),J(!0),$(e=>({...e,patientCensus:a.numberOfPatients||"0",overallData:a.overallData||"0",nurseManager:a.nurseManager||"0",RN:a.RN||"0",PN:a.PN||"0",WC:a.WC||"0",newAdmit:a.newAdmit||"0",transferIn:a.transferIn||"0",referIn:a.referIn||"0",transferOut:a.transferOut||"0",referOut:a.referOut||"0",discharge:a.discharge||"0",dead:a.dead||"0",availableBeds:a.availableBeds||"0",unavailable:a.unavailable||"0",plannedDischarge:a.plannedDischarge||"0",comment:a.comment||"",total:a.overallData||"0"})),await i.A.fire({title:"ข้อมูลสำเร็จ",html:`
                            <div class="text-left">
                                <p class="mb-2 font-medium">ข้อมูลจากระบบ Approval สำเร็จ</p>
                                <p class="text-sm text-gray-600">วันที่: ${(0,o.mI)(g)}</p>
                                <p class="text-sm text-gray-600">Ward: ${f}</p>
                                <p class="text-sm text-gray-600">Patient Census: ${a.numberOfPatients||"0"}</p>
                                <p class="text-sm text-gray-600">Overall Data: ${a.overallData||"0"}</p>
                            </div>
                        `,icon:"success",confirmButtonColor:"#0ab4ab"}),!0}}return await i.A.fire({title:"ไม่พบข้อมูล",text:`ไม่พบข้อมูลของ ${f} ในวันที่ ${(0,o.mI)(g)} ในระบบ Approval`,icon:"info",confirmButtonColor:"#0ab4ab"}),!1}catch(e){return console.error("Error fetching approval data:",e),await i.A.fire({title:"ข้อผิดพลาด",text:"ไม่สามารถดึงข้อมูลจากระบบ Approval ได้",icon:"error",confirmButtonColor:"#0ab4ab"}),!1}finally{p(!1)}},F=e=>null==e?"0":"number"==typeof e?e.toString():"string"==typeof e?e:"0",H=async(e,a)=>{try{let t=(0,n.rJ)(l.db,"wardDailyRecords"),r=(0,n.P)(t,(0,n._M)("wardId","==",a),(0,n._M)("date","==",(0,o.Ol)(e))),s=await (0,n.GG)(r);if(s.empty)M(null);else{let e=s.docs[0].data();e.approvalStatus?M(e.approvalStatus):M("pending")}}catch(e){console.error("Error checking approval status:",e),M(null)}},z=async()=>{if(!f){i.A.fire({icon:"warning",title:"เลือก Ward ก่อน",text:"โปรดเลือก Ward เพื่อดึงข้อมูลล่าสุด",confirmButtonColor:"#3D6CB9"});return}try{p(!0);let e=(0,n.rJ)(l.db,"wardDailyRecords"),a=(0,n.P)(e,(0,n._M)("wardId","==",f),(0,n.My)("timestamp","desc"),(0,n.AB)(1)),t=await (0,n.GG)(a);if(t.empty)i.A.fire({icon:"info",title:"ไม่พบข้อมูล",text:"ไม่พบข้อมูล Ward ที่เลือก",confirmButtonColor:"#3D6CB9"});else{let e=t.docs[0].data(),a=e.date?new Date(e.date):new Date;S(a),h(a),N((0,o.mI)(a)),await K(a),i.A.fire({icon:"success",title:"ข้อมูลล่าสุดสำเร็จ",text:`ข้อมูลล่าสุด: ${(0,o.mI)(a)}`,confirmButtonColor:"#3D6CB9"})}}catch(e){console.error("Error fetching latest record:",e),i.A.fire({icon:"error",title:"ข้อผิดพลาด",text:"ไม่สามารถดึงข้อมูลล่าสุดได้",confirmButtonColor:"#3D6CB9"})}finally{p(!1)}},K=async(e=g)=>{try{i.A.fire({title:"โหลดข้อมูล",text:`ข้อมูลของ ${f}`,allowOutsideClick:!1,didOpen:()=>{i.A.showLoading()}}),await G(e,f),await H(e,f);let a=(0,n.rJ)(l.db,"wardDailyRecords"),t=(0,n.P)(a,(0,n._M)("wardId","==",f),(0,n._M)("date","==",(0,o.Ol)(e))),r=await (0,n.GG)(t);if(console.log("Query results:",r.size,"documents found"),r.empty){console.log("No data found in wardDailyRecords");let a=O?.patientCensus||"0",t=O?.overallData||"0";$(e=>({...e,patientCensus:a,overallData:t,nurseManager:"0",RN:"0",PN:"0",WC:"0",newAdmit:"0",transferIn:"0",referIn:"0",transferOut:"0",referOut:"0",discharge:"0",dead:"0",availableBeds:"0",unavailable:"0",plannedDischarge:"0",comment:"",total:a})),J(!1);let r=`ไม่พบข้อมูลของ ${f} ในวันที่ ${(0,o.mI)(e)}`;if(O){let e=(0,o.mI)(new Date(O.date));r+=`<br><br>ข้อมูล Patient Census ล่าสุดมาจาก:<br>วันที่ ${e} กะ ${O.shift}`}await i.A.fire({title:"ข้อมูลเริ่มต้น",html:`
                        ${r}
                        <div class="mt-4 text-left">
                            <p class="text-sm text-gray-600">ดึงข้อมูลจากระบบ Approval ได้โดยคลิกปุ่มด้านล่าง</p>
                        </div>
                    `,icon:"info",showCancelButton:!0,confirmButtonText:"ดึงข้อมูลจากระบบ Approval",cancelButtonText:"ใช้ข้อมูลเริ่มต้น",confirmButtonColor:"#3085d6",cancelButtonColor:"#0ab4ab"}).then(e=>{e.isConfirmed&&U()})}else{let a=r.docs[0].data(),t=a.shifts?.[v]||{};$(e=>({...e,patientCensus:F(a.patientCensus||e.patientCensus),overallData:F(a.overallData||e.overallData),nurseManager:F(t.nurseManager),RN:F(t.RN),PN:F(t.PN),WC:F(t.WC),newAdmit:F(t.newAdmit),transferIn:F(t.transferIn),referIn:F(t.referIn),transferOut:F(t.transferOut),referOut:F(t.referOut),discharge:F(t.discharge),dead:F(t.dead),availableBeds:F(t.availableBeds),unavailable:F(t.unavailable),plannedDischarge:F(t.plannedDischarge),comment:F(t.comment),total:Z({patientCensus:a.patientCensus||e.patientCensus||"0",newAdmit:t.newAdmit||"0",transferIn:t.transferIn||"0",referIn:t.referIn||"0",transferOut:t.transferOut||"0",referOut:t.referOut||"0",discharge:t.discharge||"0",dead:t.dead||"0"}).toString()})),await i.A.fire({title:"ข้อมูลสำเร็จ",html:`
                        <div class="text-left">
                            <p class="mb-2 font-medium">ข้อมูลของ ${f}</p>
                            <p class="text-sm text-gray-600">วันที่: ${(0,o.mI)(e)}</p>
                            <p class="text-sm text-gray-600">Patient Census: ${a.patientCensus||"0"}</p>
                            <p class="text-sm text-gray-600">Overall Data: ${a.overallData||"0"}</p>
                            ${t.nurseManager?`
                                <div class="mt-2">
                                    <p class="text-sm font-medium">ข้อมูลคลากร</p>
                                    <p class="text-sm text-gray-600">Nurse Manager: ${t.nurseManager}</p>
                                    <p class="text-sm text-gray-600">RN: ${t.RN}</p>
                                    <p class="text-sm text-gray-600">PN: ${t.PN}</p>
                                    <p class="text-sm text-gray-600">WC: ${t.WC}</p>
                                </div>
                            `:""}
                        </div>
                    `,icon:"success",confirmButtonColor:"#0ab4ab"}),J(!1)}}catch(e){console.error("Error fetching ward data:",e),await i.A.fire({title:"ข้อผิดพลาด",text:e.message||"ไม่สามารถดึงข้อมูลหอพักได้",icon:"error",confirmButtonColor:"#0ab4ab"})}},Q=e=>{let{name:a,value:t}=e.target;$(e=>{let r=t;"comment"!==a&&""===t&&(r="0");let s={...e,[a]:r};if(["patientCensus","newAdmit","transferIn","referIn","transferOut","referOut","discharge","dead"].includes(a)){let e=Z(s);s.total=e.toString(),s.overallData=e.toString()}return s})},V=async e=>{try{let a=new Date(e);if(f){let e=(0,n.rJ)(l.db,"wardDailyRecords"),t=(0,o.Ol)(a),r=(0,n.P)(e,(0,n._M)("date","==",t),(0,n._M)("wardId","==",f)),s=await (0,n.GG)(r);if(s.empty)h(a),N((0,o.mI)(a)),await G(a,f),await K();else{let e=s.docs[0].data();if(e.shifts&&e.shifts[v]){let e=await i.A.fire({title:"พบข้อมูลอยู่แล้ว",html:`
                                <div class="text-left">
                                    <p class="mb-2">ข้อมูลของ <b>${f}</b> ในวันที่ <b>${(0,o.mI)(a)}</b> กะ <b>${v}</b> อยู่ในระบบแล้ว</p>
                                    <p class="mb-4">ต้องการอย่างไร?</p>
                                    <ul class="list-disc pl-5 text-sm text-gray-600">
                                        <li>ดึงข้อมูล: จะโหลดข้อมูลที่มีอยู่ก่อน</li>
                                        <li>สร้างข้อมูลใหม่: จะล้างค่าทั้งหมดและให้กรอกใหม่</li>
                                        <li>ยกเลิก: จะยกเลิกการเปลี่ยนแปลง</li>
                                    </ul>
                                </div>
                            `,icon:"warning",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"ดึงข้อมูล",denyButtonText:"สร้างข้อมูลใหม่",cancelButtonText:"ยกเลิก",confirmButtonColor:"#0ab4ab",denyButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(e.isConfirmed)h(a),N((0,o.mI)(a)),await G(a,f),await K();else{if(!e.isDenied)return;h(a),N((0,o.mI)(a)),$({patientCensus:"0",overallData:"0",nurseManager:"0",RN:"0",PN:"0",WC:"0",newAdmit:"0",transferIn:"0",referIn:"0",transferOut:"0",referOut:"0",discharge:"0",dead:"0",availableBeds:"0",unavailable:"0",plannedDischarge:"0",comment:"",total:"0"}),await G(a,f)}}else h(a),N((0,o.mI)(a)),await G(a,f),await K()}}else h(a),N((0,o.mI)(a));C(!1)}catch(e){console.error("Error in handleDateSelect:",e),await i.A.fire({title:"ข้อผิดพลาด",text:"ไม่สามารถตรวจสอบข้อมูลได้ ลองใหม่ครั้ง",icon:"error",confirmButtonColor:"#0ab4ab"})}},Y=async e=>{e.preventDefault(),p(!0);try{if(!f)throw Error("Ward");if(!g)throw Error("วันที่");if(!v)throw Error("กะการทำงาน");let e=(0,n.rJ)(l.db,"wardDailyRecords"),t=(0,n.P)(e,(0,n._M)("wardId","==",f),(0,n._M)("date","==",(0,o.Ol)(g))),r=await (0,n.GG)(t);if(!r.empty&&!(await i.A.fire({title:"พบข้อมูลซ้ำ",html:`
                        <div class="text-left">
                            <p class="mb-2">พบข้อมูลของ ${f}</p>
                            <p class="mb-2">วันที่: ${(0,o.mI)(g)}</p>
                            <p class="text-sm text-gray-600">ต้องการดึงข้อมูลหรือไม่?</p>
                        </div>
                    `,icon:"warning",showCancelButton:!0,confirmButtonText:"ดึงข้อมูล",cancelButtonText:"ยกเลิก",confirmButtonColor:"#0ab4ab",cancelButtonColor:"#d33"})).isConfirmed){p(!1);return}let s=Z().toString(),d=a?.username||"Unknown User",c={wardId:f,date:(0,o.Ol)(g),patientCensus:R.patientCensus||"0",overallData:s,lastUpdated:(0,n.O5)(),approvalStatus:"pending",shifts:{[v]:{nurseManager:R.nurseManager,RN:R.RN,PN:R.PN,WC:R.WC,newAdmit:R.newAdmit,transferIn:R.transferIn,referIn:R.referIn,transferOut:R.transferOut,referOut:R.referOut,discharge:R.discharge,dead:R.dead,availableBeds:R.availableBeds,unavailable:R.unavailable,plannedDischarge:R.plannedDischarge,comment:R.comment,recorderName:d,updatedAt:(0,n.O5)()}},sourceFromApproval:L,approvalDataId:_?.id||null};if(r.empty)await (0,n.gS)(e,c);else{let e=r.docs[0].ref,a=r.docs[0].data();await (0,n.mZ)(e,{patientCensus:R.patientCensus||"0",overallData:s,lastUpdated:(0,n.O5)(),approvalStatus:"pending",shifts:{...a.shifts,[v]:{nurseManager:R.nurseManager,RN:R.RN,PN:R.PN,WC:R.WC,newAdmit:R.newAdmit,transferIn:R.transferIn,referIn:R.referIn,transferOut:R.transferOut,referOut:R.referOut,discharge:R.discharge,dead:R.dead,availableBeds:R.availableBeds,unavailable:R.unavailable,plannedDischarge:R.plannedDischarge,comment:R.comment,recorderName:d,updatedAt:(0,n.O5)()}}})}k(!1),M("pending"),await i.A.fire({title:"ข้อมูลสำเร็จ",html:`
                    <div>
                        <p>ข้อมูลถูกบันทึกแล้ว</p>
                        <p class="text-sm text-blue-600 mt-2">รอการ Approval จาก Supervisor</p>
                    </div>
                `,icon:"success",confirmButtonColor:"#0ab4ab"}),A(null),$({patientCensus:"0",overallData:"0",nurseManager:"0",RN:"0",PN:"0",WC:"0",newAdmit:"0",transferIn:"0",referIn:"0",transferOut:"0",referOut:"0",discharge:"0",dead:"0",availableBeds:"0",unavailable:"0",plannedDischarge:"0",comment:"",total:"0"}),await K()}catch(e){console.error("Error saving ward data:",e),await i.A.fire({title:"ข้อผิดพลาด",text:e.message||"ไม่สามารถบันทึกข้อมูลได้ ลองใหม่ครั้ง",icon:"error",confirmButtonColor:"#0ab4ab"})}finally{p(!1)}},Z=(e=R)=>{let{patientCensus:a=0,newAdmit:t=0,transferIn:r=0,referIn:s=0,transferOut:l=0,referOut:n=0,discharge:d=0,dead:i=0}=e;return Math.max(0,parseInt(a)+parseInt(t)+parseInt(r)+parseInt(s)+parseInt(l)-parseInt(n)-parseInt(d)-parseInt(i))};return t?(0,r.jsx)(d.A,{}):(0,r.jsx)("div",{className:"container mx-auto px-4 py-8 bg-gradient-to-br from-blue-50 to-teal-50",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 border border-blue-100",children:[(0,r.jsx)("div",{className:"text-center mb-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("img",{src:"/images/BPK.jpg",alt:"BPK Logo",className:"w-10 h-10 object-contain"}),(0,r.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-teal-500 text-transparent bg-clip-text mb-1",children:"Daily Patient Census and Staffing"})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Ward:"}),(0,r.jsxs)("select",{value:f,onChange:e=>x(e.target.value),className:"w-full border border-blue-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-blue-50",disabled:!!e,children:[(0,r.jsx)("option",{value:"",children:"-- เลือก Ward --"}),["Ward6","Ward7","Ward8","Ward9","WardGI","Ward10B","Ward11","Ward12","ICU","CCU","LR","NSY"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"วันที่:"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",value:y,readOnly:!0,className:"w-full border border-blue-200 rounded-lg px-4 py-2 cursor-pointer bg-blue-50",onClick:()=>C(!j)}),j&&(0,r.jsxs)("div",{className:"absolute z-10 mt-1 bg-white shadow-lg rounded-lg p-2 border border-blue-200",children:[(0,r.jsx)(u.A,{selectedDate:g,onDateSelect:V,datesWithData:D}),(0,r.jsx)("button",{className:"mt-2 w-full py-1 bg-blue-100 rounded-md text-sm text-blue-700 hover:bg-blue-200",onClick:()=>C(!1),children:"ปิดปฏิทิน"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"กะ:"}),(0,r.jsx)(m.A,{selectedShift:v,onShiftChange:e=>{w(e)}})]})]}),W&&(0,r.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-teal-50 text-teal-700 border border-teal-200",children:(0,r.jsxs)("p",{className:"font-medium text-center",children:["ข้อมูลล่าสุด: ",(0,o.mI)(W)]})}),P&&(0,r.jsx)("div",{className:`mb-4 p-3 rounded-lg ${"approved"===P?"bg-green-100 text-green-700 border border-green-200":"rejected"===P?"bg-red-100 text-red-700 border border-red-200":"bg-yellow-100 text-yellow-700 border border-yellow-200"}`,children:(0,r.jsx)("p",{className:"font-medium text-center",children:"approved"===P?"ได้รับการอนุมัติแล้ว":"rejected"===P?"ถูกปฏิเสธ":"รอการอนุมัติ"})}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:[(0,r.jsx)(()=>(0,r.jsx)("div",{className:"mb-4 flex justify-center",children:(0,r.jsxs)("button",{type:"button",onClick:z,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-50 shadow-sm flex items-center gap-2",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"ดึงข้อมูลล่าสุด"]})}),{}),(0,r.jsx)(()=>f?(0,r.jsxs)("div",{className:"mt-4 flex flex-col items-center",children:[(0,r.jsx)("button",{type:"button",onClick:U,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 shadow-md text-sm",children:"ดึงข้อมูลจากระบบ Approval"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"ใช้เมื่อต้องการดึงข้อมูลคลากรจากระบบ Approval โดยตรง"})]}):null,{})]}),(0,r.jsxs)("form",{onSubmit:Y,children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-5 rounded-lg border border-blue-200 mb-6 shadow-sm",children:[(0,r.jsx)("h2",{className:"text-lg font-medium mb-4 text-blue-700",children:"ข้อมูลผู้ป่วย"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Patient Census (จากกะก่อนหน้า):"}),(0,r.jsx)("input",{type:"number",name:"patientCensus",value:R.patientCensus,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"จำนวนผู้ป่วย (คำนวณ):"}),(0,r.jsx)("input",{type:"text",value:R.total,readOnly:!0,className:"w-full border border-teal-200 bg-teal-50 rounded-lg px-4 py-2 shadow-sm text-teal-700 font-medium"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"New Admit:"}),(0,r.jsx)("input",{type:"number",name:"newAdmit",value:R.newAdmit,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Transfer In:"}),(0,r.jsx)("input",{type:"number",name:"transferIn",value:R.transferIn,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Refer In:"}),(0,r.jsx)("input",{type:"number",name:"referIn",value:R.referIn,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Planned Discharge:"}),(0,r.jsx)("input",{type:"number",name:"plannedDischarge",value:R.plannedDischarge,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Transfer Out:"}),(0,r.jsx)("input",{type:"number",name:"transferOut",value:R.transferOut,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Refer Out:"}),(0,r.jsx)("input",{type:"number",name:"referOut",value:R.referOut,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Discharge:"}),(0,r.jsx)("input",{type:"number",name:"discharge",value:R.discharge,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Dead:"}),(0,r.jsx)("input",{type:"number",name:"dead",value:R.dead,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Available Beds:"}),(0,r.jsx)("input",{type:"number",name:"availableBeds",value:R.availableBeds,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Unavailable:"}),(0,r.jsx)("input",{type:"number",name:"unavailable",value:R.unavailable,onChange:Q,className:"w-full border border-blue-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]})]})]}),(0,r.jsxs)("div",{className:"bg-teal-50 p-5 rounded-lg border border-teal-200 mb-6 shadow-sm",children:[(0,r.jsx)("h2",{className:"text-lg font-medium mb-4 text-teal-700",children:"ข้อมูลคลากร"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Nurse Manager:"}),(0,r.jsx)("input",{type:"number",name:"nurseManager",value:R.nurseManager,onChange:Q,className:"w-full border border-teal-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"RN:"}),(0,r.jsx)("input",{type:"number",name:"RN",value:R.RN,onChange:Q,className:"w-full border border-teal-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"PN:"}),(0,r.jsx)("input",{type:"number",name:"PN",value:R.PN,onChange:Q,className:"w-full border border-teal-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"WC:"}),(0,r.jsx)("input",{type:"number",name:"WC",value:R.WC,onChange:Q,className:"w-full border border-teal-300 rounded-lg px-4 py-2 bg-white shadow-sm"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"หมายเหตุ:"}),(0,r.jsx)("textarea",{name:"comment",value:R.comment,onChange:Q,className:"w-full border border-gray-300 rounded-lg px-4 py-2 min-h-[100px] bg-white shadow-sm",placeholder:"หมายเหตุ (ถ้ามี)"})]}),(0,r.jsxs)("div",{className:"mb-6 bg-blue-50/80 rounded-xl p-5 shadow-sm",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-4 bg-white/50 py-2 px-4 rounded-lg text-center shadow-sm",children:"เจ้าหน้าที่บันทึกข้อมูล"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-blue-700",children:"First Name"}),(0,r.jsx)("input",{type:"text",name:"recorderFirstName",value:a?.username||"",readOnly:!0,className:"w-full text-black px-3 py-2 border border-blue-200 rounded-lg bg-white/70",placeholder:"ชื้อ"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-blue-700",children:"Department"}),(0,r.jsx)("input",{type:"text",value:a?.department||"",readOnly:!0,className:"w-full text-black px-3 py-2 border border-blue-200 rounded-lg bg-white/70",placeholder:"แผนก"})]})]})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-teal-500 text-white rounded-lg hover:from-blue-600 hover:to-teal-600 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-50 shadow-md",disabled:!f,children:"บันทึกข้อมูล"})})]})]})})}}};