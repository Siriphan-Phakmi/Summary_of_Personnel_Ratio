"use strict";exports.id=150,exports.ids=[150],exports.modules={9188:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(5512),r=a(3518),l=a(2575);let i=({selectedDate:e,onDateSelect:t,datesWithData:a=[],showCalendar:i,setShowCalendar:n,thaiDate:d,variant:c="form"})=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-3 shadow-sm hover:shadow-md transition-all",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>n(!i),className:"w-full md:w-auto px-4 py-2 bg-gradient-to-r from-[#0ab4ab] to-blue-500 text-white rounded-lg hover:from-[#0ab4ab]/90 hover:to-blue-600 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#0ab4ab] focus:ring-opacity-50 shadow-md text-sm",children:i?"ซ่อนปฏิทิน":"เลือกวันที่"}),(0,s.jsxs)("div",{className:"text-gray-700 space-y-0.5 text-center md:text-left text-sm",children:[(0,s.jsxs)("div",{className:"font-medium text-[#0ab4ab]",children:["วันที่ปัจจุบัน : ",(0,r.mI)(new Date)]}),(0,s.jsxs)("div",{className:"text-blue-600",children:["วันที่เลือก : ",d]})]})]})}),i&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,s.jsx)("div",{className:"relative bg-white rounded-2xl shadow-2xl transform transition-all",children:(0,s.jsx)(l.A,{selectedDate:e,onDateSelect:t,onClickOutside:()=>n(!1),datesWithData:a,variant:c})})})]})},2154:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(5512);let r=({selectedShift:e,onShiftChange:t,variant:a="form"})=>(0,s.jsx)("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-3 shadow-sm hover:shadow-md transition-all",children:(0,s.jsx)("div",{className:"flex flex-col md:flex-row justify-center gap-4",children:("dashboard"===a?[{id:"all",label:"ทั้งวัน",value:"all"},{id:"morning",label:"กะเช้า",value:"07:00-19:00"},{id:"night",label:"กะดึก",value:"19:00-07:00"}]:[{id:"morning",label:"กะเช้า",value:"07:00-19:00"},{id:"night",label:"กะดึก",value:"19:00-07:00"}]).map(({id:a,label:r,value:l})=>(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsxs)("label",{className:"relative flex items-center gap-2 cursor-pointer group",children:[(0,s.jsx)("input",{type:"radio",name:"shift",value:l,checked:e===l,onChange:()=>t(l),className:"hidden"}),(0,s.jsx)("div",{className:`w-4 h-4 rounded-full border-2 transition-all ${e===l?"border-[#0ab4ab] bg-[#0ab4ab]":"border-gray-300 group-hover:border-[#0ab4ab]/50"}`,children:e===l&&(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full m-auto mt-0.5"})}),(0,s.jsxs)("span",{className:`text-sm transition-colors ${e===l?"text-[#0ab4ab] font-medium":"text-gray-600"}`,children:[r," (",l,")"]})]})},a))})})},9150:(e,t,a)=>{a.d(t,{A:()=>b});var s=a(5512),r=a(8009),l=a(3104),i=a(7656),n=a(3160),d=a(4948);let c=()=>(0,s.jsx)("div",{className:"animate-pulse w-full h-4 bg-gray-300 rounded-md"});a(2575);var o=a(3557),x=a(3518),h=a(9188);a(2154);var m=a(2780);n.t1.register(n.Bs,n.PP,n.kc,n.E8,n.hE,n.m_,n.s$);let b=()=>{let{user:e}=(0,m.A)();e?.role?.toLowerCase();let[t,a]=(0,r.useState)(!0),[n,b]=(0,r.useState)(null),[g,u]=(0,r.useState)([]),[p,f]=(0,r.useState)({startDate:new Date,shift:"all"}),[w,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(""),[y,k]=(0,r.useState)(null),[O,C]=(0,r.useState)(null),[W,D]=(0,r.useState)(!1),[I,P]=(0,r.useState)(new Date),[A,S]=(0,r.useState)((0,x.Lg)()),[M,R]=(0,r.useState)(!1),[B,G]=(0,r.useState)([]),[$,_]=(0,r.useState)(null),[z,E]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=new Date;P(e),S(Z(e))},[]);let T=e=>{let t=new Date(e);return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]},L=(0,r.useCallback)(async()=>{a(!0);try{let e=(0,i.rJ)(l.db,"staffRecords"),t=T(p.startDate),a=new Date(p.startDate.getFullYear(),0,1),s=new Date(p.startDate.getFullYear(),11,31),r=(0,i.P)(e,(0,i._M)("date",">=",T(a)),(0,i._M)("date","<=",T(s))),n=await (0,i.GG)(r),d=new Map,c=null;n.docs.forEach(e=>{let t=e.data(),a=t.date,s=t.shift;d.has(a)||d.set(a,{shifts:new Set}),d.get(a).shifts.add(s),(!c||a>c)&&(c=a)});let o=Array.from(d.entries()).map(([e,t])=>({date:e,isComplete:2===t.shifts.size,shifts:Array.from(t.shifts)}));G(o);let x=[];if("all"===p.shift){let a=(0,i.P)(e,(0,i._M)("date","==",t),(0,i._M)("shift","==","07:00-19:00")),s=(0,i.P)(e,(0,i._M)("date","==",t),(0,i._M)("shift","==","19:00-07:00")),[r,l]=await Promise.all([(0,i.GG)(a),(0,i.GG)(s)]);x=[...r.docs.map(e=>({id:e.id,...e.data()})),...l.docs.map(e=>({id:e.id,...e.data()}))]}else{let a=(0,i.P)(e,(0,i._M)("date","==",t),(0,i._M)("shift","==",p.shift));x=(await (0,i.GG)(a)).docs.map(e=>({id:e.id,...e.data()}))}if(console.log("Fetched Records:",x),console.log("Selected Date:",t),console.log("Current Filter:",p),x.length>0){u(x);let e=U(x);k(e)}else k(Y());if(c){let e=new Date(c);S(Z(e))}}catch(e){console.error("Error fetching data:",e),b("ไม่สามารถโหลดข้อมูลได้"),k(Y()),G([])}finally{a(!1)}},[p]);(0,r.useEffect)(()=>{L()},[L]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{E(!1)},1e3);return()=>clearTimeout(e)},[]);let F=async(e,t)=>{P(e),f(a=>({...a,startDate:e,shift:t||a.shift})),R(!1);try{a(!0);let s=(0,i.rJ)(l.db,"staffRecords"),r=T(e),n=new Date(e.getFullYear(),0,1),d=new Date(e.getFullYear(),11,31),c=(0,i.P)(s,(0,i._M)("date",">=",T(n)),(0,i._M)("date","<=",T(d))),o=await (0,i.GG)(c),x=null;o.docs.forEach(e=>{let t=e.data().date;(!x||t>x)&&(x=t)});let h=[],m=t||p.shift;if("all"===m){let e=(0,i.P)(s,(0,i._M)("date","==",r),(0,i._M)("shift","==","07:00-19:00")),t=(0,i.P)(s,(0,i._M)("date","==",r),(0,i._M)("shift","==","19:00-07:00")),[a,l]=await Promise.all([(0,i.GG)(e),(0,i.GG)(t)]);h=[...a.docs.map(e=>({id:e.id,...e.data()})),...l.docs.map(e=>({id:e.id,...e.data()}))]}else{let e=(0,i.P)(s,(0,i._M)("date","==",r),(0,i._M)("shift","==",m));h=(await (0,i.GG)(e)).docs.map(e=>({id:e.id,...e.data()}))}if(h.length>0){u(h);let e=U(h);k(e)}else k(Y());if(x){let e=new Date(x);S(Z(e))}}catch(e){console.error("Error fetching data:",e),b("ไม่สามารถโหลดข้อมูลได้"),k(Y())}finally{a(!1)}},Y=()=>({totalRecords:0,totalPatients:0,totalStaff:0,totalAttendance:0,byWard:{},supervisorName:""}),U=e=>{if(!e||!Array.isArray(e)||0===e.length)return Y();let t={},a={totalPatients:0,totalStaff:0,byWard:{},wards:{}};return e.forEach(e=>{e.wards&&Object.entries(e.wards).forEach(([a,s])=>{if(t[a]||(t[a]={numberOfPatients:0,RN:0,PN:0,WC:0,NA:0,newAdmit:0,transferIn:0,referIn:0,transferOut:0,referOut:0,discharge:0,dead:0,overallData:0,availableBeds:0,unavailable:0}),"all"===p.shift||e.shift===p.shift){let e=parseInt(s.numberOfPatients)||0,r=parseInt(s.RN)||0,l=parseInt(s.PN)||0,i=parseInt(s.WC)||0,n=parseInt(s.NA)||0,d=parseInt(s.newAdmit)||0,c=parseInt(s.transferIn)||0,o=parseInt(s.referIn)||0,x=parseInt(s.transferOut)||0,h=parseInt(s.referOut)||0,m=parseInt(s.discharge)||0,b=parseInt(s.dead)||0,g=parseInt(s.availableBeds)||0,u=parseInt(s.unavailable)||0;t[a].numberOfPatients=e,t[a].RN=r,t[a].PN=l,t[a].WC=i,t[a].NA=n,t[a].newAdmit=d,t[a].transferIn=c,t[a].referIn=o,t[a].transferOut=x,t[a].referOut=h,t[a].discharge=m,t[a].dead=b,t[a].availableBeds=g,t[a].unavailable=u,t[a].overallData=e}})}),Object.entries(t).forEach(([e,t])=>{a.totalPatients+=t.numberOfPatients,a.totalStaff+=t.RN+t.PN+t.WC+t.NA,a.byWard[e]=t.numberOfPatients,a.wards[e]=t}),{...a,totalRecords:e.length,totalAttendance:e.reduce((e,t)=>e+(parseInt(t.totalAttendance)||0),0),supervisorName:e.map(e=>e.supervisorName).filter(Boolean).join(", ")}},V={Ward6:"bg-pink-100 hover:bg-pink-200",Ward7:"bg-blue-100 hover:bg-blue-200",Ward8:"bg-violet-100 hover:bg-violet-200",Ward9:"bg-green-100 hover:bg-green-200",WardGI:"bg-yellow-100 hover:bg-yellow-200",Ward10B:"bg-sky-100 hover:bg-sky-200",Ward11:"bg-red-100 hover:bg-red-200",Ward12:"bg-cyan-100 hover:bg-cyan-200",ICU:"bg-indigo-100 hover:bg-indigo-200",CCU:"bg-orange-100 hover:bg-orange-200",LR:"bg-emerald-100 hover:bg-emerald-200",NSY:"bg-rose-100 hover:bg-rose-200"},H={background:["rgba(252, 231, 243, 0.8)","rgba(219, 234, 254, 0.8)","rgba(237, 233, 254, 0.8)","rgba(220, 252, 231, 0.8)","rgba(254, 249, 195, 0.8)","rgba(224, 242, 254, 0.8)","rgba(254, 226, 226, 0.8)","rgba(207, 250, 254, 0.8)","rgba(224, 231, 255, 0.8)","rgba(255, 237, 213, 0.8)","rgba(209, 250, 229, 0.8)","rgba(255, 228, 230, 0.8)"],border:["rgb(252, 231, 243)","rgb(219, 234, 254)","rgb(237, 233, 254)","rgb(220, 252, 231)","rgb(254, 249, 195)","rgb(224, 242, 254)","rgb(254, 226, 226)","rgb(207, 250, 254)","rgb(224, 231, 255)","rgb(255, 237, 213)","rgb(209, 250, 229)","rgb(255, 228, 230)"]},J=["Ward6","Ward7","Ward8","Ward9","WardGI","Ward10B","Ward11","Ward12","ICU","CCU","LR","NSY"],q=(0,r.useMemo)(()=>{if(!y?.wards||0===Object.keys(y.wards).length)return{pie:null,bar:null};let e=O?[O]:J.filter(e=>y.wards[e]);if(0===e.length)return{pie:null,bar:null};let t=e.map(e=>y.wards[e]?.availableBeds||0),a=e.map(e=>y.wards[e]?.overallData||0),s=a.reduce((e,t)=>e+t,0);return{pie:{labels:e,datasets:[{data:t,backgroundColor:O?[H.background[J.indexOf(O)]]:H.background.slice(0,e.length),borderColor:O?[H.border[J.indexOf(O)]]:H.border.slice(0,e.length),borderWidth:1}]},bar:{labels:O?[O]:[...e,"Total"],datasets:[{label:"Overall Data",data:O?a:[...a,s],backgroundColor:O?[H.background[J.indexOf(O)]]:[...H.background.slice(0,e.length),"rgba(75, 192, 192, 0.8)"],borderColor:O?[H.border[J.indexOf(O)]]:[...H.border.slice(0,e.length),"rgb(75, 192, 192)"],borderWidth:1}]}}},[y,J,O]),Z=e=>{let t=e.getDate(),a=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"][e.getMonth()],s=e.getFullYear()+543;return`${t} ${a} ${s}`};return t?(0,s.jsx)(c,{}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[z&&(0,s.jsx)(o.A,{}),(0,s.jsxs)("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 bg-white rounded-xl shadow-sm p-6",children:[(0,s.jsx)("div",{className:"w-full md:w-3/4",children:(0,s.jsx)(h.A,{selectedDate:I,onDateSelect:F,datesWithData:B,showCalendar:M,setShowCalendar:R,thaiDate:A,variant:"dashboard"})}),(0,s.jsx)("div",{className:"w-full md:w-1/4 flex justify-center md:justify-end",children:(0,s.jsx)("div",{className:"inline-flex rounded-md shadow-sm",children:["all","07:00-19:00","19:00-07:00"].map((e,t)=>(0,s.jsx)("button",{onClick:()=>f(t=>({...t,shift:e})),className:`
                                                px-4 py-2 text-sm font-medium
                                                ${0===t?"rounded-l-md":2===t?"rounded-r-md":""}
                                                ${p.shift===e?"bg-blue-500 text-white border-blue-600 z-10":"bg-white text-gray-700 border-gray-200 hover:bg-blue-50"}
                                                border ${0!==t?"border-l-0":""}
                                                transition-all duration-200
                                            `,children:"all"===e?"ทั้งหมด":"07:00-19:00"===e?"กะเช้า":"กะดึก"},e))})})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-10",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg cursor-pointer hover:shadow-xl transition-all duration-200 h-full flex flex-col justify-center",onClick:()=>{C(null),document.getElementById("detailed-ward-info")?.scrollIntoView({behavior:"smooth"})},children:(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white mb-3",children:"Patient Census"}),(0,s.jsx)("p",{className:"text-6xl font-bold text-white",children:y?.totalPatients||0})]})})}),(0,s.jsx)("div",{className:"lg:col-span-4",children:(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(y?.byWard||{}).map(([e,t])=>(0,s.jsxs)("div",{onClick:()=>{C(e),document.getElementById("detailed-ward-info")?.scrollIntoView({behavior:"smooth"})},className:`
                                        ${V[e]} p-4 rounded-xl shadow-sm 
                                        cursor-pointer transform transition-all duration-200 
                                        hover:scale-105 hover:shadow-md
                                        ${O===e?"ring-2 ring-blue-500":""}
                                    `,children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-800 text-center mb-2",children:e}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 text-center",children:t})]},e))})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex justify-between items-center",children:[(0,s.jsx)("span",{children:"Available Beds Distribution"}),O&&(0,s.jsxs)("button",{onClick:()=>C(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Show All"]})]}),(0,s.jsxs)("div",{className:"h-[450px]",children:[" ",q?.pie&&q.pie.labels&&q.pie.labels.length>0?(0,s.jsx)(d.Fq,{data:q.pie,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},title:{display:!0,text:"Available Beds by Ward",color:"black",font:{size:16}},tooltip:{callbacks:{label:e=>{let t=e.label||"",a=e.raw||0;return`${t}: ${a} beds available`}}}},onClick:(e,t)=>{t&&t.length>0&&C(q.pie.labels[t[0].index])},elements:{arc:{cursor:"pointer"}}}}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"No data available"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex justify-between items-center",children:[(0,s.jsx)("span",{children:"Overall Data by Ward"}),O&&(0,s.jsxs)("button",{onClick:()=>C(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Show All"]})]}),(0,s.jsxs)("div",{className:"h-[450px]",children:[" ",q?.bar&&q.bar.labels&&q.bar.labels.length>0?(0,s.jsx)(d.yP,{data:q.bar,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Overall Data by Ward",color:"black",font:{size:16}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Patients"}}},onClick:(e,t)=>{if(t&&t.length>0){let e=q.bar.labels[t[0].index];"Total"===e?C(null):C(e)}},elements:{bar:{cursor:"pointer"}}}}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"No data available"})]})]})]}),(0,s.jsxs)("div",{id:"detailed-ward-info",className:"bg-white rounded-xl shadow-sm p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:O?`${O} Information`:"Detailed Ward Information"}),(0,s.jsxs)("div",{className:"hidden md:block",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsx)("div",{className:"inline-block min-w-full",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gradient-to-r from-blue-50 to-blue-100",children:[(0,s.jsx)("th",{className:"sticky left-0 bg-gradient-to-r from-blue-50 to-blue-100 p-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ward"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Census"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"RN"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"PN"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"WC"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"New"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"T-In"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"R-In"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"T-Out"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"R-Out"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"D/C"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Dead"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider bg-blue-100",children:"Total"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Avail"}),(0,s.jsx)("th",{className:"p-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Unavail"})]})}),(0,s.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[Object.entries(y?.byWard||{}).filter(([e])=>!O||e===O).map(([e,t],a)=>{let r=y?.wards?.[e]||{};return(0,s.jsxs)("tr",{className:`${a%2==0?"bg-white":"bg-gray-50"} hover:bg-blue-50`,children:[(0,s.jsx)("td",{className:"sticky left-0 p-3 text-xs font-medium text-gray-900 text-center whitespace-nowrap bg-inherit",children:e}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.numberOfPatients||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.RN||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.PN||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.WC||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.newAdmit||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.transferIn||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.referIn||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.transferOut||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.referOut||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.discharge||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.dead||0}),(0,s.jsx)("td",{className:"p-3 text-xs font-medium text-gray-900 text-center whitespace-nowrap bg-blue-50",children:r.overallData||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.availableBeds||0}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:r.unavailable||0})]},e)}),(0,s.jsxs)("tr",{className:"bg-blue-100 font-semibold",children:[(0,s.jsx)("td",{className:"sticky left-0 p-3 text-xs font-medium text-gray-900 text-center whitespace-nowrap bg-blue-100",children:"Total"}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.numberOfPatients||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.RN||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.PN||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.WC||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.newAdmit||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.transferIn||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.referIn||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.transferOut||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.referOut||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.discharge||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.dead||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs font-medium text-gray-900 text-center whitespace-nowrap bg-blue-200",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.overallData||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.availableBeds||0),0)}),(0,s.jsx)("td",{className:"p-3 text-xs text-gray-800 text-center whitespace-nowrap",children:Object.values(y?.wards||{}).reduce((e,t)=>e+(t.unavailable||0),0)})]})]})]})})}),(0,s.jsx)("div",{className:"mt-4 text-center text-sm text-gray-500",children:"← Scroll horizontally to view more →"})]}),(0,s.jsx)("div",{className:"md:hidden space-y-4",children:Object.entries(y?.byWard||{}).filter(([e])=>!O||e===O).map(([e])=>{let t=y?.wards?.[e]||{};return(0,s.jsxs)("div",{className:`
                                            ${V[e]} rounded-xl p-5 shadow-sm
                                            hover:shadow-md transition-all duration-200
                                        `,children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:e}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Census"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:t.numberOfPatients||0})]}),(0,s.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:t.overallData||0})]}),(0,s.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Available"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:t.availableBeds||0})]}),(0,s.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Staff"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:(t.RN||0)+(t.PN||0)+(t.WC||0)})]})]})]},e)})})]}),O&&(0,s.jsx)("div",{className:"flex justify-center mt-8",children:(0,s.jsx)("button",{onClick:()=>C(null),className:"   px-6 py-3 bg-blue-500 text-white rounded-lg   hover:bg-blue-600 focus:outline-none focus:ring-2    focus:ring-offset-2 focus:ring-blue-500   shadow-sm hover:shadow-md transition-all duration-200   font-medium   ",children:"แสดง Ward"})}),$&&(0,s.jsx)(({message:e,type:t,onClose:a})=>(0,s.jsx)("div",{className:`
                fixed top-4 right-4 z-[60] p-4 rounded-lg shadow-lg
                ${"warning"===t?"bg-yellow-50 text-yellow-800":"bg-blue-50 text-blue-800"}
                transition-all duration-300 ease-in-out
            `,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["warning"===t?(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 000 2v3a1 1 001 1h1a1 1 100-2v-3a1 1 00-1-1H9z",clipRule:"evenodd"})}),(0,s.jsx)("span",{className:"font-medium",children:e}),(0,s.jsx)("button",{onClick:a,className:"ml-2 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),{...$,onClose:()=>_(null)})]})]})}}};