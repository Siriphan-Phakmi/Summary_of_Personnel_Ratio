"use strict";exports.id=226,exports.ids=[226],exports.modules={3142:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(5512),l=a(8009),r=a(9334),n=a(2780);function d({children:e,requiredRole:t=null}){let{user:a,loading:d,isAuthenticated:i}=(0,n.A)();(0,r.useRouter)();let[o,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(!0),[g,h]=(0,l.useState)(!1);return(0,s.jsx)("div",{className:"min-h-screen"})}a(3557)},2575:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(5512),l=a(8009),r=a(3518),n=a(9355),d=a(9365);let i=({selectedDate:e,onDateSelect:t,onClickOutside:a,datesWithData:i=[],variant:o="form"})=>{let c;let[u,m]=(0,l.useState)(e||new Date),[g,h]=(0,l.useState)(e||new Date),x=(0,l.useRef)(null);(0,l.useEffect)(()=>{if("form"===o){let e=new Date;h(e),m(e)}},[o]),(0,l.useEffect)(()=>{e&&(m(e),"form"!==o&&h(e))},[e,o]),(0,l.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&a&&a()},t=e=>{e.preventDefault(),e.stopPropagation()},s=window.innerWidth-document.documentElement.clientWidth,l={overflow:window.getComputedStyle(document.body).overflow,paddingRight:window.getComputedStyle(document.body).paddingRight};return document.addEventListener("mousedown",e),document.addEventListener("wheel",t,{passive:!1}),document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("scroll",t,{passive:!1}),document.body.style.overflow="hidden",document.body.style.paddingRight=`${s}px`,()=>{document.removeEventListener("mousedown",e),document.removeEventListener("wheel",t),document.removeEventListener("touchmove",t),document.removeEventListener("scroll",t),document.body.style.overflow=l.overflow,document.body.style.paddingRight=l.paddingRight}},[a]);let v=(0,r.S2)(),p=new Date().getFullYear(),f=(0,r.RB)(p),b=(e,s)=>{if(!s)return;let l=new Date(g.getFullYear(),g.getMonth(),e);m(l),t(l),a&&a()};new Date().setHours(0,0,0,0);let w=e=>{let t=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0],a=i.find(e=>e.date===t);return a?{hasData:!0,isComplete:a.isComplete,shifts:a.shifts}:{hasData:!1,isComplete:!1,shifts:[]}},j=t=>{let{hasData:a,isComplete:s,shifts:l}=w(t),r=t.toDateString()===new Date().toDateString(),n=e&&t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear(),d="hover:bg-gray-100",i="text-gray-700",o="";return r&&(d="bg-[#0ab4ab]",i="text-white"),a&&(s?(d="bg-[#0ab4ab]/10 hover:bg-[#0ab4ab]/20",o="absolute top-1 right-1 w-1.5 h-1.5 rounded-full bg-[#0ab4ab]"):(d="bg-orange-100 hover:bg-orange-200",o="absolute top-1 right-1 w-1.5 h-1.5 rounded-full bg-orange-500")),n&&!r&&(d+=" ring-2 ring-[#0ab4ab]"),!(t<new Date(new Date().setHours(0,0,0,0)))||r||n||(i="text-gray-400"),{cellClass:"p-1 text-center",dayClass:`relative w-10 h-10 flex items-center justify-center rounded-full transition-all duration-200 ${d} ${i} font-medium cursor-pointer`,dotClass:o}};return(0,s.jsx)("div",{ref:x,className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 z-[9999]",onTouchMove:e=>e.preventDefault(),onScroll:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("div",{className:"text-lg font-medium mb-2",children:"เลือกวันที่"}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["วันที่ปัจจุบัน: ",(c=new Date,(0,n.GP)(c,"dd MMMM yyyy",{locale:d.th}))]})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4 mb-4",children:[(0,s.jsx)("select",{value:g.getMonth(),onChange:e=>{let t=new Date(g);if(t.setMonth(parseInt(e.target.value)),h(t),"form"===o){let e=new Date;t.setDate(e.getDate()),h(t)}},className:"px-3 py-1 border rounded-lg text-gray-700",children:v.map((e,t)=>(0,s.jsx)("option",{value:t,children:e},e))}),(0,s.jsx)("select",{value:g.getFullYear(),onChange:e=>{let t=new Date(g);if(t.setFullYear(parseInt(e.target.value)),h(t),"form"===o){let e=new Date;t.setDate(e.getDate()),h(t)}},className:"px-3 py-1 border rounded-lg text-gray-700",children:f.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center",children:["อา","จ","อ","พ","พฤ","ศ","ส"].map(e=>(0,s.jsx)("div",{className:"text-sm font-medium text-gray-600",children:e},e))}),(0,s.jsx)("table",{className:"w-full",children:(0,s.jsx)("tbody",{children:(()=>{let e=g.getFullYear(),t=g.getMonth(),a=new Date(e,t,1),l=new Date(e,t+1,0).getDate(),r=a.getDay(),n=new Date(e,t,0).getDate(),d=[],i=[];for(let a=0;a<r;a++){let l=n-r+a+1,{cellClass:d,dayClass:o,dotClass:c}=j(new Date(e,t-1,l));i.push((0,s.jsx)("td",{className:d,children:(0,s.jsxs)("div",{onClick:()=>b(l,!1),className:`${o} opacity-50`,children:[l,c&&(0,s.jsx)("div",{className:c})]})},`prev-${l}`))}for(let a=1;a<=l;a++){let{cellClass:l,dayClass:r,dotClass:n}=j(new Date(e,t,a));i.push((0,s.jsx)("td",{className:l,children:(0,s.jsxs)("div",{onClick:()=>b(a,!0),className:r,children:[a,n&&(0,s.jsx)("div",{className:n})]})},a)),7===i.length&&(d.push((0,s.jsx)("tr",{children:i},`week-${d.length}`)),i=[])}if(i.length>0){let a=1;for(;i.length<7;){let{cellClass:l,dayClass:r,dotClass:n}=j(new Date(e,t+1,a));i.push((0,s.jsx)("td",{className:l,children:(0,s.jsxs)("div",{onClick:()=>b(a,!1),className:`${r} opacity-50`,children:[a,n&&(0,s.jsx)("div",{className:n})]})},`next-${a}`)),a++}d.push((0,s.jsx)("tr",{children:i},`week-${d.length}`))}return d})()})}),(0,s.jsxs)("div",{className:"mt-4 flex justify-center gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#0ab4ab]"}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"วันที่ปัจจุบัน"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300"}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"บันทึกครบ 2 กะ"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-300"}),(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"บันทึกไม่ครบ"})]})]})]})})}},3557:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(5512);a(8009);var l=a(5103);let r=()=>(0,s.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-white via-blue-50 to-[#0ab4ab]/10 flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"bg-white/80 p-8 rounded-2xl shadow-xl backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"relative w-32 h-32 mx-auto mb-4",children:(0,s.jsx)(l.default,{src:"/images/BPK.jpg",alt:"BPK Loading",fill:!0,style:{objectFit:"contain"},className:"animate-pulse rounded-lg",priority:!0})}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0ab4ab] mb-3"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"กำลังโหลดข้อมูล..."}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"โปรดรอสักครู่"})]})]})})})},3518:(e,t,a)=>{a.d(t,{Lg:()=>l,Ol:()=>r,RB:()=>i,S2:()=>d,bU:()=>n,mI:()=>s});let s=e=>{if(!e)return"คุณยังไม่ได้เลือกวันที่";let t=new Date(e),a=t.getDate(),s=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"][t.getMonth()],l=t.getFullYear()+543;return`${a} ${s} ${l}`},l=()=>s(new Date),r=e=>{let t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},n=e=>{let t=new Date(e),a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${a}-${s}-${l}`},d=()=>["January","February","March","April","May","June","July","August","September","October","November","December"],i=e=>{let t=[];for(let e=2e3;e<=4e3;e++)t.push(e);return t}},6055:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(8077);let l=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};