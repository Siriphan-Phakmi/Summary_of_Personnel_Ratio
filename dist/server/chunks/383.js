"use strict";exports.id=383,exports.ids=[383],exports.modules={69:(e,t,s)=>{s.d(t,{h:()=>a});let a="v.2.3.3.2025"},5550:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(687),r=s(3210),l=s(9245),n=s(9510),i=s(988);let d=({selectedDate:e,onDateSelect:t,onClickOutside:s,datesWithData:d=[],variant:o="form"})=>{let c;let[m,u]=(0,r.useState)(e||new Date),[h,g]=(0,r.useState)(e||new Date),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{if("form"===o){let e=new Date;g(e),u(e)}},[o]),(0,r.useEffect)(()=>{e&&(u(e),"form"!==o&&g(e))},[e,o]),(0,r.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&s&&s()},t=e=>{e.preventDefault(),e.stopPropagation()},a=window.innerWidth-document.documentElement.clientWidth,r={overflow:window.getComputedStyle(document.body).overflow,paddingRight:window.getComputedStyle(document.body).paddingRight};return document.addEventListener("mousedown",e),document.addEventListener("wheel",t,{passive:!1}),document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("scroll",t,{passive:!1}),document.body.style.overflow="hidden",document.body.style.paddingRight=`${a}px`,()=>{document.removeEventListener("mousedown",e),document.removeEventListener("wheel",t),document.removeEventListener("touchmove",t),document.removeEventListener("scroll",t),document.body.style.overflow=r.overflow,document.body.style.paddingRight=r.paddingRight}},[s]);let v=(0,l.S2)(),f=new Date().getFullYear(),p=(0,l.RB)(f),b=(e,a)=>{if(!a)return;let r=new Date(h.getFullYear(),h.getMonth(),e);u(r),t(r),s&&s()};new Date().setHours(0,0,0,0);let j=e=>{let t=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0],s=d.find(e=>e.date===t);return s?{hasData:!0,isComplete:s.isComplete,shifts:s.shifts}:{hasData:!1,isComplete:!1,shifts:[]}},w=t=>{let{hasData:s,isComplete:a,shifts:r}=j(t),l=t.toDateString()===new Date().toDateString(),n=e&&t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear(),i="hover:bg-gray-100",d="text-gray-700",o="";return l&&(i="bg-[#0ab4ab]",d="text-white"),s&&(a?(i="bg-[#0ab4ab]/10 hover:bg-[#0ab4ab]/20",o="absolute top-1 right-1 w-1.5 h-1.5 rounded-full bg-[#0ab4ab]"):(i="bg-orange-100 hover:bg-orange-200",o="absolute top-1 right-1 w-1.5 h-1.5 rounded-full bg-orange-500")),n&&!l&&(i+=" ring-2 ring-[#0ab4ab]"),!(t<new Date(new Date().setHours(0,0,0,0)))||l||n||(d="text-gray-400"),{cellClass:"p-1 text-center",dayClass:`relative w-10 h-10 flex items-center justify-center rounded-full transition-all duration-200 ${i} ${d} font-medium cursor-pointer`,dotClass:o}};return(0,a.jsx)("div",{ref:x,className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 z-[9999]",onTouchMove:e=>e.preventDefault(),onScroll:e=>e.preventDefault(),children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("div",{className:"text-lg font-medium mb-2",children:"เลือกวันที่"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["วันที่ปัจจุบัน: ",(c=new Date,(0,n.GP)(c,"dd MMMM yyyy",{locale:i.th}))]})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 mb-4",children:[(0,a.jsx)("select",{value:h.getMonth(),onChange:e=>{let t=new Date(h);if(t.setMonth(parseInt(e.target.value)),g(t),"form"===o){let e=new Date;t.setDate(e.getDate()),g(t)}},className:"px-3 py-1 border rounded-lg text-gray-700",children:v.map((e,t)=>(0,a.jsx)("option",{value:t,children:e},e))}),(0,a.jsx)("select",{value:h.getFullYear(),onChange:e=>{let t=new Date(h);if(t.setFullYear(parseInt(e.target.value)),g(t),"form"===o){let e=new Date;t.setDate(e.getDate()),g(t)}},className:"px-3 py-1 border rounded-lg text-gray-700",children:p.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center",children:["อา","จ","อ","พ","พฤ","ศ","ส"].map(e=>(0,a.jsx)("div",{className:"text-sm font-medium text-gray-600",children:e},e))}),(0,a.jsx)("table",{className:"w-full",children:(0,a.jsx)("tbody",{children:(()=>{let e=h.getFullYear(),t=h.getMonth(),s=new Date(e,t,1),r=new Date(e,t+1,0).getDate(),l=s.getDay(),n=new Date(e,t,0).getDate(),i=[],d=[];for(let s=0;s<l;s++){let r=n-l+s+1,{cellClass:i,dayClass:o,dotClass:c}=w(new Date(e,t-1,r));d.push((0,a.jsx)("td",{className:i,children:(0,a.jsxs)("div",{onClick:()=>b(r,!1),className:`${o} opacity-50`,children:[r,c&&(0,a.jsx)("div",{className:c})]})},`prev-${r}`))}for(let s=1;s<=r;s++){let{cellClass:r,dayClass:l,dotClass:n}=w(new Date(e,t,s));d.push((0,a.jsx)("td",{className:r,children:(0,a.jsxs)("div",{onClick:()=>b(s,!0),className:l,children:[s,n&&(0,a.jsx)("div",{className:n})]})},s)),7===d.length&&(i.push((0,a.jsx)("tr",{children:d},`week-${i.length}`)),d=[])}if(d.length>0){let s=1;for(;d.length<7;){let{cellClass:r,dayClass:l,dotClass:n}=w(new Date(e,t+1,s));d.push((0,a.jsx)("td",{className:r,children:(0,a.jsxs)("div",{onClick:()=>b(s,!1),className:`${l} opacity-50`,children:[s,n&&(0,a.jsx)("div",{className:n})]})},`next-${s}`)),s++}i.push((0,a.jsx)("tr",{children:d},`week-${i.length}`))}return i})()})}),(0,a.jsxs)("div",{className:"mt-4 flex justify-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#0ab4ab]"}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:"วันที่ปัจจุบัน"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300"}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:"บันทึกครบ 2 กะ"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-300"}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:"บันทึกไม่ครบ"})]})]})]})})}},6006:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(687);s(3210);var r=s(474);let l=()=>(0,a.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-white via-blue-50 to-[#0ab4ab]/10 flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-white/80 p-8 rounded-2xl shadow-xl backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"relative w-32 h-32 mx-auto mb-4",children:(0,a.jsx)(r.default,{src:"/images/BPK.jpg",alt:"BPK Loading",fill:!0,style:{objectFit:"contain"},className:"animate-pulse rounded-lg",priority:!0})}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#0ab4ab] mb-3"}),(0,a.jsx)("p",{className:"text-gray-600 font-medium",children:"กำลังโหลดข้อมูล..."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"โปรดรอสักครู่"})]})]})})})},6509:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(687),r=s(3210),l=s(6189),n=s(4623);function i({children:e,requiredRole:t=null}){let{user:s,loading:i,isAuthenticated:d}=(0,n.A)();(0,l.useRouter)();let[o,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!0),[h,g]=(0,r.useState)(!1);return(0,a.jsx)("div",{className:"min-h-screen"})}s(6006)},9245:(e,t,s)=>{s.d(t,{Lg:()=>r,Ol:()=>l,RB:()=>d,S2:()=>i,bU:()=>n,mI:()=>a});let a=e=>{if(!e)return"คุณยังไม่ได้เลือกวันที่";let t=new Date(e),s=t.getDate(),a=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"][t.getMonth()],r=t.getFullYear()+543;return`${s} ${a} ${r}`},r=()=>a(new Date),l=e=>{let t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},n=e=>{let t=new Date(e),s=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${s}-${a}-${r}`},i=()=>["January","February","March","April","May","June","July","August","September","October","November","December"],d=e=>{let t=[];for(let e=2e3;e<=4e3;e++)t.push(e);return t}},9946:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(687),r=s(3210),l=s(6189),n=s(4623),i=s(6509),d=s(6006),o=s(69);function c({children:e,title:t,requiredRole:s="user",infoBox:c}){let{user:m,loading:u,isAuthenticated:h}=(0,n.A)(),g=(0,l.useRouter)(),[x,v]=(0,r.useState)(!1);return u?(0,a.jsx)(d.A,{}):h?x?(0,a.jsx)(i.A,{requiredRole:s,children:(0,a.jsxs)("div",{className:"min-h-screen pb-16 relative",children:[(0,a.jsxs)("main",{className:"container mx-auto px-4 pt-20",children:[t&&(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:t}),c&&(0,a.jsx)("div",{className:"mb-6",children:c}),e]}),(0,a.jsx)("div",{className:"fixed bottom-4 right-4 text-sm text-gray-500",children:o.h})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("div",{className:"max-w-md w-full p-6 bg-white rounded-lg shadow-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("svg",{className:"mx-auto h-16 w-16 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,a.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"ไม่มีสิทธิ์เข้าถึง"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"คุณไม่มีสิทธิ์เพียงพอในการเข้าถึงหน้านี้ กรุณาติดต่อผู้ดูแลระบบหากคุณเชื่อว่านี่เป็นข้อผิดพลาด"}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>g.push("/"),children:"กลับไปยังหน้าหลัก"})})]})})}):null}s(4788)}};