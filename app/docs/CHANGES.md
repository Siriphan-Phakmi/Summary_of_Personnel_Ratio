# บันทึกการเปลี่ยนแปลงและงานที่ต้องทำต่อ

## การเปลี่ยนแปลงที่ดำเนินการแล้ว (พฤษภาคม 2024)

### การจัดโครงสร้างไฟล์ใหม่

- [x] สร้างโครงสร้างโฟลเดอร์ใหม่ตามแนวทาง Feature-based organization
- [x] ย้ายไฟล์จาก `features/census/dashboard` ไปยัง `features/dashboard`
- [x] ย้ายไฟล์จาก `features/census/forms` ไปยัง `features/ward-form`
- [x] ย้ายไฟล์จาก `features/census/approval` ไปยัง `features/approval`
- [x] ย้ายไฟล์จาก `features/census/api` ไปยัง `features/dashboard/api`
- [x] ย้ายเอกสารสำคัญไปยัง `app/docs` เพื่อให้ง่ายต่อการค้นหา

### การจัดการเอกสาร

- [x] สร้างไฟล์ `RESTRUCTURING.md` เพื่ออธิบายการเปลี่ยนแปลงโครงสร้าง
- [x] อัปเดต `README.md` เพื่อสะท้อนโครงสร้างใหม่
- [x] ย้ายคู่มือต่างๆ เช่น `FIRESTORE_INDEXES.md`, `TASKS.md` ไปยัง `app/docs`
- [x] ลบไฟล์ซ้ำซ้อน: `app/docs/firestore.indexes.json` และ `app/docs/firestore.rules`

### การปรับปรุงเส้นทางการนำเข้า (Import Paths)

- [x] แก้ไขการอิมพอร์ตในหน้า `census/form/page.tsx` ให้ใช้ `@/app/features/ward-form/DailyCensusForm`
- [x] แก้ไขการอิมพอร์ตในหน้า `census/dashboard/page.tsx` ให้ใช้ `@/app/features/dashboard/DashboardPage`
- [x] แก้ไขการอิมพอร์ตในหน้า `census/approval/page.tsx` ให้ใช้ `@/app/features/approval/ApprovalPage`
- [x] ลบไฟล์ `task-list.mdc` ที่ไม่มีการอ้างอิงในโค้ด

### การอัปเดตไฟล์ README.md

- [x] อัปเดตส่วน "Project Status" ในไฟล์ README.md เพื่อแสดงสถานะปัจจุบันของโปรเจค (อัปเดต 2024-05-10) 
- [x] เพิ่มรายการที่เสร็จสมบูรณ์แล้ว เช่น การปรับโครงสร้างโค้ดตามฟีเจอร์
- [x] อัปเดตรายการที่กำลังดำเนินการและกำลังจะทำในอนาคต
- [x] เพิ่มหัวข้อ "Developer Notes" เพื่อแนะนำไฟล์เอกสารสำหรับนักพัฒนา

### การปรับปรุงกฎความปลอดภัยใน Firestore

- [x] เพิ่มฟังก์ชัน `isUpdatingAllowedFields()` ใน firestore.rules เพื่อตรวจสอบฟิลด์ที่อนุญาตให้ผู้ใช้อัปเดตได้
- [x] เพิ่มฟังก์ชัน `canWriteWardForm()` เพื่อตรวจสอบสิทธิ์ในการเขียนฟอร์มของวอร์ด
- [x] ปรับปรุงกฎการเข้าถึงข้อมูลใน collection wardForms ให้รองรับกรณีที่แบบฟอร์มถูกปฏิเสธ
- [x] กำหนดให้ไม่สามารถแก้ไขหรือลบบันทึกใน collection systemLogs

### การแก้ไขล่าสุด (กรกฎาคม 2024)

- [x] **แก้ไขปัญหา Linter Error ในไฟล์ DashboardPage.tsx**:
  - [x] แก้ไขการเข้าถึง property 'available' และ 'unavailable' บน object summary ที่มี type เป็น DailySummary
  - [x] ปรับเปลี่ยนจาก `summary.availableBeds ?? summary.available ?? 0` เป็น `summary.availableBeds ?? 0`
  - [x] ปรับเปลี่ยนจาก `summary.unavailableBeds ?? summary.unavailable ?? 0` เป็น `summary.unavailableBeds ?? 0`
  - [x] ลบ comment ที่ไม่จำเป็นออกเพื่อทำให้โค้ดสะอาดขึ้น
  - [x] ปรับปรุงการใช้คำศัพท์ภาษาไทยจาก "อัพเดท" เป็น "อัพเดต" ให้ถูกต้อง

## งานที่ต้องทำต่อ

### การปรับปรุงเส้นทางการนำเข้า (Import Paths)

การย้ายไฟล์ไปยังตำแหน่งใหม่ทำให้ต้องปรับปรุงเส้นทางการนำเข้าใน components ต่างๆ จึงควรตรวจสอบและแก้ไขไฟล์ต่อไปนี้:

- [ ] ตรวจสอบและอัปเดตการอิมพอร์ตในโมดูลอื่นๆ ที่ยังอ้างอิง paths เก่า
- [x] หลังจากปรับการอิมพอร์ตทั้งหมดแล้ว ให้ลบโฟลเดอร์ซ้ำซ้อน `app/features/census`

### การตรวจสอบความสมบูรณ์

- [ ] ตรวจสอบว่าแอปพลิเคชันยังทำงานได้อย่างถูกต้องหลังการปรับโครงสร้าง
- [ ] ทดสอบการทำงานของระบบฟอร์ม การอนุมัติ และการแสดงผลแดชบอร์ด
- [ ] ตรวจสอบว่าไม่มีข้อผิดพลาดในการทำงานของ API

### การลบโค้ดซ้ำซ้อน

- [ ] กำจัดโค้ดที่ซ้ำซ้อนระหว่างโมดูลเก่าและใหม่
- [ ] รวมฟังก์ชันการทำงานที่ทำงานเหมือนกันเข้าด้วยกัน
- [ ] ปรับปรุงการใช้งานคอมโพเนนต์ให้มีประสิทธิภาพยิ่งขึ้น 

## การปรับปรุง Dashboard เพิ่มเติม (16 พฤษภาคม 2024)

- [x] **ปรับปรุงการแสดงผล Dark Mode และ Light Mode**:
    - [x] แก้ไขปัญหา CSS ใน `DashboardOverview.tsx` ที่ไม่รองรับ Dark Mode ทำให้ข้อความไม่แสดงผลอย่างถูกต้อง
    - [x] แก้ไขปุ่มเปลี่ยน Dark Mode/Light Mode ที่ซ้ำซ้อนกัน โดยลบปุ่มที่อยู่ใน `DashboardPage.tsx` และคงไว้เฉพาะปุ่มที่อยู่ใน `app/layout.tsx`
    - [x] ปรับปรุงสีของข้อความและองค์ประกอบต่างๆ ให้มองเห็นชัดเจนในทั้งโหมดปกติและโหมดมืด

- [x] **ปรับปรุงกราฟแท่งและกราฟวงกลม**:
    - [x] แก้ไขให้กราฟแท่งและกราฟวงกลมแสดงข้อมูลครบทั้ง 12 Ward/หน่วย ได้แก่ CCU, ICU, LR, NSY, Ward10B, Ward11, Ward12, Ward6, Ward7, Ward8, Ward9, WardGI
    - [x] ปรับปรุงการแสดงผลตัวเลขในกราฟวงกลมให้เป็นจำนวนเต็ม (ไม่มีทศนิยม) โดยใช้ `Math.round()` แทนการใช้ `.toFixed(1)`
    - [x] แก้ไขให้กราฟวงกลมแสดงข้อมูลแม้ว่าค่าจะเป็น 0
    - [x] ปรับปรุงการแสดงผลข้อความบนกราฟวงกลมและใน Legend ให้มองเห็นชัดเจนในโหมดมืด

- [x] **การแสดงผลตาม Role ของ User**:
    - [x] ปรับปรุงให้ Dashboard แสดงเฉพาะข้อมูลของแผนกที่ User มีสิทธิ์เข้าถึง โดย Admin, Super Admin และ Developer จะเห็นข้อมูลของทุก Ward
    - [x] ปรับปรุงการกรองข้อมูลตาราง "ข้อมูลรวมทุกแผนก" ให้แสดงเฉพาะข้อมูลของ Ward ที่ผู้ใช้มีสิทธิ์เข้าถึง
    - [x] เพิ่มตัวแปร `hasAdminAccess` ใน `DashboardPage.tsx` เพื่อตรวจสอบสิทธิ์ของผู้ใช้และแสดงผลข้อมูลตามสิทธิ์

- [ ] ปรับปรุงการแสดงผลและประสบการณ์ผู้ใช้บนอุปกรณ์มือถือ
  - [ ] ทดสอบการแสดงผลและการใช้งานบน iPad และ iPhone ให้ครบถ้วน
  - [ ] แก้ไขขนาดไอคอนและปุ่มบนอุปกรณ์มือถือให้เหมาะสม

## การปรับปรุงเพิ่มเติม (มิถุนายน 2567)

การปรับปรุงแก้ไขปัญหากราฟวงกลมสถานะเตียงไม่แสดงผลในหน้า Dashboard ดำเนินการเสร็จสิ้นแล้ว โดยมีรายละเอียดดังนี้:

### ปัญหาที่พบ
1. กราฟวงกลมสถานะเตียงไม่แสดงผลแม้จะมีข้อมูลใน Dashboard
2. ตัวเลขในกราฟวงกลมอ่านยาก ไม่มีกล่องหรือพื้นหลังที่ช่วยเน้นตัวเลข
3. ไม่แสดงข้อมูลของ Ward ที่มีค่าเป็น 0 หรือไม่มีข้อมูล
4. รูปแบบการแสดงผลไม่ตรงตามต้นแบบ (ต้องการให้แสดงตัวเลขในกล่องสี่เหลี่ยม)

### สิ่งที่ได้ดำเนินการ
1. **ปรับปรุงไฟล์ DashboardPage.tsx**
   - แก้ไขฟังก์ชัน `calculateBedSummary` ให้กำหนดค่าดัมมี่สำหรับ Ward ที่ไม่มีข้อมูล ทำให้แสดงผล Ward ทั้งหมดได้
   - เพิ่ม `useEffect` เพื่อเรียกใช้ฟังก์ชัน `calculateBedSummary` โดยอัตโนมัติเมื่อข้อมูล `summary` เปลี่ยนแปลง

2. **ปรับปรุงไฟล์ BedSummaryPieChart.tsx** (กรกฎาคม 2567)
   - ลบการใช้ข้อมูลดัมมี่ (defaultTotal และ defaultUnavailable) ที่ทำให้เข้าใจผิดว่ามีข้อมูลจริง
   - แก้ไขการแสดงผล Label ของกราฟวงกลมที่มีปัญหา text element ผิดตำแหน่ง
   - ปรับปรุงการคำนวณตำแหน่ง x, y ของ text ให้ถูกต้อง โดยใช้พารามิเตอร์ที่ส่งมาจาก recharts
   - เพิ่ม responsive design ให้กับกราฟวงกลม ปรับขนาดกราฟตามขนาดหน้าจอ
   - ปรับปรุง CustomTooltip และ renderLegend ให้แสดงข้อความที่เหมาะสมเมื่อไม่มีข้อมูล
   - เพิ่ม type annotation ให้กับ parameter เพื่อแก้ไข linter error

3. **ปรับปรุงการแสดงผลข้อมูล**
   - แก้ไขการแสดงตัวเลขให้เป็นจำนวนเต็ม โดยใช้ `Math.round()` แทนการใช้ `.toFixed(1)`
   - ปรับปรุงให้แสดงข้อมูลของทุก Ward แม้จะมีค่าเป็น 0 หรือไม่มีข้อมูล

### ผลลัพธ์ที่ได้
1. กราฟวงกลมแสดงข้อมูลเตียงว่างของทุก Ward อย่างถูกต้อง
2. ตัวเลขในกราฟวงกลมแสดงในกล่องสี่เหลี่ยมสีเข้มพร้อมตัวเลขสีขาว ทำให้อ่านง่าย
3. กราฟวงกลมแสดงเตียงว่างของทุก Ward ได้ครบถ้วน แม้จะมีค่าเป็น 0 หรือไม่มีข้อมูล
4. การแสดงผลกรณีไม่มีข้อมูลมีความชัดเจนมากขึ้น ไม่ทำให้ผู้ใช้เข้าใจผิด
5. กราฟวงกลมแสดงผลได้ดีบนทุกขนาดหน้าจอ ทั้งเดสก์ท็อปและมือถือ

### แก้ไขการแสดงผล Patient Census ตามแผนก (กรกฎาคม 2567)
- แก้ไขปัญหากราฟแท่ง Patient Census ไม่แสดงข้อมูลของแผนก CCU, ICU, LR, NSY, Ward10B, Ward11, Ward12, Ward6, Ward7, Ward8, Ward9, WardGI
- ปรับปรุง useMemo ของ wardCensusData ให้แสดงข้อมูลของทุกแผนกโดยไม่ต้องกรองตามสิทธิ์การเข้าถึงของผู้ใช้
- แก้ไขการส่งข้อมูลให้ EnhancedBarChart ให้แสดงข้อมูลทุกแผนกเสมอ ไม่ว่าผู้ใช้จะเป็นประเภทใด
- เพิ่มการสร้างข้อมูลเริ่มต้นสำหรับแผนกที่ไม่มีในระบบ โดยตั้งค่า patientCount, morningPatientCount และ nightPatientCount เป็น 0

### เอกสารที่เกี่ยวข้อง
- [DASHBOARD_FIX.md](./DASHBOARD_FIX.md) - รายละเอียดการแก้ไขเชิงเทคนิค
- [DASHBOARD_CHANGES_JUNE2567.md](./DASHBOARD_CHANGES_JUNE2567.md) - สรุปการเปลี่ยนแปลงในเดือนมิถุนายน 2567

## การปรับปรุงหน้า Approval (มิถุนายน 2024)

- [x] **เพิ่มความสามารถในการจำกัดจำนวนการแสดงผลข้อมูล**:
    - [x] แก้ไขไฟล์ `ApprovalPage.tsx` ให้รองรับการจำกัดจำนวนรายการที่แสดงในตาราง
    - [x] เพิ่มตัวเลือกจำนวนรายการที่ต้องการแสดง (20, 50, 100, 300, 500, 1000 รายการ)
    - [x] กำหนดให้แสดง 20 รายการเป็นค่าเริ่มต้น
    - [x] ใช้ `useMemo` สำหรับการคำนวณรายการที่จะแสดงเพื่อประสิทธิภาพที่ดีขึ้น
    - [x] เพิ่มส่วนแสดงข้อมูลสรุป "แสดง X จาก Y รายการ" ด้านล่างตาราง
    - [x] ปรับปรุง Layout ของฟิลเตอร์จาก 3 คอลัมน์เป็น 4 คอลัมน์เพื่อให้มีความสมดุลมากขึ้น 

## งานที่ต้องทำต่อ

### ปรับปรุงหน้า Dashboard (กรกฎาคม 2024)

- [ ] **แก้ไขปัญหาการแสดงผลบนมือถือ**:
  - [ ] ทดสอบการแสดงผลบน iPhone และ iPad ให้ครบถ้วน
  - [ ] ปรับขนาดกราฟและตารางให้เหมาะสมกับหน้าจอขนาดเล็ก
  - [ ] ปรับปรุงการแสดงผลกราฟวงกลมบนหน้าจอโมบาย

- [ ] **เพิ่มความสามารถในการ Export ข้อมูล**:
  - [ ] เพิ่มปุ่ม Export ข้อมูลเป็น Excel/PDF สำหรับตารางข้อมูลรวม
  - [ ] เพิ่มความสามารถในการ Export กราฟเป็นรูปภาพ

- [ ] **ปรับปรุงประสิทธิภาพการโหลดข้อมูล**:
  - [ ] เพิ่ม Skeleton Loading State ระหว่างการโหลดข้อมูล
  - [ ] ลดจำนวนการ Re-render ที่ไม่จำเป็น
  - [ ] ปรับปรุงประสิทธิภาพการแสดงผลของกราฟขนาดใหญ่

### การปรับปรุงระบบแจ้งเตือน (กรกฎาคม 2024)

- [ ] **พัฒนาระบบแจ้งเตือนเพิ่มเติม**:
  - [ ] แจ้งเตือนเมื่อมีการอนุมัติหรือปฏิเสธแบบฟอร์ม
  - [ ] แจ้งเตือนเมื่อถึงเวลาต้องกรอกข้อมูลรายวัน
  - [ ] ให้ผู้ใช้สามารถกำหนดประเภทการแจ้งเตือนที่ต้องการได้

### การพัฒนาระบบรายงาน (สิงหาคม 2024)

- [ ] **เพิ่มรายงานสรุปประจำเดือน**:
  - [ ] พัฒนาหน้ารายงานสรุปที่แสดงแนวโน้มต่างๆ ตามช่วงเวลา
  - [ ] เพิ่มความสามารถในการสร้างรายงานแบบกำหนดเองได้
  - [ ] เพิ่มกราฟแสดงแนวโน้มที่ซับซ้อนขึ้น เช่น กราฟเปรียบเทียบตามไตรมาส

- [ ] **พัฒนาระบบ Export รายงาน**:
  - [ ] สร้างระบบ Export รายงานอัตโนมัติรายเดือน
  - [ ] พัฒนาการส่งรายงานทาง Email อัตโนมัติ
  - [ ] เพิ่มรูปแบบการ Export หลากหลาย (PDF, Excel, CSV) 

### การแก้ไขล่าสุด (พฤษภาคม 2568)
- [x] แก้ไขคอมโพเนนต์ `WardCensusButtons.tsx` ไม่ให้แสดงปุ่มเลือก Ward6 ตามข้อกำหนดใหม่ (การกรอง Ward6 ออกจากปุ่มเลือก) 

### การแก้ไขล่าสุด (กรกฎาคม 2567)

- [x] **ลบระบบ "Database Management"**:
  - [x] ลบโฟลเดอร์ `app/admin/database` และไฟล์ที่เกี่ยวข้องทั้งหมด
  - [x] แก้ไขไฟล์ `app/admin/page.tsx` โดยลบลิงก์ "Database Management" ออก
  - [x] แก้ไขไฟล์ `app/admin/page.tsx` เพื่อให้ผู้ใช้ `role: 'developer'` ถูกเปลี่ยนเส้นทางอัตโนมัติไปยัง `/admin/dev-tools` หลังจาก Login
- [x] **ยืนยันฟังก์ชัน "dev-tools"**: 
  - [x] ตรวจสอบและยืนยันว่า `app/admin/dev-tools/page.tsx` และ API endpoint `/api/dev/generate-mock-data` มีฟังก์ชันการสร้างข้อมูลจำลอง WardForm และอัปเดต Patient Census ตามที่ต้องการครบถ้วน
  - [x] เปลี่ยนข้อความเมนู "dev-tools" เป็น "Dev-Tools"
  - [x] แก้ไขให้ข้อมูลที่ถูก Generate ด้วย Mock Data Generator แสดงในหน้า Dashboard ได้ โดยแก้ไขฟังก์ชัน `getApprovedSummariesByDateRange` ให้ตรวจสอบและสร้าง DailySummary จากข้อมูล WardForm ที่ถูก Generate ทั้งกะเช้าและกะดึก

# บันทึกการเปลี่ยนแปลง (Change Log)

## มิถุนายน 2567
- **รีแฟคเตอร์**: ปรับโครงสร้างไฟล์ DashboardPage.tsx โดยแยกฟังก์ชันออกเป็นไฟล์ย่อยตามหน้าที่การทำงาน
  - สร้างโฟลเดอร์ `app/features/dashboard/services` และ `app/features/dashboard/utils`
  - ย้ายฟังก์ชัน Utility ไปยัง `utils/loggingUtils.ts`
  - ย้ายฟังก์ชันดึงข้อมูลต่างๆ ไปยังไฟล์ใน `services/`
  - ปรับให้ DashboardPage.tsx import จากไฟล์ใหม่
  - ดูรายละเอียดเพิ่มเติมได้ที่ [RESTRUCTURING.md](./RESTRUCTURING.md)

## พฤษภาคม 2567
- **แก้ไข**: ปรับปรุงฟังก์ชัน `handleSelectWard` ใน DashboardPage.tsx ให้เรียกใช้ `fetchWardForms` แทน `getWardFormsByDateAndWard`
- **แก้ไข**: ปรับปรุงการใช้ Type Assertion ใน `morningForm` และ `nightForm` เพื่อป้องกัน Type Error
- **แก้ไข**: ปรับปรุงฟังก์ชัน `logError` ให้รับพารามิเตอร์ครบถ้วนตามที่กำหนด
- **แก้ไข**: ปรับปรุงฟังก์ชัน `logInfo` ให้มีมาตรฐานเดียวกันกับ `logError`

## เมษายน 2567
- **เพิ่ม**: ฟังก์ชันการกรองข้อมูลตามช่วงวันที่ใน Dashboard
- **ปรับปรุง**: เพิ่มความเสถียรในการแสดงผลข้อมูลแผนก
- **แก้ไข**: ปัญหาการคำนวณผลรวมจำนวนผู้ป่วย

## มีนาคม 2567
- **เพิ่ม**: ระบบการแสดงสถานะการบันทึกข้อมูลในปฏิทิน
- **ปรับปรุง**: การแสดงผลข้อมูลเปรียบเทียบกะเช้าและกะดึก
- **แก้ไข**: ปัญหาการโหลดข้อมูลซ้ำเมื่อเปลี่ยนวันที่

## พฤษภาคม 2568
- **Refactor DashboardPage.tsx**: ย้ายฟังก์ชัน Helpers และ Data Fetching จำนวนมาก (เช่น `getDailySummary`, `fetchPatientTrends`, `fetchTotalStats` เป็นต้น) ไปยังไฟล์ Services และ Utils ใหม่ (`app/features/dashboard/services/*` และ `app/features/dashboard/utils/*`) เพื่อลดขนาดของไฟล์ `DashboardPage.tsx` จาก ~3200 บรรทัดเหลือ ~1000 บรรทัด
- **Fix Linter Errors**: แก้ไขข้อผิดพลาด `linter` ทั้งหมดที่เกิดขึ้นหลังจากการ Refactor โดยการแก้ไข `import` ที่ขาดหายไปและปรับ `type` ของข้อมูลให้ถูกต้อง
- **Data-flow Correction**: แก้ไขฟังก์ชัน `fetchTotalStats` ใน `summaryService.ts` ให้คืนค่าข้อมูลในโครงสร้างที่ `DashboardPage.tsx` ต้องการ เพื่อแก้ไขปัญหาสุดท้ายและทำให้โค้ดมีความสอดคล้องกัน

**เหตุผลในการแก้ไข:**
- **Improve Readability & Maintainability**: การแยกโค้ดออกเป็นส่วนๆ ทำให้ง่ายต่อการอ่าน, ทำความเข้าใจ และบำรุงรักษาในอนาคต
- **Single Responsibility Principle**: คอมโพเนนต์ `DashboardPage` ควรทำหน้าที่แสดงผล UI เป็นหลัก ส่วนการจัดการข้อมูลควรเป็นหน้าที่ของ Services
- **Fix Bugs**: แก้ไขข้อผิดพลาดที่เกิดขึ้นเพื่อให้แอปพลิเคชันทำงานได้อย่างถูกต้อง

**ผลกระทบที่อาจเกิดขึ้น:**
- ไม่มีผลกระทบเชิงลบที่คาดการณ์ไว้ การแก้ไขครั้งนี้เป็นการปรับปรุงโครงสร้างภายใน ไม่ได้เปลี่ยนแปลงการทำงานภายนอก

## สรุปการทำงานวันนี้ (กรกฎาคม 2024)

### การปรับโครงสร้าง TypeScript Interfaces
- **ปัญหา**: พบข้อผิดพลาด TypeScript ที่เกี่ยวข้องกับ `isolatedModules` และ `export type` รวมถึงโครงสร้าง interface ที่กระจัดกระจายและซ้ำซ้อนในส่วนของ Dashboard components.
- **การแก้ไข**:
    - [x] **จัดระเบียบ Interface**: แยก Interface ออกเป็นไฟล์เฉพาะทางเพื่อความเป็นระเบียบและง่ายต่อการจัดการ
        - [x] สร้าง `app/features/dashboard/components/types/interface-types.ts` สำหรับเก็บ shared data interfaces (เช่น `WardSummary`, `PatientTrend`).
        - [x] สร้าง `app/features/dashboard/components/types/componentInterfaces.ts` สำหรับเก็บ props interfaces ของคอมโพเนนท์โดยเฉพาะ (เช่น `EnhancedBarChartProps`, `BedSummaryPieChartProps`).
    - [x] **แก้ไขการ Export**: ปรับปรุงไฟล์ `app/features/dashboard/components/types/index.ts` ให้ทำการ `export type` จากไฟล์ใหม่ทั้งหมด เพื่อแก้ปัญหา `isolatedModules` และทำให้การ import มีประสิทธิภาพ
    - [x] **ลดความซ้ำซ้อน**: รวม interface ที่ซ้ำซ้อนกันและจัดระเบียบให้ง่ายต่อการบำรุงรักษา
- **ผลลัพธ์**:
    - แก้ไขข้อผิดพลาดของ TypeScript ได้สำเร็จ
    - โครงสร้างโค้ดในส่วนของ types มีความชัดเจนและเป็นระเบียบมากขึ้น
    - ลดความซ้ำซ้อนของโค้ดและเพิ่มความสามารถในการบำรุงรักษาในระยะยาว